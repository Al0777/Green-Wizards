{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\src\\\\components\\\\CreateChildScreen.js\";\nimport React from \"react\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport { HuePicker } from \"react-color\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport withLanguage from \"./LanguageContext\";\nimport Texts from \"../Constants/Texts\";\nimport Log from \"./Log\";\nvar styles = {\n  checkbox: {\n    \"&$checked\": {\n      color: \"#00838F\"\n    }\n  },\n  checked: {}\n};\n\nvar dataURLtoFile = function dataURLtoFile(dataurl, filename) {\n  var arr = dataurl.split(\",\");\n  var mime = arr[0].match(/:(.*?);/)[1];\n  var bstr = atob(arr[1]);\n  var n = bstr.length;\n  var u8arr = new Uint8Array(n);\n\n  while (n) {\n    n -= 1;\n    u8arr[n] = bstr.charCodeAt(n);\n  }\n\n  return new File([u8arr], filename, {\n    type: mime\n  });\n};\n\nvar CreateChildScreen = /*#__PURE__*/function (_React$Component) {\n  _inherits(CreateChildScreen, _React$Component);\n\n  var _super = _createSuper(CreateChildScreen);\n\n  function CreateChildScreen(props) {\n    var _this;\n\n    _classCallCheck(this, CreateChildScreen);\n\n    _this = _super.call(this, props);\n\n    _this.handleMessage = function (event) {\n      var data = JSON.parse(event.data);\n\n      if (data.action === \"fileUpload\") {\n        var image = \"data:image/png;base64, \".concat(data.value);\n\n        _this.setState({\n          image: image,\n          file: dataURLtoFile(image, \"photo.png\")\n        });\n      }\n    };\n\n    _this.handleCancel = function () {\n      var history = _this.props.history;\n      history.goBack();\n    };\n\n    _this.handleChange = function (event) {\n      var name = event.target.name;\n      var value = event.target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.validate = function () {\n      var language = _this.props.language;\n      var texts = Texts[language].createChildScreen;\n      var formLength = _this.formEl.length;\n\n      if (_this.formEl.checkValidity() === false) {\n        for (var i = 0; i < formLength; i += 1) {\n          var elem = _this.formEl[i];\n          var errorLabel = document.getElementById(\"\".concat(elem.name, \"Err\"));\n\n          if (errorLabel && elem.nodeName.toLowerCase() !== \"button\") {\n            if (!elem.validity.valid) {\n              if (elem.validity.customError) {\n                errorLabel.textContent = texts.acceptTermsErr;\n              } else if (elem.validity.valueMissing) {\n                errorLabel.textContent = texts.requiredErr;\n              }\n            } else {\n              errorLabel.textContent = \"\";\n            }\n          }\n        }\n\n        return false;\n      }\n\n      for (var _i = 0; _i < formLength; _i += 1) {\n        var _elem = _this.formEl[_i];\n\n        var _errorLabel = document.getElementById(\"\".concat(_elem.name, \"Err\"));\n\n        if (_errorLabel && _elem.nodeName.toLowerCase() !== \"button\") {\n          _errorLabel.textContent = \"\";\n        }\n      }\n\n      return true;\n    };\n\n    _this.submitChanges = function () {\n      var _this$props = _this.props,\n          match = _this$props.match,\n          history = _this$props.history;\n      var userId = match.params.profileId;\n      var _this$state = _this.state,\n          given_name = _this$state.name,\n          family_name = _this$state.surname,\n          year = _this$state.year,\n          month = _this$state.month,\n          date = _this$state.date,\n          gender = _this$state.gender,\n          allergies = _this$state.allergies,\n          other_info = _this$state.other_info,\n          special_needs = _this$state.special_needs,\n          background = _this$state.background,\n          image = _this$state.image,\n          file = _this$state.file;\n      var bodyFormData = new FormData();\n\n      if (file !== undefined) {\n        bodyFormData.append(\"photo\", file);\n      } else {\n        bodyFormData.append(\"image\", image);\n      }\n\n      var birthdate = moment().set({\n        year: year,\n        month: month - 1,\n        date: date\n      });\n      bodyFormData.append(\"given_name\", given_name);\n      bodyFormData.append(\"family_name\", family_name);\n      bodyFormData.append(\"gender\", gender);\n      bodyFormData.append(\"background\", background);\n      bodyFormData.append(\"other_info\", other_info);\n      bodyFormData.append(\"special_needs\", special_needs);\n      bodyFormData.append(\"allergies\", allergies);\n      bodyFormData.append(\"birthdate\", birthdate);\n      axios.post(\"/api/users/\".concat(userId, \"/children\"), bodyFormData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(function (response) {\n        Log.info(response);\n        history.goBack();\n      }).catch(function (error) {\n        Log.error(error);\n        history.goBack();\n      });\n    };\n\n    _this.handleSave = function (event) {\n      event.preventDefault();\n\n      if (_this.validate()) {\n        _this.submitChanges();\n      }\n\n      _this.setState({\n        formIsValidated: true\n      });\n    };\n\n    _this.handleAdd = function () {\n      var history = _this.props.history;\n      var pathname = history.location.pathname;\n      history.push({\n        pathname: \"\".concat(pathname, \"/additional\"),\n        state: _objectSpread({}, _this.state)\n      });\n      return false;\n    };\n\n    _this.handleAcceptTerms = function () {\n      var acceptTerms = _this.state.acceptTerms;\n      var language = _this.props.language;\n      var elem = document.getElementById(\"acceptTermsCheckbox\");\n      elem.checked = !acceptTerms;\n\n      if (!acceptTerms) {\n        elem.setCustomValidity(\"\");\n      } else {\n        elem.setCustomValidity(Texts[language].createChildScreen.acceptTermsErr);\n      }\n\n      _this.setState({\n        acceptTerms: !acceptTerms\n      });\n    };\n\n    _this.handleColorChange = function (color) {\n      _this.setState({\n        background: color.hex\n      });\n    };\n\n    _this.handleImageChange = function (event) {\n      if (event.target.files && event.target.files[0]) {\n        var reader = new FileReader();\n        var file = event.target.files[0];\n\n        reader.onload = function (e) {\n          _this.setState({\n            image: e.target.result,\n            file: file\n          });\n        };\n\n        reader.readAsDataURL(event.target.files[0]);\n      }\n    };\n\n    _this.handleNativeImageChange = function () {\n      window.ReactNativeWebView.postMessage(JSON.stringify({\n        action: \"fileUpload\"\n      }));\n    };\n\n    var _history = _this.props.history;\n    var state = _history.location.state;\n\n    if (state !== undefined) {\n      _this.state = _objectSpread({}, state);\n    } else {\n      _this.state = {\n        name: \"\",\n        surname: \"\",\n        gender: \"unspecified\",\n        date: moment().date(),\n        month: moment().month() + 1,\n        year: moment().year(),\n        acceptTerms: false,\n        allergies: \"\",\n        special_needs: \"\",\n        other_info: \"\",\n        background: \"#00838F\",\n        acceptAdditionalTerms: false,\n        image: \"/images/profiles/child_default_photo.jpg\"\n      };\n    }\n\n    return _this;\n  }\n\n  _createClass(CreateChildScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var language = this.props.language;\n      var acceptTerms = this.state.acceptTerms;\n      document.addEventListener(\"message\", this.handleMessage, false);\n\n      if (!acceptTerms) {\n        document.getElementById(\"acceptTermsCheckbox\").setCustomValidity(Texts[language].createChildScreen.acceptTermsErr);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"message\", this.handleMessage, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          classes = _this$props2.classes,\n          language = _this$props2.language,\n          history = _this$props2.history;\n      var texts = Texts[language].createChildScreen;\n      var _this$state2 = this.state,\n          formIsValidated = _this$state2.formIsValidated,\n          month = _this$state2.month,\n          year = _this$state2.year,\n          name = _this$state2.name,\n          surname = _this$state2.surname,\n          gender = _this$state2.gender,\n          date = _this$state2.date,\n          acceptAdditionalTerms = _this$state2.acceptAdditionalTerms,\n          acceptTerms = _this$state2.acceptTerms,\n          background = _this$state2.background,\n          image = _this$state2.image;\n      var formClass = [];\n\n      var dates = _toConsumableArray(Array(moment().month(month - 1).year(year).daysInMonth()).keys()).map(function (x) {\n        return x + 1;\n      });\n\n      var months = _toConsumableArray(Array(12).keys()).map(function (x) {\n        return x + 1;\n      });\n\n      var years = _toConsumableArray(Array(18).keys()).map(function (x) {\n        return x + (moment().year() - 17);\n      });\n\n      if (formIsValidated) {\n        formClass.push(\"was-validated\");\n      }\n\n      var bottomBorder = {\n        borderBottom: \"1px solid rgba(0,0,0,0.1)\"\n      };\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"editChildProfileHeaderContainer\",\n        style: {\n          backgroundColor: background\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        id: \"profileHeaderOptions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton center\",\n        onClick: function onClick() {\n          return history.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-times\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }\n      }, texts.backNavTitle)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton center\",\n        onClick: this.handleSave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 17\n        }\n      })))), /*#__PURE__*/React.createElement(\"img\", {\n        src: image,\n        alt: \"child profile logo\",\n        className: \"horizontalCenter profilePhoto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"createChildProfileInfoContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        ref: function ref(form) {\n          _this2.formEl = form;\n        },\n        onSubmit: this.handleSubmit,\n        className: formClass,\n        noValidate: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: bottomBorder,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-5-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        className: \"createChildProfileInputField form-control\",\n        placeholder: texts.name,\n        onChange: this.handleChange,\n        required: true,\n        value: name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"nameErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-5-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"surname\",\n        className: \"createChildProfileInputField form-control\",\n        placeholder: texts.surname,\n        onChange: this.handleChange,\n        required: true,\n        value: surname,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"surnameErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: bottomBorder,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fullInput editChildProfileInputField\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 19\n        }\n      }, texts.date), /*#__PURE__*/React.createElement(\"select\", {\n        value: date,\n        onChange: this.handleChange,\n        name: \"date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 19\n        }\n      }, dates.map(function (d) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: d,\n          value: d,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 23\n          }\n        }, d);\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fullInput editChildProfileInputField\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"month\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 19\n        }\n      }, texts.month), /*#__PURE__*/React.createElement(\"select\", {\n        value: month,\n        onChange: this.handleChange,\n        name: \"month\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 19\n        }\n      }, months.map(function (m) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: m,\n          value: m,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 23\n          }\n        }, m);\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fullInput editChildProfileInputField\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"year\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 19\n        }\n      }, texts.year), /*#__PURE__*/React.createElement(\"select\", {\n        value: year,\n        onChange: this.handleChange,\n        name: \"year\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 19\n        }\n      }, years.map(function (y) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: y,\n          value: y,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 23\n          }\n        }, y);\n      }))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: bottomBorder,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-10-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fullInput editChildProfileInputField\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"gender\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 19\n        }\n      }, texts.gender), /*#__PURE__*/React.createElement(\"select\", {\n        value: gender,\n        onChange: this.handleChange,\n        name: \"gender\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"boy\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 21\n        }\n      }, texts.boy), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"girl\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 21\n        }\n      }, texts.girl), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"unspecified\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 21\n        }\n      }, texts.unspecified))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-camera center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"uploadGroupLogoContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"horizontalCenter \",\n        htmlFor: \"uploadLogoInput\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 19\n        }\n      }, texts.file), window.isNative ? /*#__PURE__*/React.createElement(\"input\", {\n        id: \"uploadLogoInput\",\n        className: \"editChildProfileInput\",\n        type: \"button\",\n        accept: \"image/*\",\n        name: \"logo\",\n        onClick: this.handleNativeImageChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 21\n        }\n      }) : /*#__PURE__*/React.createElement(\"input\", {\n        id: \"uploadLogoInput\",\n        className: \"editChildProfileInput\",\n        type: \"file\",\n        accept: \"image/*\",\n        name: \"logo\",\n        onChange: this.handleImageChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 23\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-fill-drip center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(HuePicker, {\n        width: \"90%\",\n        className: \"verticalCenter\",\n        color: background,\n        onChange: this.handleColorChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"additionalInformationContainer\",\n        className: \"row no-gutters\",\n        style: bottomBorder,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-7-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 19\n        }\n      }, texts.additional), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 19\n        }\n      }, texts.example))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"center\",\n        type: \"button\",\n        onClick: this.handleAdd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 17\n        }\n      }, acceptAdditionalTerms ? texts.edit : texts.add))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        classes: {\n          root: classes.checkbox,\n          checked: classes.checked\n        },\n        className: \"center\",\n        checked: acceptTerms,\n        onClick: this.handleAcceptTerms,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 17\n        }\n      }, texts.acceptTerms))), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          paddingLeft: \"3%\"\n        },\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        style: {\n          display: \"none\"\n        },\n        id: \"acceptTermsCheckbox\",\n        name: \"acceptTerms\",\n        className: \"form-control\",\n        required: true,\n        defaultChecked: acceptTerms,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"acceptTermsErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 15\n        }\n      })))));\n    }\n  }]);\n\n  return CreateChildScreen;\n}(React.Component);\n\nexport default withLanguage(withStyles(styles)(CreateChildScreen));\nCreateChildScreen.propTypes = {\n  history: PropTypes.object,\n  match: PropTypes.object,\n  language: PropTypes.string,\n  classes: PropTypes.object\n};","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Families_Share-platform/client/src/components/CreateChildScreen.js"],"names":["React","moment","axios","HuePicker","Checkbox","withStyles","PropTypes","withLanguage","Texts","Log","styles","checkbox","color","checked","dataURLtoFile","dataurl","filename","arr","split","mime","match","bstr","atob","n","length","u8arr","Uint8Array","charCodeAt","File","type","CreateChildScreen","props","handleMessage","event","data","JSON","parse","action","image","value","setState","file","handleCancel","history","goBack","handleChange","name","target","validate","language","texts","createChildScreen","formLength","formEl","checkValidity","i","elem","errorLabel","document","getElementById","nodeName","toLowerCase","validity","valid","customError","textContent","acceptTermsErr","valueMissing","requiredErr","submitChanges","userId","params","profileId","state","given_name","family_name","surname","year","month","date","gender","allergies","other_info","special_needs","background","bodyFormData","FormData","undefined","append","birthdate","set","post","headers","then","response","info","catch","error","handleSave","preventDefault","formIsValidated","handleAdd","pathname","location","push","handleAcceptTerms","acceptTerms","setCustomValidity","handleColorChange","hex","handleImageChange","files","reader","FileReader","onload","e","result","readAsDataURL","handleNativeImageChange","window","ReactNativeWebView","postMessage","stringify","acceptAdditionalTerms","addEventListener","removeEventListener","classes","formClass","dates","Array","daysInMonth","keys","map","x","months","years","bottomBorder","borderBottom","backgroundColor","backNavTitle","form","handleSubmit","d","m","y","boy","girl","unspecified","isNative","additional","example","edit","add","root","paddingLeft","display","Component","propTypes","object","string"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nimport { HuePicker } from \"react-color\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport PropTypes from \"prop-types\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport Log from \"./Log\";\r\n\r\nconst styles = {\r\n  checkbox: {\r\n    \"&$checked\": {\r\n      color: \"#00838F\"\r\n    }\r\n  },\r\n  checked: {}\r\n};\r\n\r\nconst dataURLtoFile = (dataurl, filename) => {\r\n  const arr = dataurl.split(\",\");\r\n\r\n  const mime = arr[0].match(/:(.*?);/)[1];\r\n\r\n  const bstr = atob(arr[1]);\r\n\r\n  let n = bstr.length;\r\n\r\n  const u8arr = new Uint8Array(n);\r\n  while (n) {\r\n    n -= 1;\r\n    u8arr[n] = bstr.charCodeAt(n);\r\n  }\r\n  return new File([u8arr], filename, { type: mime });\r\n};\r\n\r\nclass CreateChildScreen extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { history } = this.props;\r\n    const { state } = history.location;\r\n    if (state !== undefined) {\r\n      this.state = {\r\n        ...state\r\n      };\r\n    } else {\r\n      this.state = {\r\n        name: \"\",\r\n        surname: \"\",\r\n        gender: \"unspecified\",\r\n        date: moment().date(),\r\n        month: moment().month() + 1,\r\n        year: moment().year(),\r\n        acceptTerms: false,\r\n        allergies: \"\",\r\n        special_needs: \"\",\r\n        other_info: \"\",\r\n        background: \"#00838F\",\r\n        acceptAdditionalTerms: false,\r\n        image: \"/images/profiles/child_default_photo.jpg\"\r\n      };\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { language } = this.props;\r\n    const { acceptTerms } = this.state;\r\n    document.addEventListener(\"message\", this.handleMessage, false);\r\n    if (!acceptTerms) {\r\n      document\r\n        .getElementById(\"acceptTermsCheckbox\")\r\n        .setCustomValidity(Texts[language].createChildScreen.acceptTermsErr);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"message\", this.handleMessage, false);\r\n  }\r\n\r\n  handleMessage = event => {\r\n    const data = JSON.parse(event.data);\r\n    if (data.action === \"fileUpload\") {\r\n      const image = `data:image/png;base64, ${data.value}`;\r\n      this.setState({\r\n        image,\r\n        file: dataURLtoFile(image, \"photo.png\")\r\n      });\r\n    }\r\n  };\r\n\r\n  handleCancel = () => {\r\n    const { history } = this.props;\r\n    history.goBack();\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name } = event.target;\r\n    const { value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  validate = () => {\r\n    const { language } = this.props;\r\n    const texts = Texts[language].createChildScreen;\r\n    const formLength = this.formEl.length;\r\n    if (this.formEl.checkValidity() === false) {\r\n      for (let i = 0; i < formLength; i += 1) {\r\n        const elem = this.formEl[i];\r\n        const errorLabel = document.getElementById(`${elem.name}Err`);\r\n        if (errorLabel && elem.nodeName.toLowerCase() !== \"button\") {\r\n          if (!elem.validity.valid) {\r\n            if (elem.validity.customError) {\r\n              errorLabel.textContent = texts.acceptTermsErr;\r\n            } else if (elem.validity.valueMissing) {\r\n              errorLabel.textContent = texts.requiredErr;\r\n            }\r\n          } else {\r\n            errorLabel.textContent = \"\";\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    for (let i = 0; i < formLength; i += 1) {\r\n      const elem = this.formEl[i];\r\n      const errorLabel = document.getElementById(`${elem.name}Err`);\r\n      if (errorLabel && elem.nodeName.toLowerCase() !== \"button\") {\r\n        errorLabel.textContent = \"\";\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n\r\n  submitChanges = () => {\r\n    const { match, history } = this.props;\r\n    const { profileId: userId } = match.params;\r\n    const {\r\n      name: given_name,\r\n      surname: family_name,\r\n      year,\r\n      month,\r\n      date,\r\n      gender,\r\n      allergies,\r\n      other_info,\r\n      special_needs,\r\n      background,\r\n      image,\r\n      file\r\n    } = this.state;\r\n    const bodyFormData = new FormData();\r\n    if (file !== undefined) {\r\n      bodyFormData.append(\"photo\", file);\r\n    } else {\r\n      bodyFormData.append(\"image\", image);\r\n    }\r\n    const birthdate = moment().set({\r\n      year,\r\n      month: month - 1,\r\n      date\r\n    });\r\n    bodyFormData.append(\"given_name\", given_name);\r\n    bodyFormData.append(\"family_name\", family_name);\r\n    bodyFormData.append(\"gender\", gender);\r\n    bodyFormData.append(\"background\", background);\r\n    bodyFormData.append(\"other_info\", other_info);\r\n    bodyFormData.append(\"special_needs\", special_needs);\r\n    bodyFormData.append(\"allergies\", allergies);\r\n    bodyFormData.append(\"birthdate\", birthdate);\r\n    axios\r\n      .post(`/api/users/${userId}/children`, bodyFormData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\"\r\n        }\r\n      })\r\n      .then(response => {\r\n        Log.info(response);\r\n        history.goBack();\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n        history.goBack();\r\n      });\r\n  };\r\n\r\n  handleSave = event => {\r\n    event.preventDefault();\r\n    if (this.validate()) {\r\n      this.submitChanges();\r\n    }\r\n    this.setState({ formIsValidated: true });\r\n  };\r\n\r\n  handleAdd = () => {\r\n    const { history } = this.props;\r\n    const { pathname } = history.location;\r\n    history.push({\r\n      pathname: `${pathname}/additional`,\r\n      state: {\r\n        ...this.state\r\n      }\r\n    });\r\n    return false;\r\n  };\r\n\r\n  handleAcceptTerms = () => {\r\n    const { acceptTerms } = this.state;\r\n    const { language } = this.props;\r\n    const elem = document.getElementById(\"acceptTermsCheckbox\");\r\n    elem.checked = !acceptTerms;\r\n    if (!acceptTerms) {\r\n      elem.setCustomValidity(\"\");\r\n    } else {\r\n      elem.setCustomValidity(Texts[language].createChildScreen.acceptTermsErr);\r\n    }\r\n    this.setState({ acceptTerms: !acceptTerms });\r\n  };\r\n\r\n  handleColorChange = color => {\r\n    this.setState({ background: color.hex });\r\n  };\r\n\r\n  handleImageChange = event => {\r\n    if (event.target.files && event.target.files[0]) {\r\n      const reader = new FileReader();\r\n      const file = event.target.files[0];\r\n      reader.onload = e => {\r\n        this.setState({ image: e.target.result, file });\r\n      };\r\n      reader.readAsDataURL(event.target.files[0]);\r\n    }\r\n  };\r\n\r\n  handleNativeImageChange = () => {\r\n    window.ReactNativeWebView.postMessage(\r\n      JSON.stringify({ action: \"fileUpload\" })\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { classes, language, history } = this.props;\r\n    const texts = Texts[language].createChildScreen;\r\n    const {\r\n      formIsValidated,\r\n      month,\r\n      year,\r\n      name,\r\n      surname,\r\n      gender,\r\n      date,\r\n      acceptAdditionalTerms,\r\n      acceptTerms,\r\n      background,\r\n      image\r\n    } = this.state;\r\n    const formClass = [];\r\n    const dates = [\r\n      ...Array(\r\n        moment()\r\n          .month(month - 1)\r\n          .year(year)\r\n          .daysInMonth()\r\n      ).keys()\r\n    ].map(x => x + 1);\r\n    const months = [...Array(12).keys()].map(x => x + 1);\r\n    const years = [...Array(18).keys()].map(x => x + (moment().year() - 17));\r\n    if (formIsValidated) {\r\n      formClass.push(\"was-validated\");\r\n    }\r\n    const bottomBorder = { borderBottom: \"1px solid rgba(0,0,0,0.1)\" };\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          id=\"editChildProfileHeaderContainer\"\r\n          style={{ backgroundColor: background }}\r\n        >\r\n          <div className=\"row no-gutters\" id=\"profileHeaderOptions\">\r\n            <div className=\"col-2-10\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"transparentButton center\"\r\n                onClick={() => history.goBack()}\r\n              >\r\n                <i className=\"fas fa-times\" />\r\n              </button>\r\n            </div>\r\n            <div className=\"col-6-10\">\r\n              <h1 className=\"verticalCenter\">{texts.backNavTitle}</h1>\r\n            </div>\r\n            <div className=\"col-2-10\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"transparentButton center\"\r\n                onClick={this.handleSave}\r\n              >\r\n                <i className=\"fas fa-check\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <img\r\n            src={image}\r\n            alt=\"child profile logo\"\r\n            className=\"horizontalCenter profilePhoto\"\r\n          />\r\n        </div>\r\n        <div id=\"createChildProfileInfoContainer\">\r\n          <form\r\n            ref={form => {\r\n              this.formEl = form;\r\n            }}\r\n            onSubmit={this.handleSubmit}\r\n            className={formClass}\r\n            noValidate\r\n          >\r\n            <div className=\"row no-gutters\" style={bottomBorder}>\r\n              <div className=\"col-5-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  className=\"createChildProfileInputField form-control\"\r\n                  placeholder={texts.name}\r\n                  onChange={this.handleChange}\r\n                  required\r\n                  value={name}\r\n                />\r\n                <span className=\"invalid-feedback\" id=\"nameErr\" />\r\n              </div>\r\n              <div className=\"col-5-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"surname\"\r\n                  className=\"createChildProfileInputField form-control\"\r\n                  placeholder={texts.surname}\r\n                  onChange={this.handleChange}\r\n                  required\r\n                  value={surname}\r\n                />\r\n                <span className=\"invalid-feedback\" id=\"surnameErr\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={bottomBorder}>\r\n              <div className=\"col-1-3\">\r\n                <div className=\"fullInput editChildProfileInputField\">\r\n                  <label htmlFor=\"date\">{texts.date}</label>\r\n                  <select value={date} onChange={this.handleChange} name=\"date\">\r\n                    {dates.map(d => (\r\n                      <option key={d} value={d}>\r\n                        {d}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-1-3\">\r\n                <div className=\"fullInput editChildProfileInputField\">\r\n                  <label htmlFor=\"month\">{texts.month}</label>\r\n                  <select\r\n                    value={month}\r\n                    onChange={this.handleChange}\r\n                    name=\"month\"\r\n                  >\r\n                    {months.map(m => (\r\n                      <option key={m} value={m}>\r\n                        {m}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-1-3\">\r\n                <div className=\"fullInput editChildProfileInputField\">\r\n                  <label htmlFor=\"year\">{texts.year}</label>\r\n                  <select value={year} onChange={this.handleChange} name=\"year\">\r\n                    {years.map(y => (\r\n                      <option key={y} value={y}>\r\n                        {y}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={bottomBorder}>\r\n              <div className=\"col-10-10\">\r\n                <div className=\"fullInput editChildProfileInputField\">\r\n                  <label htmlFor=\"gender\">{texts.gender}</label>\r\n                  <select\r\n                    value={gender}\r\n                    onChange={this.handleChange}\r\n                    name=\"gender\"\r\n                  >\r\n                    <option value=\"boy\">{texts.boy}</option>\r\n                    <option value=\"girl\">{texts.girl}</option>\r\n                    <option value=\"unspecified\">{texts.unspecified}</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-camera center\" />\r\n              </div>\r\n              <div className=\"col-3-10\">\r\n                <div id=\"uploadGroupLogoContainer\">\r\n                  <label\r\n                    className=\"horizontalCenter \"\r\n                    htmlFor=\"uploadLogoInput\"\r\n                  >\r\n                    {texts.file}\r\n                  </label>\r\n                  {window.isNative ? (\r\n                    <input\r\n                      id=\"uploadLogoInput\"\r\n                      className=\"editChildProfileInput\"\r\n                      type=\"button\"\r\n                      accept=\"image/*\"\r\n                      name=\"logo\"\r\n                      onClick={this.handleNativeImageChange}\r\n                    />\r\n                  ) : (\r\n                      <input\r\n                        id=\"uploadLogoInput\"\r\n                        className=\"editChildProfileInput\"\r\n                        type=\"file\"\r\n                        accept=\"image/*\"\r\n                        name=\"logo\"\r\n                        onChange={this.handleImageChange}\r\n                      />\r\n                    )}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-fill-drip center\" />\r\n              </div>\r\n              <div className=\"col-3-10\">\r\n                <HuePicker\r\n                  width=\"90%\"\r\n                  className=\"verticalCenter\"\r\n                  color={background}\r\n                  onChange={this.handleColorChange}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div\r\n              id=\"additionalInformationContainer\"\r\n              className=\"row no-gutters\"\r\n              style={bottomBorder}\r\n            >\r\n              <div className=\"col-7-10\">\r\n                <div className=\"center\">\r\n                  <h1>{texts.additional}</h1>\r\n                  <h2>{texts.example}</h2>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-3-10\">\r\n                <button\r\n                  className=\"center\"\r\n                  type=\"button\"\r\n                  onClick={this.handleAdd}\r\n                >\r\n                  {acceptAdditionalTerms ? texts.edit : texts.add}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\">\r\n                <Checkbox\r\n                  classes={{ root: classes.checkbox, checked: classes.checked }}\r\n                  className=\"center\"\r\n                  checked={acceptTerms}\r\n                  onClick={this.handleAcceptTerms}\r\n                />\r\n              </div>\r\n              <div className=\"col-8-10\">\r\n                <h1 className=\"verticalCenter\">{texts.acceptTerms}</h1>\r\n              </div>\r\n            </div>\r\n            <div style={{ paddingLeft: \"3%\" }} className=\"row no-gutters\">\r\n              <input\r\n                type=\"checkbox\"\r\n                style={{ display: \"none\" }}\r\n                id=\"acceptTermsCheckbox\"\r\n                name=\"acceptTerms\"\r\n                className=\"form-control\"\r\n                required\r\n                defaultChecked={acceptTerms}\r\n              />\r\n              <span className=\"invalid-feedback\" id=\"acceptTermsErr\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withLanguage(withStyles(styles)(CreateChildScreen));\r\n\r\nCreateChildScreen.propTypes = {\r\n  history: PropTypes.object,\r\n  match: PropTypes.object,\r\n  language: PropTypes.string,\r\n  classes: PropTypes.object\r\n};\r\n"]},"metadata":{},"sourceType":"module"}