{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\src\\\\components\\\\EditActivityScreen.js\";\nimport React from \"react\";\nimport autosize from \"autosize\";\nimport axios from \"axios\";\nimport { CirclePicker } from \"react-color\";\nimport PropTypes from \"prop-types\";\nimport Texts from \"../Constants/Texts\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport withLanguage from \"./LanguageContext\";\nimport Log from \"./Log\";\n\nvar EditActivityScreen = /*#__PURE__*/function (_React$Component) {\n  _inherits(EditActivityScreen, _React$Component);\n\n  var _super = _createSuper(EditActivityScreen);\n\n  function EditActivityScreen() {\n    var _this;\n\n    _classCallCheck(this, EditActivityScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      fetchedActivity: false\n    };\n\n    _this.handleChange = function (event) {\n      var state = Object.assign({}, _this.state);\n      var name = event.target.name;\n      var value = event.target.value;\n      state[name] = value;\n      state.validated = false;\n\n      if (state.color && state.name) {\n        state.validated = true;\n      }\n\n      _this.setState(state);\n    };\n\n    _this.handleColorChange = function (color) {\n      var state = Object.assign({}, _this.state);\n      state.color = color.hex;\n\n      _this.setState(state);\n    };\n\n    _this.handleSave = function () {\n      var _this$props = _this.props,\n          match = _this$props.match,\n          history = _this$props.history;\n      var _match$params = match.params,\n          activityId = _match$params.activityId,\n          groupId = _match$params.groupId;\n      var _this$state = _this.state,\n          validated = _this$state.validated,\n          name = _this$state.name,\n          color = _this$state.color,\n          location = _this$state.location,\n          description = _this$state.description;\n\n      if (validated) {\n        _this.setState({\n          fetchedActivity: false\n        });\n\n        var patch = {\n          name: name,\n          color: color,\n          location: location.trim(),\n          description: description.trim()\n        };\n        axios.patch(\"/api/groups/\".concat(groupId, \"/activities/\").concat(activityId), patch).then(function (response) {\n          Log.info(response);\n          history.goBack();\n        }).catch(function (error) {\n          Log.error(error);\n          history.goBack();\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(EditActivityScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var match = this.props.match;\n      var _match$params2 = match.params,\n          activityId = _match$params2.activityId,\n          groupId = _match$params2.groupId;\n      axios.get(\"/api/groups/\".concat(groupId, \"/activities/\").concat(activityId)).then(function (response) {\n        var _response$data = response.data,\n            name = _response$data.name,\n            description = _response$data.description,\n            color = _response$data.color,\n            location = _response$data.location;\n\n        _this2.setState({\n          fetchedActivity: true,\n          name: name,\n          color: color,\n          description: description,\n          location: location,\n          validated: true\n        });\n      }).catch(function (error) {\n        Log.error(error);\n\n        _this2.setState({\n          fetchedActivity: true,\n          name: \"\",\n          color: \"\",\n          description: \"\",\n          validated: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          fetchedActivity = _this$state2.fetchedActivity,\n          validated = _this$state2.validated,\n          name = _this$state2.name,\n          description = _this$state2.description,\n          location = _this$state2.location,\n          color = _this$state2.color;\n      var _this$props2 = this.props,\n          language = _this$props2.language,\n          history = _this$props2.history;\n      var texts = Texts[language].editActivityScreen;\n      return fetchedActivity ? /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        id: \"editActivityHeaderContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"transparentButton center\",\n        type: \"button\",\n        onClick: function onClick() {\n          return history.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-arrow-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, texts.backNavTitle)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton center\",\n        style: validated ? {} : {\n          opacity: 0.5\n        },\n        onClick: this.handleSave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 15\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"editActivityMainContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-clipboard-check center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: texts.name,\n        value: name,\n        className: \"verticalCenter\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-map-marker-alt center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"location\",\n        placeholder: texts.location,\n        value: location,\n        className: \"verticalCenter\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: {\n          height: \"auto\",\n          minHeight: \"6rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-align-left center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        rows: \"1\",\n        name: \"description\",\n        className: \"verticalCenter\",\n        placeholder: texts.description,\n        value: description,\n        onChange: function onChange(event) {\n          _this3.handleChange(event);\n\n          autosize(document.querySelectorAll(\"textarea\"));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-palette center\",\n        style: {\n          color: color\n        },\n        alt: \"palette icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"verticalCenter\",\n        style: {\n          color: color\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 15\n        }\n      }, texts.color))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: {\n          marginBottom: \"4rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CirclePicker, {\n        width: \"100%\",\n        color: color,\n        onChange: this.handleColorChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }\n      }))))) : /*#__PURE__*/React.createElement(LoadingSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return EditActivityScreen;\n}(React.Component);\n\nexport default withLanguage(EditActivityScreen);\nEditActivityScreen.propTypes = {\n  history: PropTypes.object,\n  language: PropTypes.string,\n  match: PropTypes.object\n};","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Green-Wizards/client/src/components/EditActivityScreen.js"],"names":["React","autosize","axios","CirclePicker","PropTypes","Texts","LoadingSpinner","withLanguage","Log","EditActivityScreen","state","fetchedActivity","handleChange","event","Object","assign","name","target","value","validated","color","setState","handleColorChange","hex","handleSave","props","match","history","params","activityId","groupId","location","description","patch","trim","then","response","info","goBack","catch","error","get","data","language","texts","editActivityScreen","backNavTitle","opacity","height","minHeight","document","querySelectorAll","marginBottom","Component","propTypes","object","string"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport autosize from \"autosize\";\r\nimport axios from \"axios\";\r\nimport { CirclePicker } from \"react-color\";\r\nimport PropTypes from \"prop-types\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport Log from \"./Log\";\r\n\r\nclass EditActivityScreen extends React.Component {\r\n  state = {\r\n    fetchedActivity: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props;\r\n    const { activityId, groupId } = match.params;\r\n    axios\r\n      .get(`/api/groups/${groupId}/activities/${activityId}`)\r\n      .then(response => {\r\n        const { name, description, color, location } = response.data;\r\n        this.setState({\r\n          fetchedActivity: true,\r\n          name,\r\n          color,\r\n          description,\r\n          location,\r\n          validated: true\r\n        });\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n        this.setState({\r\n          fetchedActivity: true,\r\n          name: \"\",\r\n          color: \"\",\r\n          description: \"\",\r\n          validated: false\r\n        });\r\n      });\r\n  }\r\n\r\n  handleChange = event => {\r\n    const state = Object.assign({}, this.state);\r\n    const { name } = event.target;\r\n    const { value } = event.target;\r\n    state[name] = value;\r\n    state.validated = false;\r\n    if (state.color && state.name) {\r\n      state.validated = true;\r\n    }\r\n    this.setState(state);\r\n  };\r\n\r\n  handleColorChange = color => {\r\n    const state = Object.assign({}, this.state);\r\n    state.color = color.hex;\r\n    this.setState(state);\r\n  };\r\n\r\n  handleSave = () => {\r\n    const { match, history } = this.props;\r\n    const { activityId, groupId } = match.params;\r\n    const { validated, name, color, location, description } = this.state;\r\n    if (validated) {\r\n      this.setState({ fetchedActivity: false });\r\n      const patch = {\r\n        name,\r\n        color,\r\n        location: location.trim(),\r\n        description: description.trim()\r\n      };\r\n      axios\r\n        .patch(`/api/groups/${groupId}/activities/${activityId}`, patch)\r\n        .then(response => {\r\n          Log.info(response);\r\n          history.goBack();\r\n        })\r\n        .catch(error => {\r\n          Log.error(error);\r\n          history.goBack();\r\n        });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      fetchedActivity,\r\n      validated,\r\n      name,\r\n      description,\r\n      location,\r\n      color\r\n    } = this.state;\r\n    const { language, history } = this.props;\r\n    const texts = Texts[language].editActivityScreen;\r\n    return fetchedActivity ? (\r\n      <React.Fragment>\r\n        <div className=\"row no-gutters\" id=\"editActivityHeaderContainer\">\r\n          <div className=\"col-2-10\">\r\n            <button\r\n              className=\"transparentButton center\"\r\n              type=\"button\"\r\n              onClick={() => history.goBack()}\r\n            >\r\n              <i className=\"fas fa-arrow-left\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"col-6-10\">\r\n            <h1 className=\"verticalCenter\">{texts.backNavTitle}</h1>\r\n          </div>\r\n          <div className=\"col-2-10\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"transparentButton center\"\r\n              style={validated ? {} : { opacity: 0.5 }}\r\n              onClick={this.handleSave}\r\n            >\r\n              <i className=\"fas fa-check\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div id=\"editActivityMainContainer\">\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-2-10\">\r\n              <i className=\"fas fa-clipboard-check center\" />\r\n            </div>\r\n            <div className=\"col-8-10\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                placeholder={texts.name}\r\n                value={name}\r\n                className=\"verticalCenter\"\r\n                onChange={this.handleChange}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-2-10\">\r\n              <i className=\"fas fa-map-marker-alt center\" />\r\n            </div>\r\n            <div className=\"col-8-10\">\r\n              <input\r\n                type=\"text\"\r\n                name=\"location\"\r\n                placeholder={texts.location}\r\n                value={location}\r\n                className=\"verticalCenter\"\r\n                onChange={this.handleChange}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"row no-gutters\"\r\n            style={{ height: \"auto\", minHeight: \"6rem\" }}\r\n          >\r\n            <div className=\"col-2-10\">\r\n              <i className=\"fas fa-align-left center\" />\r\n            </div>\r\n            <div className=\"col-8-10\">\r\n              <textarea\r\n                rows=\"1\"\r\n                name=\"description\"\r\n                className=\"verticalCenter\"\r\n                placeholder={texts.description}\r\n                value={description}\r\n                onChange={event => {\r\n                  this.handleChange(event);\r\n                  autosize(document.querySelectorAll(\"textarea\"));\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-2-10\">\r\n              <i\r\n                className=\"fas fa-palette center\"\r\n                style={{ color }}\r\n                alt=\"palette icon\"\r\n              />\r\n            </div>\r\n            <div className=\"col-8-10\">\r\n              <h1 className=\"verticalCenter\" style={{ color }}>\r\n                {texts.color}\r\n              </h1>\r\n            </div>\r\n          </div>\r\n          <div className=\"row no-gutters\" style={{ marginBottom: \"4rem\" }}>\r\n            <div className=\"col-2-10\" />\r\n            <div className=\"col-8-10\">\r\n              <CirclePicker\r\n                width=\"100%\"\r\n                color={color}\r\n                onChange={this.handleColorChange}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    ) : (\r\n      <LoadingSpinner />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withLanguage(EditActivityScreen);\r\n\r\nEditActivityScreen.propTypes = {\r\n  history: PropTypes.object,\r\n  language: PropTypes.string,\r\n  match: PropTypes.object\r\n};\r\n"]},"metadata":{},"sourceType":"module"}