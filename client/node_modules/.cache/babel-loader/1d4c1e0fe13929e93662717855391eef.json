{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\src\\\\components\\\\SignUpForm.js\";\nimport React from \"react\";\nimport Switch from \"@material-ui/core/Switch\";\nimport PropTypes from \"prop-types\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { withSnackbar } from \"notistack\";\nimport Texts from \"../Constants/Texts\";\nimport withLanguage from \"./LanguageContext\";\nimport registrationActions from \"../Actions/RegistrationActions\";\nimport Images from \"../Constants/Images\";\nimport PrivacyPolicyModal from \"./PrivacyPolicyModal\";\nvar theme = createMuiTheme({\n  palette: {\n    secondary: {\n      main: \"#c43e00\"\n    }\n  }\n});\n\nvar SignUpForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(SignUpForm, _React$Component);\n\n  var _super = _createSuper(SignUpForm);\n\n  function SignUpForm() {\n    var _this;\n\n    _classCallCheck(this, SignUpForm);\n\n    _this = _super.call(this);\n\n    _this.validate = function () {\n      var language = _this.props.language;\n      var acceptTerms = _this.state.acceptTerms;\n      var texts = Texts[language].signUpForm;\n      var formLength = _this.formEl.length;\n\n      if (_this.formEl.checkValidity() === false || acceptTerms === false) {\n        for (var i = 0; i < formLength; i += 1) {\n          var elem = _this.formEl[i];\n          var errorLabel = document.getElementById(\"\".concat(elem.name, \"Err\"));\n\n          if (errorLabel && elem.nodeName.toLowerCase() !== \"button\") {\n            if (!elem.validity.valid) {\n              if (elem.validity.valueMissing) {\n                if (\"\".concat(elem.name, \"Err\") === \"acceptTermsErr\") {\n                  errorLabel.textContent = texts.acceptTermsErr;\n                } else {\n                  errorLabel.textContent = texts.requiredErr;\n                }\n              } else if (elem.validity.tooShort) {\n                errorLabel.textContent = texts.tooShortErr;\n              } else if (elem.validity.typeMismatch) {\n                errorLabel.textContent = texts.typeMismatchErr;\n              } else if (elem.validity.customError) {\n                errorLabel.textContent = texts.confirmPasswordErr;\n              }\n            } else {\n              errorLabel.textContent = \"\";\n            }\n          }\n        }\n\n        return false;\n      }\n\n      for (var _i = 0; _i < formLength; _i += 1) {\n        var _elem = _this.formEl[_i];\n\n        var _errorLabel = document.getElementById(\"\".concat(_elem.name, \"Err\"));\n\n        if (_errorLabel && _elem.nodeName.toLowerCase() !== \"button\") {\n          _errorLabel.textContent = \"\";\n        }\n      }\n\n      return true;\n    };\n\n    _this.submit = function () {\n      var deviceToken = localStorage.getItem(\"deviceToken\");\n      var _this$state = _this.state,\n          password = _this$state.password,\n          email = _this$state.email,\n          visible = _this$state.profileVisibility,\n          given_name = _this$state.givenName,\n          family_name = _this$state.familyName,\n          number = _this$state.phoneNumber;\n      var _this$props = _this.props,\n          history = _this$props.history,\n          dispatch = _this$props.dispatch;\n      dispatch(registrationActions.signup(given_name, family_name, number, email, password, visible, deviceToken, history));\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      if (_this.validate()) {\n        _this.submit();\n      }\n\n      _this.setState({\n        formIsValidated: true\n      });\n    };\n\n    _this.handleChange = function (event) {\n      var password = _this.state.password;\n      var language = _this.props.language;\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      if (name === \"passwordConfirm\") {\n        if (password !== event.target.value) {\n          event.target.setCustomValidity(Texts[language].signUpForm.passwordError);\n        } else {\n          event.target.setCustomValidity(\"\");\n        }\n      }\n\n      if (name === \"acceptTerms\") {\n        var acceptTerms = _this.state.acceptTerms;\n\n        _this.setState({\n          acceptTerms: !acceptTerms\n        });\n      } else {\n        _this.setState(_defineProperty({}, name, value));\n      }\n    };\n\n    _this.handleSwitch = function () {\n      var profileVisibility = _this.state.profileVisibility;\n\n      _this.setState({\n        profileVisibility: !profileVisibility\n      });\n    };\n\n    _this.handlePolicyOpen = function () {\n      // const target = document.querySelector('.ReactModalPortal')\n      // disableBodyScroll(target)\n      _this.setState({\n        policyModalIsOpen: true\n      });\n    };\n\n    _this.handlePolicyClose = function () {\n      // const target = document.querySelector('.ReactModalPortal')\n      // enableBodyScroll(target)\n      _this.setState({\n        policyModalIsOpen: false\n      });\n    };\n\n    _this.handleAccept = function () {\n      document.getElementById(\"termsAndPolicy\").setCustomValidity(\"\");\n\n      _this.setState({\n        acceptTerms: true,\n        policyModalIsOpen: false\n      });\n    };\n\n    _this.filledInput = function () {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          state = _assertThisInitialize.state;\n\n      return state.givenName && state.familyName && state.email && state.password && state.passwordConfirm;\n    };\n\n    _this.state = {\n      formIsValidated: false,\n      policyModalIsOpen: false,\n      profileVisibility: true,\n      acceptTerms: false,\n      givenName: \"\",\n      familyName: \"\",\n      phoneNumber: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirm: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(SignUpForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var language = this.props.language;\n      document.getElementById(\"termsAndPolicy\").setCustomValidity(Texts[language].signUpForm.acceptTermsError);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          error = _this$props2.error,\n          language = _this$props2.language,\n          enqueueSnackbar = _this$props2.enqueueSnackbar;\n      var _this$state2 = this.state,\n          formIsValidated = _this$state2.formIsValidated,\n          givenName = _this$state2.givenName,\n          familyName = _this$state2.familyName,\n          phoneNumber = _this$state2.phoneNumber,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          passwordConfirm = _this$state2.passwordConfirm,\n          profileVisibility = _this$state2.profileVisibility,\n          policyModalIsOpen = _this$state2.policyModalIsOpen,\n          acceptTerms = _this$state2.acceptTerms;\n      var texts = Texts[language].signUpForm;\n\n      if (error) {\n        enqueueSnackbar(\"\".concat(texts.signupErr, \" \").concat(email), {\n          variant: \"error\"\n        });\n      }\n\n      var formClass = [];\n\n      if (formIsValidated) {\n        formClass.push(\"was-validated\");\n      }\n\n      return /*#__PURE__*/React.createElement(\"form\", {\n        ref: function ref(form) {\n          _this2.formEl = form;\n        },\n        onSubmit: this.handleSubmit,\n        className: formClass,\n        noValidate: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: texts.givenName,\n        name: \"givenName\",\n        className: \"signUpInputField form-control horizontalCenter\",\n        onChange: this.handleChange,\n        required: true,\n        value: givenName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"givenNameErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: texts.familyName,\n        name: \"familyName\",\n        className: \"signUpInputField form-control horizontalCenter\",\n        onChange: this.handleChange,\n        required: true,\n        value: familyName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"familyNameErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: texts.phoneNumber,\n        name: \"phoneNumber\",\n        className: \"signUpInputField form-control horizontalCenter\",\n        onChange: this.handleChange,\n        value: phoneNumber,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"line horizontalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        placeholder: texts.email,\n        name: \"email\",\n        className: \"signUpInputField form-control horizontalCenter horizontalCenter\",\n        onChange: this.handleChange,\n        required: true,\n        value: email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"emailErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        placeholder: texts.password,\n        type: \"password\",\n        name: \"password\",\n        className: \"signUpInputField form-control horizontalCenter\",\n        onChange: this.handleChange,\n        required: true,\n        minLength: 8,\n        value: password,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"passwordErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        placeholder: texts.confirmPassword,\n        type: \"password\",\n        name: \"passwordConfirm\",\n        className: \"signUpInputField form-control horizontalCenter\",\n        onChange: this.handleChange,\n        minLength: 8,\n        required: true,\n        value: passwordConfirm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 9\n        }\n      }, texts.passwordPrompt), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"passwordConfirmErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"line horizontalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: {\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"profileToggleText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }\n      }, texts.profileVisibility), /*#__PURE__*/React.createElement(MuiThemeProvider, {\n        theme: theme,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        color: \"secondary\",\n        checked: profileVisibility,\n        onClick: this.handleSwitch,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }\n      }, texts.visibilityPrompt)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"acceptTermsContainer row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: \"policyIcon center\",\n        alt: \"policy icon\",\n        onClick: this.handlePolicyOpen,\n        src: acceptTerms ? Images.policyAccepted : Images.policy,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        role: \"button\",\n        tabIndex: -42,\n        className: \"col-8-10\",\n        onClick: this.handlePolicyOpen,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"acceptTermsText verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }\n      }, texts.termsPolicy))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        style: {\n          display: \"none\"\n        },\n        name: \"acceptTerms\",\n        className: \"form-control\",\n        required: true,\n        checked: acceptTerms,\n        id: \"termsAndPolicy\",\n        onChange: function onChange() {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"acceptTermsErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"submit\",\n        style: this.filledInput() ? {\n          backgroundColor: \"#00838F\",\n          color: \"#ffffff\"\n        } : {},\n        className: \"signUpConfirmButton horizontalCenter\",\n        value: texts.confirm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(PrivacyPolicyModal, {\n        isOpen: policyModalIsOpen,\n        handleClose: this.handlePolicyClose,\n        handleAccept: this.handleAccept,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return SignUpForm;\n}(React.Component);\n\nSignUpForm.propTypes = {\n  language: PropTypes.string,\n  history: PropTypes.object,\n  error: PropTypes.bool,\n  enqueueSnackbar: PropTypes.func,\n  dispatch: PropTypes.func\n};\n\nfunction mapStateToProps(state) {\n  var error = state.registration.error;\n  return {\n    error: error\n  };\n}\n\nexport default connect(mapStateToProps)(withRouter(withSnackbar(withLanguage(SignUpForm))));","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Families_Share-platform/client/src/components/SignUpForm.js"],"names":["React","Switch","PropTypes","MuiThemeProvider","createMuiTheme","withRouter","connect","withSnackbar","Texts","withLanguage","registrationActions","Images","PrivacyPolicyModal","theme","palette","secondary","main","SignUpForm","validate","language","props","acceptTerms","state","texts","signUpForm","formLength","formEl","length","checkValidity","i","elem","errorLabel","document","getElementById","name","nodeName","toLowerCase","validity","valid","valueMissing","textContent","acceptTermsErr","requiredErr","tooShort","tooShortErr","typeMismatch","typeMismatchErr","customError","confirmPasswordErr","submit","deviceToken","localStorage","getItem","password","email","visible","profileVisibility","given_name","givenName","family_name","familyName","number","phoneNumber","history","dispatch","signup","handleSubmit","event","preventDefault","setState","formIsValidated","handleChange","target","value","setCustomValidity","passwordError","handleSwitch","handlePolicyOpen","policyModalIsOpen","handlePolicyClose","handleAccept","filledInput","passwordConfirm","acceptTermsError","error","enqueueSnackbar","signupErr","variant","formClass","push","form","confirmPassword","passwordPrompt","alignItems","visibilityPrompt","policyAccepted","policy","termsPolicy","display","backgroundColor","color","confirm","Component","propTypes","string","object","bool","func","mapStateToProps","registration"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport PropTypes from \"prop-types\";\r\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { withSnackbar } from \"notistack\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport registrationActions from \"../Actions/RegistrationActions\";\r\nimport Images from \"../Constants/Images\";\r\nimport PrivacyPolicyModal from \"./PrivacyPolicyModal\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    secondary: {\r\n      main: \"#c43e00\"\r\n    }\r\n  }\r\n});\r\n\r\nclass SignUpForm extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      formIsValidated: false,\r\n      policyModalIsOpen: false,\r\n      profileVisibility: true,\r\n      acceptTerms: false,\r\n      givenName: \"\",\r\n      familyName: \"\",\r\n      phoneNumber: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      passwordConfirm: \"\"\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { language } = this.props;\r\n    document\r\n      .getElementById(\"termsAndPolicy\")\r\n      .setCustomValidity(Texts[language].signUpForm.acceptTermsError);\r\n  }\r\n\r\n  validate = () => {\r\n    const { language } = this.props;\r\n    const { acceptTerms } = this.state;\r\n    const texts = Texts[language].signUpForm;\r\n    const formLength = this.formEl.length;\r\n    if (this.formEl.checkValidity() === false || acceptTerms === false) {\r\n      for (let i = 0; i < formLength; i += 1) {\r\n        const elem = this.formEl[i];\r\n        const errorLabel = document.getElementById(`${elem.name}Err`);\r\n        if (errorLabel && elem.nodeName.toLowerCase() !== \"button\") {\r\n          if (!elem.validity.valid) {\r\n            if (elem.validity.valueMissing) {\r\n              if (`${elem.name}Err` === \"acceptTermsErr\") {\r\n                errorLabel.textContent = texts.acceptTermsErr;\r\n              } else {\r\n                errorLabel.textContent = texts.requiredErr;\r\n              }\r\n            } else if (elem.validity.tooShort) {\r\n              errorLabel.textContent = texts.tooShortErr;\r\n            } else if (elem.validity.typeMismatch) {\r\n              errorLabel.textContent = texts.typeMismatchErr;\r\n            } else if (elem.validity.customError) {\r\n              errorLabel.textContent = texts.confirmPasswordErr;\r\n            }\r\n          } else {\r\n            errorLabel.textContent = \"\";\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    for (let i = 0; i < formLength; i += 1) {\r\n      const elem = this.formEl[i];\r\n      const errorLabel = document.getElementById(`${elem.name}Err`);\r\n      if (errorLabel && elem.nodeName.toLowerCase() !== \"button\") {\r\n        errorLabel.textContent = \"\";\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  submit = () => {\r\n    const deviceToken = localStorage.getItem(\"deviceToken\");\r\n    const {\r\n      password,\r\n      email,\r\n      profileVisibility: visible,\r\n      givenName: given_name,\r\n      familyName: family_name,\r\n      phoneNumber: number\r\n    } = this.state;\r\n    const { history, dispatch } = this.props;\r\n    dispatch(\r\n      registrationActions.signup(\r\n        given_name,\r\n        family_name,\r\n        number,\r\n        email,\r\n        password,\r\n        visible,\r\n        deviceToken,\r\n        history\r\n      )\r\n    );\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.validate()) {\r\n      this.submit();\r\n    }\r\n    this.setState({ formIsValidated: true });\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { password } = this.state;\r\n    const { language } = this.props;\r\n    const { name, value } = event.target;\r\n    if (name === \"passwordConfirm\") {\r\n      if (password !== event.target.value) {\r\n        event.target.setCustomValidity(\r\n          Texts[language].signUpForm.passwordError\r\n        );\r\n      } else {\r\n        event.target.setCustomValidity(\"\");\r\n      }\r\n    }\r\n    if (name === \"acceptTerms\") {\r\n      const { acceptTerms } = this.state;\r\n      this.setState({ acceptTerms: !acceptTerms });\r\n    } else {\r\n      this.setState({ [name]: value });\r\n    }\r\n  };\r\n\r\n  handleSwitch = () => {\r\n    const { profileVisibility } = this.state;\r\n    this.setState({ profileVisibility: !profileVisibility });\r\n  };\r\n\r\n  handlePolicyOpen = () => {\r\n    // const target = document.querySelector('.ReactModalPortal')\r\n    // disableBodyScroll(target)\r\n    this.setState({ policyModalIsOpen: true });\r\n  };\r\n\r\n  handlePolicyClose = () => {\r\n    // const target = document.querySelector('.ReactModalPortal')\r\n    // enableBodyScroll(target)\r\n    this.setState({ policyModalIsOpen: false });\r\n  };\r\n\r\n  handleAccept = () => {\r\n    document.getElementById(\"termsAndPolicy\").setCustomValidity(\"\");\r\n    this.setState({ acceptTerms: true, policyModalIsOpen: false });\r\n  };\r\n\r\n  filledInput = () => {\r\n    const { state } = this;\r\n    return (\r\n      state.givenName &&\r\n      state.familyName &&\r\n      state.email &&\r\n      state.password &&\r\n      state.passwordConfirm\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { error, language, enqueueSnackbar } = this.props;\r\n    const {\r\n      formIsValidated,\r\n      givenName,\r\n      familyName,\r\n      phoneNumber,\r\n      email,\r\n      password,\r\n      passwordConfirm,\r\n      profileVisibility,\r\n      policyModalIsOpen,\r\n      acceptTerms\r\n    } = this.state;\r\n    const texts = Texts[language].signUpForm;\r\n    if (error) {\r\n      enqueueSnackbar(`${texts.signupErr} ${email}`, {\r\n        variant: \"error\"\r\n      });\r\n    }\r\n    const formClass = [];\r\n    if (formIsValidated) {\r\n      formClass.push(\"was-validated\");\r\n    }\r\n    return (\r\n      <form\r\n        ref={form => {\r\n          this.formEl = form;\r\n        }}\r\n        onSubmit={this.handleSubmit}\r\n        className={formClass}\r\n        noValidate\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          placeholder={texts.givenName}\r\n          name=\"givenName\"\r\n          className=\"signUpInputField form-control horizontalCenter\"\r\n          onChange={this.handleChange}\r\n          required\r\n          value={givenName}\r\n        />\r\n        <span className=\"invalid-feedback\" id=\"givenNameErr\" />\r\n        <input\r\n          type=\"text\"\r\n          placeholder={texts.familyName}\r\n          name=\"familyName\"\r\n          className=\"signUpInputField form-control horizontalCenter\"\r\n          onChange={this.handleChange}\r\n          required\r\n          value={familyName}\r\n        />\r\n        <span className=\"invalid-feedback\" id=\"familyNameErr\" />\r\n        <input\r\n          type=\"text\"\r\n          placeholder={texts.phoneNumber}\r\n          name=\"phoneNumber\"\r\n          className=\"signUpInputField form-control horizontalCenter\"\r\n          onChange={this.handleChange}\r\n          value={phoneNumber}\r\n        />\r\n        <div className=\"line horizontalCenter\" />\r\n        <input\r\n          type=\"email\"\r\n          placeholder={texts.email}\r\n          name=\"email\"\r\n          className=\"signUpInputField form-control horizontalCenter horizontalCenter\"\r\n          onChange={this.handleChange}\r\n          required\r\n          value={email}\r\n        />\r\n        <span className=\"invalid-feedback\" id=\"emailErr\" />\r\n        <input\r\n          placeholder={texts.password}\r\n          type=\"password\"\r\n          name=\"password\"\r\n          className=\"signUpInputField form-control horizontalCenter\"\r\n          onChange={this.handleChange}\r\n          required\r\n          minLength={8}\r\n          value={password}\r\n        />\r\n        <span className=\"invalid-feedback\" id=\"passwordErr\" />\r\n        <input\r\n          placeholder={texts.confirmPassword}\r\n          type=\"password\"\r\n          name=\"passwordConfirm\"\r\n          className=\"signUpInputField form-control horizontalCenter\"\r\n          onChange={this.handleChange}\r\n          minLength={8}\r\n          required\r\n          value={passwordConfirm}\r\n        />\r\n        <span>{texts.passwordPrompt}</span>\r\n        <span className=\"invalid-feedback\" id=\"passwordConfirmErr\" />\r\n        <div className=\"line horizontalCenter\" />\r\n        <div className=\"row no-gutters\" style={{ alignItems: \"center\" }}>\r\n          <h1 className=\"profileToggleText\">{texts.profileVisibility}</h1>\r\n          <MuiThemeProvider theme={theme}>\r\n            <Switch\r\n              color=\"secondary\"\r\n              checked={profileVisibility}\r\n              onClick={this.handleSwitch}\r\n            />\r\n          </MuiThemeProvider>\r\n\r\n          <span>{texts.visibilityPrompt}</span>\r\n        </div>\r\n        <div className=\"acceptTermsContainer row no-gutters\">\r\n          <div className=\"col-2-10\">\r\n            <img\r\n              className=\"policyIcon center\"\r\n              alt=\"policy icon\"\r\n              onClick={this.handlePolicyOpen}\r\n              src={acceptTerms ? Images.policyAccepted : Images.policy}\r\n            />\r\n          </div>\r\n          <div\r\n            role=\"button\"\r\n            tabIndex={-42}\r\n            className=\"col-8-10\"\r\n            onClick={this.handlePolicyOpen}\r\n          >\r\n            <p className=\"acceptTermsText verticalCenter\">\r\n              {texts.termsPolicy}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <input\r\n            type=\"checkbox\"\r\n            style={{ display: \"none\" }}\r\n            name=\"acceptTerms\"\r\n            className=\"form-control\"\r\n            required\r\n            checked={acceptTerms}\r\n            id=\"termsAndPolicy\"\r\n            onChange={() => {}}\r\n          />\r\n          <span className=\"invalid-feedback\" id=\"acceptTermsErr\" />\r\n        </div>\r\n        <div className=\"row no-gutters\">\r\n          <input\r\n            type=\"submit\"\r\n            style={\r\n              this.filledInput()\r\n                ? { backgroundColor: \"#00838F\", color: \"#ffffff\" }\r\n                : {}\r\n            }\r\n            className=\"signUpConfirmButton horizontalCenter\"\r\n            value={texts.confirm}\r\n          />\r\n        </div>\r\n        <PrivacyPolicyModal\r\n          isOpen={policyModalIsOpen}\r\n          handleClose={this.handlePolicyClose}\r\n          handleAccept={this.handleAccept}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nSignUpForm.propTypes = {\r\n  language: PropTypes.string,\r\n  history: PropTypes.object,\r\n  error: PropTypes.bool,\r\n  enqueueSnackbar: PropTypes.func,\r\n  dispatch: PropTypes.func\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  const { error } = state.registration;\r\n  return {\r\n    error\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(\r\n  withRouter(withSnackbar(withLanguage(SignUpForm)))\r\n);\r\n"]},"metadata":{},"sourceType":"module"}