{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _objectSpread from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\src\\\\components\\\\EditTimeslotScreen.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nimport { Select, MenuItem } from \"@material-ui/core\";\nimport autosize from \"autosize\";\nimport PropTypes from \"prop-types\";\nimport { MenuBook, EmojiNature, Museum, SportsBaseball, Commute, Mood, Cake, Event, ChildCare } from \"@material-ui/icons\";\nimport Texts from \"../Constants/Texts\";\nimport withLanguage from \"./LanguageContext\";\nimport ConfirmDialog from \"./ConfirmDialog\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport Images from \"../Constants/Images\";\nimport Log from \"./Log\";\n\nvar getTimeslot = function getTimeslot(pathname) {\n  return axios.get(pathname).then(function (response) {\n    return response.data;\n  }).catch(function (error) {\n    Log.error(error);\n    return {\n      start: {\n        dateTime: \"\"\n      },\n      end: {\n        dateTime: \"\"\n      },\n      extendedProperties: {\n        shared: {\n          parents: \"[]\",\n          children: \"[]\"\n        }\n      }\n    };\n  });\n};\n\nvar EditTimeslotScreen = /*#__PURE__*/function (_React$Component) {\n  _inherits(EditTimeslotScreen, _React$Component);\n\n  var _super = _createSuper(EditTimeslotScreen);\n\n  function EditTimeslotScreen() {\n    var _this;\n\n    _classCallCheck(this, EditTimeslotScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      description: \"\",\n      madeChanges: false,\n      notifyUsers: false,\n      fetchedTimeslot: false,\n      confirmDialogIsOpen: false,\n      confirmDialogTitle: \"\"\n    };\n\n    _this.handleMessage = function (event) {\n      var madeChanges = _this.state.madeChanges;\n      var history = _this.props.history;\n      var data = JSON.parse(event.data);\n\n      if (data.action === \"confirmGoBack\") {\n        if (madeChanges) {\n          _this.handleConfirmDialogOpen(\"back\");\n        } else {\n          history.goBack();\n        }\n      }\n    };\n\n    _this.validate = function () {\n      var language = _this.props.language;\n      var texts = Texts[language].editTimeslotScreen;\n      var formLength = _this.formEl.length;\n\n      if (_this.formEl.checkValidity() === false) {\n        for (var i = 0; i < formLength; i += 1) {\n          var elem = _this.formEl[i];\n\n          if (elem.name === \"startTime\" || elem.name === \"endTime\") {\n            var startTime = _this.state.startTime;\n            var endTime = _this.state.endTime;\n            var samePeriod = Math.floor(startTime.substr(0, startTime.indexOf(\":\")) / 12) === Math.floor(endTime.substr(0, endTime.indexOf(\":\")) / 12);\n\n            if (samePeriod && startTime >= endTime) {\n              elem.setCustomValidity(texts.timeError);\n            } else {\n              elem.setCustomValidity(\"\");\n            }\n          }\n\n          if (elem.nodeName.toLowerCase() !== \"button\") {\n            var errorLabel = document.getElementById(\"\".concat(elem.name, \"Err\"));\n\n            if (errorLabel) {\n              if (!elem.validity.valid) {\n                if (elem.validity.valueMissing) {\n                  errorLabel.textContent = texts.requiredErr;\n                } else if (elem.validity.customError) {\n                  errorLabel.textContent = texts.timeErr;\n                } else if (elem.validity.rangeUnderflow) {\n                  errorLabel.textContent = texts.rangeErr;\n                }\n\n                errorLabel.style.display = \"block\";\n              } else {\n                errorLabel.textContent = \"\";\n                errorLabel.style.display = \"none\";\n              }\n            }\n          }\n        }\n\n        return false;\n      }\n\n      for (var _i = 0; _i < formLength; _i += 1) {\n        var _elem = _this.formEl[_i];\n\n        var _errorLabel = document.getElementById(\"\".concat(_elem.name, \"Err\"));\n\n        if (_errorLabel && _elem.nodeName.toLowerCase() !== \"button\") {\n          _errorLabel.textContent = \"\";\n          _errorLabel.style.display = \"block\";\n        }\n      }\n\n      return true;\n    };\n\n    _this.handleSubmit = function (event) {\n      var madeChanges = _this.state.madeChanges;\n      var _this$props = _this.props,\n          history = _this$props.history,\n          action = _this$props.action;\n      event.preventDefault();\n\n      if (_this.validate()) {\n        if (action === \"edit\") {\n          if (madeChanges) {\n            _this.handleConfirmDialogOpen(\"save\");\n          } else {\n            history.goBack();\n          }\n        } else {\n          _this.handleSave();\n        }\n      } else {\n        _this.setState({\n          formIsValidated: true\n        });\n      }\n    };\n\n    _this.handleDelete = function () {\n      var history = _this.props.history;\n      var _this$state = _this.state,\n          summary = _this$state.summary,\n          parents = _this$state.parents;\n      var pathname = history.location.pathname;\n      pathname = \"/api\".concat(pathname.substring(0, pathname.length - 5));\n      axios.delete(pathname, {\n        params: {\n          summary: summary,\n          parents: JSON.stringify(parents)\n        }\n      }).then(function (response) {\n        Log.info(response);\n        history.go(-2);\n      }).catch(function (error) {\n        Log.error(error);\n      });\n    };\n\n    _this.handleSave = function () {\n      var _this$props2 = _this.props,\n          history = _this$props2.history,\n          action = _this$props2.action;\n      var start = _this.state.start;\n      var dateTime = start.dateTime;\n      var _this$state2 = _this.state,\n          date = _this$state2.date,\n          startTime = _this$state2.startTime,\n          endTime = _this$state2.endTime,\n          summary = _this$state2.summary,\n          description = _this$state2.description,\n          location = _this$state2.location,\n          cost = _this$state2.cost,\n          requiredChildren = _this$state2.requiredChildren,\n          requiredParents = _this$state2.requiredParents,\n          status = _this$state2.status,\n          category = _this$state2.category,\n          parents = _this$state2.parents,\n          children = _this$state2.children,\n          notifyUsers = _this$state2.notifyUsers,\n          link = _this$state2.link;\n      var timeslot = {\n        notifyUsers: notifyUsers,\n        summary: summary,\n        start: {\n          dateTime: moment(dateTime).set({\n            month: moment(date).format(\"MM\") - 1,\n            year: moment(date).format(\"YYYY\"),\n            date: moment(date).format(\"DD\"),\n            hour: startTime.substr(0, startTime.indexOf(\":\")),\n            minute: startTime.substr(startTime.indexOf(\":\") + 1, startTime.length - 1)\n          })\n        },\n        end: {\n          dateTime: moment(dateTime).set({\n            month: moment(date).format(\"MM\") - 1,\n            year: moment(date).format(\"YYYY\"),\n            date: moment(date).format(\"DD\"),\n            hour: endTime.substr(0, endTime.indexOf(\":\")),\n            minute: endTime.substr(endTime.indexOf(\":\") + 1, endTime.length - 1)\n          })\n        },\n        description: description.trim(),\n        location: location,\n        extendedProperties: {\n          shared: {\n            cost: cost.trim(),\n            requiredParents: requiredParents,\n            requiredChildren: requiredChildren,\n            status: status,\n            parents: JSON.stringify(parents),\n            children: JSON.stringify(children),\n            start: startTime.substr(0, startTime.indexOf(\":\")),\n            end: endTime.substr(0, endTime.indexOf(\":\")),\n            category: category,\n            link: link\n          }\n        }\n      };\n      var pathname = history.location.pathname;\n\n      if (action === \"edit\") {\n        pathname = \"/api\".concat(pathname.substring(0, pathname.length - 5));\n        axios.patch(pathname, timeslot).then(function (response) {\n          Log.info(response);\n          history.goBack();\n        }).catch(function (error) {\n          Log.error(error);\n        });\n      } else {\n        pathname = \"/api\".concat(pathname.substring(0, pathname.length - 4), \"/add\");\n        axios.post(pathname, timeslot).then(function (response) {\n          Log.info(response);\n          history.goBack();\n        }).catch(function (error) {\n          Log.error(error);\n        });\n      }\n    };\n\n    _this.handleConfirmDialogClose = function (choice) {\n      var confirmDialogTrigger = _this.state.confirmDialogTrigger;\n      var history = _this.props.history;\n\n      if (choice === \"agree\") {\n        if (confirmDialogTrigger === \"delete\") {\n          _this.handleDelete();\n        } else {\n          _this.handleSave();\n        }\n      } else if (confirmDialogTrigger === \"back\") {\n        history.goBack();\n      }\n\n      _this.setState({\n        confirmDialogIsOpen: false,\n        confirmDialogTitle: \"\",\n        confirmDialogTrigger: \"\"\n      });\n    };\n\n    _this.handleConfirmDialogOpen = function (confirmDialogTrigger) {\n      var language = _this.props.language;\n      var notifyUsers = _this.state.notifyUsers;\n      var texts = Texts[language].editTimeslotScreen;\n      var confirmDialogTitle;\n\n      if (confirmDialogTrigger === \"delete\") {\n        confirmDialogTitle = texts.deleteConfirm;\n      } else if (notifyUsers) {\n        confirmDialogTitle = texts.crucialChangeConfirm;\n      } else {\n        confirmDialogTitle = texts.editConfirm;\n      }\n\n      _this.setState({\n        confirmDialogTitle: confirmDialogTitle,\n        confirmDialogIsOpen: true,\n        confirmDialogTrigger: confirmDialogTrigger\n      });\n    };\n\n    _this.getBackNavTitle = function () {\n      var _this$props3 = _this.props,\n          action = _this$props3.action,\n          language = _this$props3.language;\n      var texts = Texts[language].editTimeslotScreen;\n      var _this$state3 = _this.state,\n          start = _this$state3.start,\n          end = _this$state3.end;\n\n      if (action === \"add\") {\n        return texts.addTimeslotTitle;\n      }\n\n      return \"\".concat(moment(start.dateTime).format(\"DD MMM\"), \" \").concat(moment(start.dateTime).format(\"HH:mm\"), \"-\").concat(moment(end.dateTime).format(\"HH:mm\"));\n    };\n\n    _this.handleChange = function (event) {\n      var notifyUsers = _this.state.notifyUsers;\n      var action = _this.props.action;\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      if (action === \"edit\") {\n        if (name === \"date\" && !notifyUsers) {\n          var _this$setState;\n\n          _this.setState((_this$setState = {}, _defineProperty(_this$setState, name, value), _defineProperty(_this$setState, \"notifyUsers\", true), _defineProperty(_this$setState, \"madeChanges\", true), _this$setState));\n        } else {\n          var _this$setState2;\n\n          _this.setState((_this$setState2 = {}, _defineProperty(_this$setState2, name, value), _defineProperty(_this$setState2, \"madeChanges\", true), _this$setState2));\n        }\n      } else {\n        _this.setState(_defineProperty({}, name, value));\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(EditTimeslotScreen, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this$props4, history, action, pathname, timeslot, shared;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                document.addEventListener(\"message\", this.handleMessage, false);\n                _this$props4 = this.props, history = _this$props4.history, action = _this$props4.action;\n                pathname = history.location.pathname;\n                pathname = pathname.substring(0, pathname.length - 5);\n\n                if (!(action === \"edit\")) {\n                  _context.next = 23;\n                  break;\n                }\n\n                _context.next = 7;\n                return getTimeslot(\"/api\".concat(pathname));\n\n              case 7:\n                timeslot = _context.sent;\n                console.log(timeslot);\n                timeslot.date = moment(timeslot.start.dateTime).format(\"YYYY-MM-DD\");\n                timeslot.startTime = moment(timeslot.start.dateTime).format(\"HH:mm\");\n                timeslot.endTime = moment(timeslot.end.dateTime).format(\"HH:mm\");\n                shared = timeslot.extendedProperties.shared;\n                timeslot.category = shared.category;\n                timeslot.requiredChildren = shared.requiredChildren;\n                timeslot.requiredParents = shared.requiredParents;\n                timeslot.cost = shared.cost;\n                timeslot.status = shared.status;\n                timeslot.link = shared.link;\n                timeslot.parents = JSON.parse(shared.parents);\n                timeslot.children = JSON.parse(shared.children);\n                _context.next = 24;\n                break;\n\n              case 23:\n                timeslot = {\n                  start: {\n                    dateTime: new Date()\n                  },\n                  end: {\n                    dateTime: new Date()\n                  },\n                  date: new Date(),\n                  startTime: \"00:00\",\n                  endTime: \"00:00\",\n                  requiredChildren: 2,\n                  location: \"\",\n                  requiredParents: 2,\n                  cost: \"\",\n                  description: \"\",\n                  summary: \"\",\n                  parents: [],\n                  children: [],\n                  link: \"\",\n                  status: \"ongoing\",\n                  category: \"\"\n                };\n\n              case 24:\n                this.setState(_objectSpread({\n                  fetchedTimeslot: true\n                }, timeslot));\n\n              case 25:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"message\", this.handleMessage, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props5 = this.props,\n          language = _this$props5.language,\n          history = _this$props5.history,\n          action = _this$props5.action;\n      var _this$state4 = this.state,\n          date = _this$state4.date,\n          startTime = _this$state4.startTime,\n          endTime = _this$state4.endTime,\n          summary = _this$state4.summary,\n          description = _this$state4.description,\n          location = _this$state4.location,\n          cost = _this$state4.cost,\n          requiredChildren = _this$state4.requiredChildren,\n          requiredParents = _this$state4.requiredParents,\n          status = _this$state4.status,\n          fetchedTimeslot = _this$state4.fetchedTimeslot,\n          formIsValidated = _this$state4.formIsValidated,\n          confirmDialogIsOpen = _this$state4.confirmDialogIsOpen,\n          confirmDialogTitle = _this$state4.confirmDialogTitle,\n          madeChanges = _this$state4.madeChanges,\n          link = _this$state4.link,\n          category = _this$state4.category;\n      var formClass = [];\n\n      if (formIsValidated) {\n        formClass.push(\"was-validated\");\n      }\n\n      var rowStyle = {\n        minHeight: \"5rem\"\n      };\n      var texts = Texts[language].editTimeslotScreen;\n      return fetchedTimeslot ? /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ConfirmDialog, {\n        title: confirmDialogTitle,\n        isOpen: confirmDialogIsOpen,\n        handleClose: this.handleConfirmDialogClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"activityHeaderContainer\",\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton center\",\n        onClick: function onClick() {\n          return madeChanges ? _this2.handleConfirmDialogOpen(\"back\") : history.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-arrow-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 13\n        }\n      }, this.getBackNavTitle())), action === \"edit\" && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton center\",\n        onClick: function onClick() {\n          return _this2.handleConfirmDialogOpen(\"delete\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-trash-alt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton center\",\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 15\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"activityMainContainer\",\n        style: {\n          borderBottom: \"none\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        ref: function ref(form) {\n          _this2.formEl = form;\n        },\n        onSubmit: this.handleSubmit,\n        className: formClass,\n        noValidate: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-calendar activityInfoIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activityInfoDescription\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 17\n        }\n      }, texts.date)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"expandedTimeslotTimeInput form-control\",\n        type: \"date\",\n        onChange: this.handleChange,\n        value: date,\n        required: true,\n        name: \"date\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-clock activityInfoIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activityInfoDescription\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 17\n        }\n      }, texts.from)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"startTime\",\n        type: \"time\",\n        value: startTime,\n        onChange: this.handleChange,\n        className: \"expandedTimeslotTimeInput form-control\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activityInfoDescription\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 17\n        }\n      }, texts.to)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"time\",\n        name: \"endTime\",\n        value: endTime,\n        onChange: this.handleChange,\n        className: \"expandedTimeslotTimeInput form-control\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"endTimeErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-bookmark activityInfoIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"summary\",\n        value: summary,\n        className: \"expandedTimeslotInput form-control\",\n        onChange: this.handleChange,\n        placeholder: texts.name,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"summaryErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-file-alt activityInfoIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        rows: \"1\",\n        name: \"description\",\n        className: \"expandedTimeslotInput\",\n        placeholder: texts.description,\n        value: description,\n        onChange: function onChange(event) {\n          _this2.handleChange(event);\n\n          autosize(document.querySelectorAll(\"textarea\"));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-bookmark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        value: category,\n        onChange: this.handleChange,\n        inputProps: {\n          name: \"category\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"learning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(MenuBook, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 21\n        }\n      }, texts.learning)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"nature\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(EmojiNature, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 21\n        }\n      }, texts.nature)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"tourism\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Museum, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 21\n        }\n      }, texts.tourism)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"hobby\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(SportsBaseball, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 21\n        }\n      }, texts.hobby)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"accompanying\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Commute, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 21\n        }\n      }, texts.accompanying)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"entertainment\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Mood, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 21\n        }\n      }, texts.entertainment)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"parties\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Cake, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 21\n        }\n      }, texts.parties)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"coplaying\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Event, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 21\n        }\n      }, texts.coplaying)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"other\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(ChildCare, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 21\n        }\n      }, texts.other))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-map-marker-alt activityInfoIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 590,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"location\",\n        value: location,\n        className: \"expandedTimeslotInput form-control\",\n        onChange: this.handleChange,\n        placeholder: texts.location,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 593,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"locationErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Images.couple,\n        className: \"activityInfoImage\",\n        alt: \"couple icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activityInfoDescription\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 17\n        }\n      }, texts.parents)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 616,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"requiredParents\",\n        value: requiredParents,\n        min: 1,\n        className: \"expandedTimeslotInput form-control\",\n        onChange: this.handleChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"requiredParentsErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Images.babyFace,\n        className: \"activityInfoImage\",\n        alt: \"baby face icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 642,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activityInfoDescription\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 17\n        }\n      }, texts.children)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"requiredChildren\",\n        value: requiredChildren,\n        min: 1,\n        className: \"expandedTimeslotInput form-control\",\n        onChange: this.handleChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 646,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"requiredChildrenErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 664,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-euro-sign activityInfoIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 665,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"cost\",\n        value: cost,\n        className: \"expandedTimeslotInput\",\n        onChange: this.handleChange,\n        placeholder: texts.cost,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-link activityInfoIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 680,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"link\",\n        value: link,\n        className: \"expandedTimeslotInput\",\n        onChange: this.handleChange,\n        placeholder: texts.link,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 694,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-thumbtack activityInfoIcon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 695,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 697,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activityInfoDescription\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 17\n        }\n      }, texts.status)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-4-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"select\", {\n        value: status,\n        onChange: this.handleChange,\n        className: \"expandedTimeslotInput\",\n        name: \"status\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"ongoing\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 19\n        }\n      }, texts.ongoing), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"completed\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 708,\n          columnNumber: 19\n        }\n      }, texts.completed))))))) : /*#__PURE__*/React.createElement(LoadingSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return EditTimeslotScreen;\n}(React.Component);\n\nexport default withLanguage(EditTimeslotScreen);\nEditTimeslotScreen.propTypes = {\n  language: PropTypes.string,\n  history: PropTypes.object,\n  action: PropTypes.string\n};","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Families_Share-platform/client/src/components/EditTimeslotScreen.js"],"names":["React","axios","moment","Select","MenuItem","autosize","PropTypes","MenuBook","EmojiNature","Museum","SportsBaseball","Commute","Mood","Cake","Event","ChildCare","Texts","withLanguage","ConfirmDialog","LoadingSpinner","Images","Log","getTimeslot","pathname","get","then","response","data","catch","error","start","dateTime","end","extendedProperties","shared","parents","children","EditTimeslotScreen","state","description","madeChanges","notifyUsers","fetchedTimeslot","confirmDialogIsOpen","confirmDialogTitle","handleMessage","event","history","props","JSON","parse","action","handleConfirmDialogOpen","goBack","validate","language","texts","editTimeslotScreen","formLength","formEl","length","checkValidity","i","elem","name","startTime","endTime","samePeriod","Math","floor","substr","indexOf","setCustomValidity","timeError","nodeName","toLowerCase","errorLabel","document","getElementById","validity","valid","valueMissing","textContent","requiredErr","customError","timeErr","rangeUnderflow","rangeErr","style","display","handleSubmit","preventDefault","handleSave","setState","formIsValidated","handleDelete","summary","location","substring","delete","params","stringify","info","go","date","cost","requiredChildren","requiredParents","status","category","link","timeslot","set","month","format","year","hour","minute","trim","patch","post","handleConfirmDialogClose","choice","confirmDialogTrigger","deleteConfirm","crucialChangeConfirm","editConfirm","getBackNavTitle","addTimeslotTitle","handleChange","target","value","addEventListener","console","log","Date","removeEventListener","formClass","push","rowStyle","minHeight","borderBottom","form","from","to","querySelectorAll","learning","nature","tourism","hobby","accompanying","entertainment","parties","coplaying","other","couple","babyFace","ongoing","completed","Component","propTypes","string","object"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,mBAAjC;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SACEC,QADF,EAEEC,WAFF,EAGEC,MAHF,EAIEC,cAJF,EAKEC,OALF,EAMEC,IANF,EAOEC,IAPF,EAQEC,KARF,EASEC,SATF,QAUO,oBAVP;AAWA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,GAAP,MAAgB,OAAhB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAAC,QAAQ,EAAI;AAC9B,SAAOtB,KAAK,CACTuB,GADI,CACAD,QADA,EAEJE,IAFI,CAEC,UAAAC,QAAQ,EAAI;AAChB,WAAOA,QAAQ,CAACC,IAAhB;AACD,GAJI,EAKJC,KALI,CAKE,UAAAC,KAAK,EAAI;AACdR,IAAAA,GAAG,CAACQ,KAAJ,CAAUA,KAAV;AACA,WAAO;AACLC,MAAAA,KAAK,EAAE;AACLC,QAAAA,QAAQ,EAAE;AADL,OADF;AAILC,MAAAA,GAAG,EAAE;AACHD,QAAAA,QAAQ,EAAE;AADP,OAJA;AAOLE,MAAAA,kBAAkB,EAAE;AAClBC,QAAAA,MAAM,EAAE;AACNC,UAAAA,OAAO,EAAE,IADH;AAENC,UAAAA,QAAQ,EAAE;AAFJ;AADU;AAPf,KAAP;AAcD,GArBI,CAAP;AAsBD,CAvBD;;IAyBMC,kB;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,WAAW,EAAE,EADP;AAENC,MAAAA,WAAW,EAAE,KAFP;AAGNC,MAAAA,WAAW,EAAE,KAHP;AAINC,MAAAA,eAAe,EAAE,KAJX;AAKNC,MAAAA,mBAAmB,EAAE,KALf;AAMNC,MAAAA,kBAAkB,EAAE;AANd,K;;UAyDRC,a,GAAgB,UAAAC,KAAK,EAAI;AAAA,UACfN,WADe,GACC,MAAKF,KADN,CACfE,WADe;AAAA,UAEfO,OAFe,GAEH,MAAKC,KAFF,CAEfD,OAFe;AAGvB,UAAMpB,IAAI,GAAGsB,IAAI,CAACC,KAAL,CAAWJ,KAAK,CAACnB,IAAjB,CAAb;;AACA,UAAIA,IAAI,CAACwB,MAAL,KAAgB,eAApB,EAAqC;AACnC,YAAIX,WAAJ,EAAiB;AACf,gBAAKY,uBAAL,CAA6B,MAA7B;AACD,SAFD,MAEO;AACLL,UAAAA,OAAO,CAACM,MAAR;AACD;AACF;AACF,K;;UAEDC,Q,GAAW,YAAM;AAAA,UACPC,QADO,GACM,MAAKP,KADX,CACPO,QADO;AAEf,UAAMC,KAAK,GAAGxC,KAAK,CAACuC,QAAD,CAAL,CAAgBE,kBAA9B;AACA,UAAMC,UAAU,GAAG,MAAKC,MAAL,CAAYC,MAA/B;;AACA,UAAI,MAAKD,MAAL,CAAYE,aAAZ,OAAgC,KAApC,EAA2C;AACzC,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,UAApB,EAAgCI,CAAC,IAAI,CAArC,EAAwC;AACtC,cAAMC,IAAI,GAAG,MAAKJ,MAAL,CAAYG,CAAZ,CAAb;;AACA,cAAIC,IAAI,CAACC,IAAL,KAAc,WAAd,IAA6BD,IAAI,CAACC,IAAL,KAAc,SAA/C,EAA0D;AAAA,gBAChDC,SADgD,GAClC,MAAK3B,KAD6B,CAChD2B,SADgD;AAAA,gBAEhDC,OAFgD,GAEpC,MAAK5B,KAF+B,CAEhD4B,OAFgD;AAGxD,gBAAMC,UAAU,GACdC,IAAI,CAACC,KAAL,CAAWJ,SAAS,CAACK,MAAV,CAAiB,CAAjB,EAAoBL,SAAS,CAACM,OAAV,CAAkB,GAAlB,CAApB,IAA8C,EAAzD,MACAH,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACI,MAAR,CAAe,CAAf,EAAkBJ,OAAO,CAACK,OAAR,CAAgB,GAAhB,CAAlB,IAA0C,EAArD,CAFF;;AAGA,gBAAIJ,UAAU,IAAIF,SAAS,IAAIC,OAA/B,EAAwC;AACtCH,cAAAA,IAAI,CAACS,iBAAL,CAAuBhB,KAAK,CAACiB,SAA7B;AACD,aAFD,MAEO;AACLV,cAAAA,IAAI,CAACS,iBAAL,CAAuB,EAAvB;AACD;AACF;;AACD,cAAIT,IAAI,CAACW,QAAL,CAAcC,WAAd,OAAgC,QAApC,EAA8C;AAC5C,gBAAMC,UAAU,GAAGC,QAAQ,CAACC,cAAT,WAA2Bf,IAAI,CAACC,IAAhC,SAAnB;;AACA,gBAAIY,UAAJ,EAAgB;AACd,kBAAI,CAACb,IAAI,CAACgB,QAAL,CAAcC,KAAnB,EAA0B;AACxB,oBAAIjB,IAAI,CAACgB,QAAL,CAAcE,YAAlB,EAAgC;AAC9BL,kBAAAA,UAAU,CAACM,WAAX,GAAyB1B,KAAK,CAAC2B,WAA/B;AACD,iBAFD,MAEO,IAAIpB,IAAI,CAACgB,QAAL,CAAcK,WAAlB,EAA+B;AACpCR,kBAAAA,UAAU,CAACM,WAAX,GAAyB1B,KAAK,CAAC6B,OAA/B;AACD,iBAFM,MAEA,IAAItB,IAAI,CAACgB,QAAL,CAAcO,cAAlB,EAAkC;AACvCV,kBAAAA,UAAU,CAACM,WAAX,GAAyB1B,KAAK,CAAC+B,QAA/B;AACD;;AACDX,gBAAAA,UAAU,CAACY,KAAX,CAAiBC,OAAjB,GAA2B,OAA3B;AACD,eATD,MASO;AACLb,gBAAAA,UAAU,CAACM,WAAX,GAAyB,EAAzB;AACAN,gBAAAA,UAAU,CAACY,KAAX,CAAiBC,OAAjB,GAA2B,MAA3B;AACD;AACF;AACF;AACF;;AACD,eAAO,KAAP;AACD;;AACD,WAAK,IAAI3B,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGJ,UAApB,EAAgCI,EAAC,IAAI,CAArC,EAAwC;AACtC,YAAMC,KAAI,GAAG,MAAKJ,MAAL,CAAYG,EAAZ,CAAb;;AACA,YAAMc,WAAU,GAAGC,QAAQ,CAACC,cAAT,WAA2Bf,KAAI,CAACC,IAAhC,SAAnB;;AACA,YAAIY,WAAU,IAAIb,KAAI,CAACW,QAAL,CAAcC,WAAd,OAAgC,QAAlD,EAA4D;AAC1DC,UAAAA,WAAU,CAACM,WAAX,GAAyB,EAAzB;AACAN,UAAAA,WAAU,CAACY,KAAX,CAAiBC,OAAjB,GAA2B,OAA3B;AACD;AACF;;AAED,aAAO,IAAP;AACD,K;;UAEDC,Y,GAAe,UAAA5C,KAAK,EAAI;AAAA,UACdN,WADc,GACE,MAAKF,KADP,CACdE,WADc;AAAA,wBAEM,MAAKQ,KAFX;AAAA,UAEdD,OAFc,eAEdA,OAFc;AAAA,UAELI,MAFK,eAELA,MAFK;AAGtBL,MAAAA,KAAK,CAAC6C,cAAN;;AACA,UAAI,MAAKrC,QAAL,EAAJ,EAAqB;AACnB,YAAIH,MAAM,KAAK,MAAf,EAAuB;AACrB,cAAIX,WAAJ,EAAiB;AACf,kBAAKY,uBAAL,CAA6B,MAA7B;AACD,WAFD,MAEO;AACLL,YAAAA,OAAO,CAACM,MAAR;AACD;AACF,SAND,MAMO;AACL,gBAAKuC,UAAL;AACD;AACF,OAVD,MAUO;AACL,cAAKC,QAAL,CAAc;AAAEC,UAAAA,eAAe,EAAE;AAAnB,SAAd;AACD;AACF,K;;UAEDC,Y,GAAe,YAAM;AAAA,UACXhD,OADW,GACC,MAAKC,KADN,CACXD,OADW;AAAA,wBAEU,MAAKT,KAFf;AAAA,UAEX0D,OAFW,eAEXA,OAFW;AAAA,UAEF7D,OAFE,eAEFA,OAFE;AAAA,UAGbZ,QAHa,GAGAwB,OAAO,CAACkD,QAHR,CAGb1E,QAHa;AAInBA,MAAAA,QAAQ,iBAAUA,QAAQ,CAAC2E,SAAT,CAAmB,CAAnB,EAAsB3E,QAAQ,CAACqC,MAAT,GAAkB,CAAxC,CAAV,CAAR;AACA3D,MAAAA,KAAK,CACFkG,MADH,CACU5E,QADV,EACoB;AAChB6E,QAAAA,MAAM,EAAE;AAAEJ,UAAAA,OAAO,EAAPA,OAAF;AAAW7D,UAAAA,OAAO,EAAEc,IAAI,CAACoD,SAAL,CAAelE,OAAf;AAApB;AADQ,OADpB,EAIGV,IAJH,CAIQ,UAAAC,QAAQ,EAAI;AAChBL,QAAAA,GAAG,CAACiF,IAAJ,CAAS5E,QAAT;AACAqB,QAAAA,OAAO,CAACwD,EAAR,CAAW,CAAC,CAAZ;AACD,OAPH,EAQG3E,KARH,CAQS,UAAAC,KAAK,EAAI;AACdR,QAAAA,GAAG,CAACQ,KAAJ,CAAUA,KAAV;AACD,OAVH;AAWD,K;;UAED+D,U,GAAa,YAAM;AAAA,yBACW,MAAK5C,KADhB;AAAA,UACTD,OADS,gBACTA,OADS;AAAA,UACAI,MADA,gBACAA,MADA;AAAA,UAETrB,KAFS,GAEC,MAAKQ,KAFN,CAETR,KAFS;AAAA,UAGTC,QAHS,GAGID,KAHJ,CAGTC,QAHS;AAAA,yBAoBb,MAAKO,KApBQ;AAAA,UAKfkE,IALe,gBAKfA,IALe;AAAA,UAMfvC,SANe,gBAMfA,SANe;AAAA,UAOfC,OAPe,gBAOfA,OAPe;AAAA,UAQf8B,OARe,gBAQfA,OARe;AAAA,UASfzD,WATe,gBASfA,WATe;AAAA,UAUf0D,QAVe,gBAUfA,QAVe;AAAA,UAWfQ,IAXe,gBAWfA,IAXe;AAAA,UAYfC,gBAZe,gBAYfA,gBAZe;AAAA,UAafC,eAbe,gBAafA,eAbe;AAAA,UAcfC,MAde,gBAcfA,MAde;AAAA,UAefC,QAfe,gBAefA,QAfe;AAAA,UAgBf1E,OAhBe,gBAgBfA,OAhBe;AAAA,UAiBfC,QAjBe,gBAiBfA,QAjBe;AAAA,UAkBfK,WAlBe,gBAkBfA,WAlBe;AAAA,UAmBfqE,IAnBe,gBAmBfA,IAnBe;AAqBjB,UAAMC,QAAQ,GAAG;AACftE,QAAAA,WAAW,EAAXA,WADe;AAEfuD,QAAAA,OAAO,EAAPA,OAFe;AAGflE,QAAAA,KAAK,EAAE;AACLC,UAAAA,QAAQ,EAAE7B,MAAM,CAAC6B,QAAD,CAAN,CAAiBiF,GAAjB,CAAqB;AAC7BC,YAAAA,KAAK,EAAE/G,MAAM,CAACsG,IAAD,CAAN,CAAaU,MAAb,CAAoB,IAApB,IAA4B,CADN;AAE7BC,YAAAA,IAAI,EAAEjH,MAAM,CAACsG,IAAD,CAAN,CAAaU,MAAb,CAAoB,MAApB,CAFuB;AAG7BV,YAAAA,IAAI,EAAEtG,MAAM,CAACsG,IAAD,CAAN,CAAaU,MAAb,CAAoB,IAApB,CAHuB;AAI7BE,YAAAA,IAAI,EAAEnD,SAAS,CAACK,MAAV,CAAiB,CAAjB,EAAoBL,SAAS,CAACM,OAAV,CAAkB,GAAlB,CAApB,CAJuB;AAK7B8C,YAAAA,MAAM,EAAEpD,SAAS,CAACK,MAAV,CACNL,SAAS,CAACM,OAAV,CAAkB,GAAlB,IAAyB,CADnB,EAENN,SAAS,CAACL,MAAV,GAAmB,CAFb;AALqB,WAArB;AADL,SAHQ;AAef5B,QAAAA,GAAG,EAAE;AACHD,UAAAA,QAAQ,EAAE7B,MAAM,CAAC6B,QAAD,CAAN,CAAiBiF,GAAjB,CAAqB;AAC7BC,YAAAA,KAAK,EAAE/G,MAAM,CAACsG,IAAD,CAAN,CAAaU,MAAb,CAAoB,IAApB,IAA4B,CADN;AAE7BC,YAAAA,IAAI,EAAEjH,MAAM,CAACsG,IAAD,CAAN,CAAaU,MAAb,CAAoB,MAApB,CAFuB;AAG7BV,YAAAA,IAAI,EAAEtG,MAAM,CAACsG,IAAD,CAAN,CAAaU,MAAb,CAAoB,IAApB,CAHuB;AAI7BE,YAAAA,IAAI,EAAElD,OAAO,CAACI,MAAR,CAAe,CAAf,EAAkBJ,OAAO,CAACK,OAAR,CAAgB,GAAhB,CAAlB,CAJuB;AAK7B8C,YAAAA,MAAM,EAAEnD,OAAO,CAACI,MAAR,CAAeJ,OAAO,CAACK,OAAR,CAAgB,GAAhB,IAAuB,CAAtC,EAAyCL,OAAO,CAACN,MAAR,GAAiB,CAA1D;AALqB,WAArB;AADP,SAfU;AAwBfrB,QAAAA,WAAW,EAAEA,WAAW,CAAC+E,IAAZ,EAxBE;AAyBfrB,QAAAA,QAAQ,EAARA,QAzBe;AA0BfhE,QAAAA,kBAAkB,EAAE;AAClBC,UAAAA,MAAM,EAAE;AACNuE,YAAAA,IAAI,EAAEA,IAAI,CAACa,IAAL,EADA;AAENX,YAAAA,eAAe,EAAfA,eAFM;AAGND,YAAAA,gBAAgB,EAAhBA,gBAHM;AAINE,YAAAA,MAAM,EAANA,MAJM;AAKNzE,YAAAA,OAAO,EAAEc,IAAI,CAACoD,SAAL,CAAelE,OAAf,CALH;AAMNC,YAAAA,QAAQ,EAAEa,IAAI,CAACoD,SAAL,CAAejE,QAAf,CANJ;AAONN,YAAAA,KAAK,EAAEmC,SAAS,CAACK,MAAV,CAAiB,CAAjB,EAAoBL,SAAS,CAACM,OAAV,CAAkB,GAAlB,CAApB,CAPD;AAQNvC,YAAAA,GAAG,EAAEkC,OAAO,CAACI,MAAR,CAAe,CAAf,EAAkBJ,OAAO,CAACK,OAAR,CAAgB,GAAhB,CAAlB,CARC;AASNsC,YAAAA,QAAQ,EAARA,QATM;AAUNC,YAAAA,IAAI,EAAJA;AAVM;AADU;AA1BL,OAAjB;AArBiB,UA8DXvF,QA9DW,GA8DEwB,OAAO,CAACkD,QA9DV,CA8DX1E,QA9DW;;AA+DjB,UAAI4B,MAAM,KAAK,MAAf,EAAuB;AACrB5B,QAAAA,QAAQ,iBAAUA,QAAQ,CAAC2E,SAAT,CAAmB,CAAnB,EAAsB3E,QAAQ,CAACqC,MAAT,GAAkB,CAAxC,CAAV,CAAR;AACA3D,QAAAA,KAAK,CACFsH,KADH,CACShG,QADT,EACmBwF,QADnB,EAEGtF,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChBL,UAAAA,GAAG,CAACiF,IAAJ,CAAS5E,QAAT;AACAqB,UAAAA,OAAO,CAACM,MAAR;AACD,SALH,EAMGzB,KANH,CAMS,UAAAC,KAAK,EAAI;AACdR,UAAAA,GAAG,CAACQ,KAAJ,CAAUA,KAAV;AACD,SARH;AASD,OAXD,MAWO;AACLN,QAAAA,QAAQ,iBAAUA,QAAQ,CAAC2E,SAAT,CAAmB,CAAnB,EAAsB3E,QAAQ,CAACqC,MAAT,GAAkB,CAAxC,CAAV,SAAR;AACA3D,QAAAA,KAAK,CACFuH,IADH,CACQjG,QADR,EACkBwF,QADlB,EAEGtF,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChBL,UAAAA,GAAG,CAACiF,IAAJ,CAAS5E,QAAT;AACAqB,UAAAA,OAAO,CAACM,MAAR;AACD,SALH,EAMGzB,KANH,CAMS,UAAAC,KAAK,EAAI;AACdR,UAAAA,GAAG,CAACQ,KAAJ,CAAUA,KAAV;AACD,SARH;AASD;AACF,K;;UAED4F,wB,GAA2B,UAAAC,MAAM,EAAI;AAAA,UAC3BC,oBAD2B,GACF,MAAKrF,KADH,CAC3BqF,oBAD2B;AAAA,UAE3B5E,OAF2B,GAEf,MAAKC,KAFU,CAE3BD,OAF2B;;AAGnC,UAAI2E,MAAM,KAAK,OAAf,EAAwB;AACtB,YAAIC,oBAAoB,KAAK,QAA7B,EAAuC;AACrC,gBAAK5B,YAAL;AACD,SAFD,MAEO;AACL,gBAAKH,UAAL;AACD;AACF,OAND,MAMO,IAAI+B,oBAAoB,KAAK,MAA7B,EAAqC;AAC1C5E,QAAAA,OAAO,CAACM,MAAR;AACD;;AACD,YAAKwC,QAAL,CAAc;AACZlD,QAAAA,mBAAmB,EAAE,KADT;AAEZC,QAAAA,kBAAkB,EAAE,EAFR;AAGZ+E,QAAAA,oBAAoB,EAAE;AAHV,OAAd;AAKD,K;;UAEDvE,uB,GAA0B,UAAAuE,oBAAoB,EAAI;AAAA,UACxCpE,QADwC,GAC3B,MAAKP,KADsB,CACxCO,QADwC;AAAA,UAExCd,WAFwC,GAExB,MAAKH,KAFmB,CAExCG,WAFwC;AAGhD,UAAMe,KAAK,GAAGxC,KAAK,CAACuC,QAAD,CAAL,CAAgBE,kBAA9B;AACA,UAAIb,kBAAJ;;AACA,UAAI+E,oBAAoB,KAAK,QAA7B,EAAuC;AACrC/E,QAAAA,kBAAkB,GAAGY,KAAK,CAACoE,aAA3B;AACD,OAFD,MAEO,IAAInF,WAAJ,EAAiB;AACtBG,QAAAA,kBAAkB,GAAGY,KAAK,CAACqE,oBAA3B;AACD,OAFM,MAEA;AACLjF,QAAAA,kBAAkB,GAAGY,KAAK,CAACsE,WAA3B;AACD;;AACD,YAAKjC,QAAL,CAAc;AACZjD,QAAAA,kBAAkB,EAAlBA,kBADY;AAEZD,QAAAA,mBAAmB,EAAE,IAFT;AAGZgF,QAAAA,oBAAoB,EAApBA;AAHY,OAAd;AAKD,K;;UAEDI,e,GAAkB,YAAM;AAAA,yBACO,MAAK/E,KADZ;AAAA,UACdG,MADc,gBACdA,MADc;AAAA,UACNI,QADM,gBACNA,QADM;AAEtB,UAAMC,KAAK,GAAGxC,KAAK,CAACuC,QAAD,CAAL,CAAgBE,kBAA9B;AAFsB,yBAGC,MAAKnB,KAHN;AAAA,UAGdR,KAHc,gBAGdA,KAHc;AAAA,UAGPE,GAHO,gBAGPA,GAHO;;AAItB,UAAImB,MAAM,KAAK,KAAf,EAAsB;AACpB,eAAOK,KAAK,CAACwE,gBAAb;AACD;;AACD,uBAAU9H,MAAM,CAAC4B,KAAK,CAACC,QAAP,CAAN,CAAuBmF,MAAvB,CAA8B,QAA9B,CAAV,cAAqDhH,MAAM,CACzD4B,KAAK,CAACC,QADmD,CAAN,CAEnDmF,MAFmD,CAE5C,OAF4C,CAArD,cAEqBhH,MAAM,CAAC8B,GAAG,CAACD,QAAL,CAAN,CAAqBmF,MAArB,CAA4B,OAA5B,CAFrB;AAGD,K;;UAEDe,Y,GAAe,UAAAnF,KAAK,EAAI;AAAA,UACdL,WADc,GACE,MAAKH,KADP,CACdG,WADc;AAAA,UAEdU,MAFc,GAEH,MAAKH,KAFF,CAEdG,MAFc;AAAA,0BAGEL,KAAK,CAACoF,MAHR;AAAA,UAGdlE,IAHc,iBAGdA,IAHc;AAAA,UAGRmE,KAHQ,iBAGRA,KAHQ;;AAItB,UAAIhF,MAAM,KAAK,MAAf,EAAuB;AACrB,YAAIa,IAAI,KAAK,MAAT,IAAmB,CAACvB,WAAxB,EAAqC;AAAA;;AACnC,gBAAKoD,QAAL,uDAAiB7B,IAAjB,EAAwBmE,KAAxB,kDAA4C,IAA5C,kDAA+D,IAA/D;AACD,SAFD,MAEO;AAAA;;AACL,gBAAKtC,QAAL,yDAAiB7B,IAAjB,EAAwBmE,KAAxB,mDAA4C,IAA5C;AACD;AACF,OAND,MAMO;AACL,cAAKtC,QAAL,qBAAiB7B,IAAjB,EAAwBmE,KAAxB;AACD;AACF,K;;;;;;;;;;;;;;;AA5SCtD,gBAAAA,QAAQ,CAACuD,gBAAT,CAA0B,SAA1B,EAAqC,KAAKvF,aAA1C,EAAyD,KAAzD;+BAC4B,KAAKG,K,EAAzBD,O,gBAAAA,O,EAASI,M,gBAAAA,M;AACX5B,gBAAAA,Q,GAAawB,OAAO,CAACkD,Q,CAArB1E,Q;AACNA,gBAAAA,QAAQ,GAAGA,QAAQ,CAAC2E,SAAT,CAAmB,CAAnB,EAAsB3E,QAAQ,CAACqC,MAAT,GAAkB,CAAxC,CAAX;;sBAEIT,MAAM,KAAK,M;;;;;;uBACI7B,WAAW,eAAQC,QAAR,E;;;AAA5BwF,gBAAAA,Q;AACAsB,gBAAAA,OAAO,CAACC,GAAR,CAAYvB,QAAZ;AACAA,gBAAAA,QAAQ,CAACP,IAAT,GAAgBtG,MAAM,CAAC6G,QAAQ,CAACjF,KAAT,CAAeC,QAAhB,CAAN,CAAgCmF,MAAhC,CAAuC,YAAvC,CAAhB;AACAH,gBAAAA,QAAQ,CAAC9C,SAAT,GAAqB/D,MAAM,CAAC6G,QAAQ,CAACjF,KAAT,CAAeC,QAAhB,CAAN,CAAgCmF,MAAhC,CAAuC,OAAvC,CAArB;AACAH,gBAAAA,QAAQ,CAAC7C,OAAT,GAAmBhE,MAAM,CAAC6G,QAAQ,CAAC/E,GAAT,CAAaD,QAAd,CAAN,CAA8BmF,MAA9B,CAAqC,OAArC,CAAnB;AACQhF,gBAAAA,M,GAAW6E,QAAQ,CAAC9E,kB,CAApBC,M;AACR6E,gBAAAA,QAAQ,CAACF,QAAT,GAAoB3E,MAAM,CAAC2E,QAA3B;AACAE,gBAAAA,QAAQ,CAACL,gBAAT,GAA4BxE,MAAM,CAACwE,gBAAnC;AACAK,gBAAAA,QAAQ,CAACJ,eAAT,GAA2BzE,MAAM,CAACyE,eAAlC;AACAI,gBAAAA,QAAQ,CAACN,IAAT,GAAgBvE,MAAM,CAACuE,IAAvB;AACAM,gBAAAA,QAAQ,CAACH,MAAT,GAAkB1E,MAAM,CAAC0E,MAAzB;AACAG,gBAAAA,QAAQ,CAACD,IAAT,GAAgB5E,MAAM,CAAC4E,IAAvB;AACAC,gBAAAA,QAAQ,CAAC5E,OAAT,GAAmBc,IAAI,CAACC,KAAL,CAAWhB,MAAM,CAACC,OAAlB,CAAnB;AACA4E,gBAAAA,QAAQ,CAAC3E,QAAT,GAAoBa,IAAI,CAACC,KAAL,CAAWhB,MAAM,CAACE,QAAlB,CAApB;;;;;AAEA2E,gBAAAA,QAAQ,GAAG;AACTjF,kBAAAA,KAAK,EAAE;AAAEC,oBAAAA,QAAQ,EAAE,IAAIwG,IAAJ;AAAZ,mBADE;AAETvG,kBAAAA,GAAG,EAAE;AAAED,oBAAAA,QAAQ,EAAE,IAAIwG,IAAJ;AAAZ,mBAFI;AAGT/B,kBAAAA,IAAI,EAAE,IAAI+B,IAAJ,EAHG;AAITtE,kBAAAA,SAAS,EAAE,OAJF;AAKTC,kBAAAA,OAAO,EAAE,OALA;AAMTwC,kBAAAA,gBAAgB,EAAE,CANT;AAOTT,kBAAAA,QAAQ,EAAE,EAPD;AAQTU,kBAAAA,eAAe,EAAE,CARR;AASTF,kBAAAA,IAAI,EAAE,EATG;AAUTlE,kBAAAA,WAAW,EAAE,EAVJ;AAWTyD,kBAAAA,OAAO,EAAE,EAXA;AAYT7D,kBAAAA,OAAO,EAAE,EAZA;AAaTC,kBAAAA,QAAQ,EAAE,EAbD;AAcT0E,kBAAAA,IAAI,EAAE,EAdG;AAeTF,kBAAAA,MAAM,EAAE,SAfC;AAgBTC,kBAAAA,QAAQ,EAAE;AAhBD,iBAAX;;;AAmBF,qBAAKhB,QAAL;AAAgBnD,kBAAAA,eAAe,EAAE;AAAjC,mBAA0CqE,QAA1C;;;;;;;;;;;;;;;;;;2CAGqB;AACrBlC,MAAAA,QAAQ,CAAC2D,mBAAT,CAA6B,SAA7B,EAAwC,KAAK3F,aAA7C,EAA4D,KAA5D;AACD;;;6BAiQQ;AAAA;;AAAA,yBAC+B,KAAKG,KADpC;AAAA,UACCO,QADD,gBACCA,QADD;AAAA,UACWR,OADX,gBACWA,OADX;AAAA,UACoBI,MADpB,gBACoBA,MADpB;AAAA,yBAoBH,KAAKb,KApBF;AAAA,UAGLkE,IAHK,gBAGLA,IAHK;AAAA,UAILvC,SAJK,gBAILA,SAJK;AAAA,UAKLC,OALK,gBAKLA,OALK;AAAA,UAML8B,OANK,gBAMLA,OANK;AAAA,UAOLzD,WAPK,gBAOLA,WAPK;AAAA,UAQL0D,QARK,gBAQLA,QARK;AAAA,UASLQ,IATK,gBASLA,IATK;AAAA,UAULC,gBAVK,gBAULA,gBAVK;AAAA,UAWLC,eAXK,gBAWLA,eAXK;AAAA,UAYLC,MAZK,gBAYLA,MAZK;AAAA,UAaLlE,eAbK,gBAaLA,eAbK;AAAA,UAcLoD,eAdK,gBAcLA,eAdK;AAAA,UAeLnD,mBAfK,gBAeLA,mBAfK;AAAA,UAgBLC,kBAhBK,gBAgBLA,kBAhBK;AAAA,UAiBLJ,WAjBK,gBAiBLA,WAjBK;AAAA,UAkBLsE,IAlBK,gBAkBLA,IAlBK;AAAA,UAmBLD,QAnBK,gBAmBLA,QAnBK;AAqBP,UAAM4B,SAAS,GAAG,EAAlB;;AACA,UAAI3C,eAAJ,EAAqB;AACnB2C,QAAAA,SAAS,CAACC,IAAV,CAAe,eAAf;AACD;;AACD,UAAMC,QAAQ,GAAG;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAjB;AACA,UAAMpF,KAAK,GAAGxC,KAAK,CAACuC,QAAD,CAAL,CAAgBE,kBAA9B;AACA,aAAOf,eAAe,gBACpB,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,aAAD;AACE,QAAA,KAAK,EAAEE,kBADT;AAEE,QAAA,MAAM,EAAED,mBAFV;AAGE,QAAA,WAAW,EAAE,KAAK8E,wBAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAME;AAAK,QAAA,EAAE,EAAC,yBAAR;AAAkC,QAAA,SAAS,EAAC,gBAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,0BAFZ;AAGE,QAAA,OAAO,EAAE;AAAA,iBACPjF,WAAW,GACP,MAAI,CAACY,uBAAL,CAA6B,MAA7B,CADO,GAEPL,OAAO,CAACM,MAAR,EAHG;AAAA,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBASE;AAAG,QAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CADF,CADF,eAcE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwB,KAAK0E,eAAL,EAAxB,CADF,CAdF,EAiBG5E,MAAM,KAAK,MAAX,iBACC;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,0BAFZ;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,uBAAL,CAA6B,QAA7B,CAAN;AAAA,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAG,QAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF,CAlBJ,eA4BE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,0BAFZ;AAGE,QAAA,OAAO,EAAE,KAAKsC,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAG,QAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF,CA5BF,CANF,eA4CE;AAAK,QAAA,EAAE,EAAC,uBAAR;AAAgC,QAAA,KAAK,EAAE;AAAEmD,UAAAA,YAAY,EAAE;AAAhB,SAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAE,aAAAC,IAAI,EAAI;AACX,UAAA,MAAI,CAACnF,MAAL,GAAcmF,IAAd;AACD,SAHH;AAIE,QAAA,QAAQ,EAAE,KAAKpD,YAJjB;AAKE,QAAA,SAAS,EAAE+C,SALb;AAME,QAAA,UAAU,MANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAQE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAEE,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,kCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0CnF,KAAK,CAACgD,IAAhD,CADF,CAJF,eAOE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,SAAS,EAAC,wCADZ;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,QAAQ,EAAE,KAAKyB,YAHjB;AAIE,QAAA,KAAK,EAAEzB,IAJT;AAKE,QAAA,QAAQ,MALV;AAME,QAAA,IAAI,EAAC,MANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAPF,CARF,eA0BE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAEmC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,+BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0CnF,KAAK,CAACuF,IAAhD,CADF,CAJF,eAOE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,WADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAE9E,SAHT;AAIE,QAAA,QAAQ,EAAE,KAAKgE,YAJjB;AAKE,QAAA,SAAS,EAAC,wCALZ;AAME,QAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAPF,CA1BF,eA4CE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAEU,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0CnF,KAAK,CAACwF,EAAhD,CADF,CAFF,eAKE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,SAFP;AAGE,QAAA,KAAK,EAAE9E,OAHT;AAIE,QAAA,QAAQ,EAAE,KAAK+D,YAJjB;AAKE,QAAA,SAAS,EAAC,wCALZ;AAME,QAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CALF,CA5CF,eA4DE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAmC,QAAA,EAAE,EAAC,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CA5DF,eAkEE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAEU,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,kCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,SAFP;AAGE,QAAA,KAAK,EAAE3C,OAHT;AAIE,QAAA,SAAS,EAAC,oCAJZ;AAKE,QAAA,QAAQ,EAAE,KAAKiC,YALjB;AAME,QAAA,WAAW,EAAEzE,KAAK,CAACQ,IANrB;AAOE,QAAA,QAAQ,MAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAUE;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAmC,QAAA,EAAE,EAAC,YAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,CAJF,CAlEF,eAmFE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAE2E,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,kCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,GADP;AAEE,QAAA,IAAI,EAAC,aAFP;AAGE,QAAA,SAAS,EAAC,uBAHZ;AAIE,QAAA,WAAW,EAAEnF,KAAK,CAACjB,WAJrB;AAKE,QAAA,KAAK,EAAEA,WALT;AAME,QAAA,QAAQ,EAAE,kBAAAO,KAAK,EAAI;AACjB,UAAA,MAAI,CAACmF,YAAL,CAAkBnF,KAAlB;;AACAzC,UAAAA,QAAQ,CAACwE,QAAQ,CAACoE,gBAAT,CAA0B,UAA1B,CAAD,CAAR;AACD,SATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,CAnFF,eAqGE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAEN,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,iBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AACE,QAAA,KAAK,EAAE9B,QADT;AAEE,QAAA,QAAQ,EAAE,KAAKoB,YAFjB;AAGE,QAAA,UAAU,EAAE;AACVjE,UAAAA,IAAI,EAAE;AADI,SAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+BR,KAAK,CAAC0F,QAArC,CAFF,CAPF,eAWE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+B1F,KAAK,CAAC2F,MAArC,CAFF,CAXF,eAeE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+B3F,KAAK,CAAC4F,OAArC,CAFF,CAfF,eAmBE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+B5F,KAAK,CAAC6F,KAArC,CAFF,CAnBF,eAuBE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+B7F,KAAK,CAAC8F,YAArC,CAFF,CAvBF,eA2BE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+B9F,KAAK,CAAC+F,aAArC,CAFF,CA3BF,eA+BE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+B/F,KAAK,CAACgG,OAArC,CAFF,CA/BF,eAmCE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+BhG,KAAK,CAACiG,SAArC,CAFF,CAnCF,eAuCE,oBAAC,QAAD;AAAU,QAAA,KAAK,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+BjG,KAAK,CAACkG,KAArC,CAFF,CAvCF,CADF,CAJF,CArGF,eAwJE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAEf,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,wCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,KAAK,EAAE1C,QAHT;AAIE,QAAA,SAAS,EAAC,oCAJZ;AAKE,QAAA,QAAQ,EAAE,KAAKgC,YALjB;AAME,QAAA,WAAW,EAAEzE,KAAK,CAACyC,QANrB;AAOE,QAAA,QAAQ,MAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAUE;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAmC,QAAA,EAAE,EAAC,aAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,CAJF,CAxJF,eAyKE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAE0C,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAEvH,MAAM,CAACuI,MADd;AAEE,QAAA,SAAS,EAAC,mBAFZ;AAGE,QAAA,GAAG,EAAC,aAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAQE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0CnG,KAAK,CAACrB,OAAhD,CADF,CARF,eAWE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,IAAI,EAAC,iBAFP;AAGE,QAAA,KAAK,EAAEwE,eAHT;AAIE,QAAA,GAAG,EAAE,CAJP;AAKE,QAAA,SAAS,EAAC,oCALZ;AAME,QAAA,QAAQ,EAAE,KAAKsB,YANjB;AAOE,QAAA,QAAQ,MAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAXF,CAzKF,eAgME;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAmC,QAAA,EAAE,EAAC,oBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CAhMF,eAsME;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAEU,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAEvH,MAAM,CAACwI,QADd;AAEE,QAAA,SAAS,EAAC,mBAFZ;AAGE,QAAA,GAAG,EAAC,gBAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAQE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0CpG,KAAK,CAACpB,QAAhD,CADF,CARF,eAWE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,IAAI,EAAC,kBAFP;AAGE,QAAA,KAAK,EAAEsE,gBAHT;AAIE,QAAA,GAAG,EAAE,CAJP;AAKE,QAAA,SAAS,EAAC,oCALZ;AAME,QAAA,QAAQ,EAAE,KAAKuB,YANjB;AAOE,QAAA,QAAQ,MAPV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAXF,CAtMF,eA6NE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAM,QAAA,SAAS,EAAC,kBAAhB;AAAmC,QAAA,EAAE,EAAC,qBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,CA7NF,eAmOE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAEU,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,mCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAElC,IAHT;AAIE,QAAA,SAAS,EAAC,uBAJZ;AAKE,QAAA,QAAQ,EAAE,KAAKwB,YALjB;AAME,QAAA,WAAW,EAAEzE,KAAK,CAACiD,IANrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,CAnOF,eAkPE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAEkC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,8BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,IAAI,EAAC,MAFP;AAGE,QAAA,KAAK,EAAE7B,IAHT;AAIE,QAAA,SAAS,EAAC,uBAJZ;AAKE,QAAA,QAAQ,EAAE,KAAKmB,YALjB;AAME,QAAA,WAAW,EAAEzE,KAAK,CAACsD,IANrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,CAlPF,eAiQE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,KAAK,EAAE6B,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,mCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA0CnF,KAAK,CAACoD,MAAhD,CADF,CAJF,eAOE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,KAAK,EAAEA,MADT;AAEE,QAAA,QAAQ,EAAE,KAAKqB,YAFjB;AAGE,QAAA,SAAS,EAAC,uBAHZ;AAIE,QAAA,IAAI,EAAC,QAJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAME;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyBzE,KAAK,CAACqG,OAA/B,CANF,eAOE;AAAQ,QAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA2BrG,KAAK,CAACsG,SAAjC,CAPF,CADF,CAPF,CAjQF,CADF,CA5CF,CADoB,gBAsUpB,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtUF;AAwUD;;;;EA5pB8B9J,KAAK,CAAC+J,S;;AA+pBvC,eAAe9I,YAAY,CAACoB,kBAAD,CAA3B;AAEAA,kBAAkB,CAAC2H,SAAnB,GAA+B;AAC7BzG,EAAAA,QAAQ,EAAEjD,SAAS,CAAC2J,MADS;AAE7BlH,EAAAA,OAAO,EAAEzC,SAAS,CAAC4J,MAFU;AAG7B/G,EAAAA,MAAM,EAAE7C,SAAS,CAAC2J;AAHW,CAA/B","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { Select, MenuItem } from \"@material-ui/core\";\r\nimport autosize from \"autosize\";\r\nimport PropTypes from \"prop-types\";\r\nimport {\r\n  MenuBook,\r\n  EmojiNature,\r\n  Museum,\r\n  SportsBaseball,\r\n  Commute,\r\n  Mood,\r\n  Cake,\r\n  Event,\r\n  ChildCare\r\n} from \"@material-ui/icons\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport ConfirmDialog from \"./ConfirmDialog\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\nimport Images from \"../Constants/Images\";\r\nimport Log from \"./Log\";\r\n\r\nconst getTimeslot = pathname => {\r\n  return axios\r\n    .get(pathname)\r\n    .then(response => {\r\n      return response.data;\r\n    })\r\n    .catch(error => {\r\n      Log.error(error);\r\n      return {\r\n        start: {\r\n          dateTime: \"\"\r\n        },\r\n        end: {\r\n          dateTime: \"\"\r\n        },\r\n        extendedProperties: {\r\n          shared: {\r\n            parents: \"[]\",\r\n            children: \"[]\"\r\n          }\r\n        }\r\n      };\r\n    });\r\n};\r\n\r\nclass EditTimeslotScreen extends React.Component {\r\n  state = {\r\n    description: \"\",\r\n    madeChanges: false,\r\n    notifyUsers: false,\r\n    fetchedTimeslot: false,\r\n    confirmDialogIsOpen: false,\r\n    confirmDialogTitle: \"\"\r\n  };\r\n\r\n  async componentDidMount() {\r\n    document.addEventListener(\"message\", this.handleMessage, false);\r\n    const { history, action } = this.props;\r\n    let { pathname } = history.location;\r\n    pathname = pathname.substring(0, pathname.length - 5);\r\n    let timeslot;\r\n    if (action === \"edit\") {\r\n      timeslot = await getTimeslot(`/api${pathname}`);\r\n      console.log(timeslot);\r\n      timeslot.date = moment(timeslot.start.dateTime).format(\"YYYY-MM-DD\");\r\n      timeslot.startTime = moment(timeslot.start.dateTime).format(\"HH:mm\");\r\n      timeslot.endTime = moment(timeslot.end.dateTime).format(\"HH:mm\");\r\n      const { shared } = timeslot.extendedProperties;\r\n      timeslot.category = shared.category;\r\n      timeslot.requiredChildren = shared.requiredChildren;\r\n      timeslot.requiredParents = shared.requiredParents;\r\n      timeslot.cost = shared.cost;\r\n      timeslot.status = shared.status;\r\n      timeslot.link = shared.link;\r\n      timeslot.parents = JSON.parse(shared.parents);\r\n      timeslot.children = JSON.parse(shared.children);\r\n    } else {\r\n      timeslot = {\r\n        start: { dateTime: new Date() },\r\n        end: { dateTime: new Date() },\r\n        date: new Date(),\r\n        startTime: \"00:00\",\r\n        endTime: \"00:00\",\r\n        requiredChildren: 2,\r\n        location: \"\",\r\n        requiredParents: 2,\r\n        cost: \"\",\r\n        description: \"\",\r\n        summary: \"\",\r\n        parents: [],\r\n        children: [],\r\n        link: \"\",\r\n        status: \"ongoing\",\r\n        category: \"\"\r\n      };\r\n    }\r\n    this.setState({ fetchedTimeslot: true, ...timeslot });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    document.removeEventListener(\"message\", this.handleMessage, false);\r\n  }\r\n\r\n  handleMessage = event => {\r\n    const { madeChanges } = this.state;\r\n    const { history } = this.props;\r\n    const data = JSON.parse(event.data);\r\n    if (data.action === \"confirmGoBack\") {\r\n      if (madeChanges) {\r\n        this.handleConfirmDialogOpen(\"back\");\r\n      } else {\r\n        history.goBack();\r\n      }\r\n    }\r\n  };\r\n\r\n  validate = () => {\r\n    const { language } = this.props;\r\n    const texts = Texts[language].editTimeslotScreen;\r\n    const formLength = this.formEl.length;\r\n    if (this.formEl.checkValidity() === false) {\r\n      for (let i = 0; i < formLength; i += 1) {\r\n        const elem = this.formEl[i];\r\n        if (elem.name === \"startTime\" || elem.name === \"endTime\") {\r\n          const { startTime } = this.state;\r\n          const { endTime } = this.state;\r\n          const samePeriod =\r\n            Math.floor(startTime.substr(0, startTime.indexOf(\":\")) / 12) ===\r\n            Math.floor(endTime.substr(0, endTime.indexOf(\":\")) / 12);\r\n          if (samePeriod && startTime >= endTime) {\r\n            elem.setCustomValidity(texts.timeError);\r\n          } else {\r\n            elem.setCustomValidity(\"\");\r\n          }\r\n        }\r\n        if (elem.nodeName.toLowerCase() !== \"button\") {\r\n          const errorLabel = document.getElementById(`${elem.name}Err`);\r\n          if (errorLabel) {\r\n            if (!elem.validity.valid) {\r\n              if (elem.validity.valueMissing) {\r\n                errorLabel.textContent = texts.requiredErr;\r\n              } else if (elem.validity.customError) {\r\n                errorLabel.textContent = texts.timeErr;\r\n              } else if (elem.validity.rangeUnderflow) {\r\n                errorLabel.textContent = texts.rangeErr;\r\n              }\r\n              errorLabel.style.display = \"block\";\r\n            } else {\r\n              errorLabel.textContent = \"\";\r\n              errorLabel.style.display = \"none\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    for (let i = 0; i < formLength; i += 1) {\r\n      const elem = this.formEl[i];\r\n      const errorLabel = document.getElementById(`${elem.name}Err`);\r\n      if (errorLabel && elem.nodeName.toLowerCase() !== \"button\") {\r\n        errorLabel.textContent = \"\";\r\n        errorLabel.style.display = \"block\";\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    const { madeChanges } = this.state;\r\n    const { history, action } = this.props;\r\n    event.preventDefault();\r\n    if (this.validate()) {\r\n      if (action === \"edit\") {\r\n        if (madeChanges) {\r\n          this.handleConfirmDialogOpen(\"save\");\r\n        } else {\r\n          history.goBack();\r\n        }\r\n      } else {\r\n        this.handleSave();\r\n      }\r\n    } else {\r\n      this.setState({ formIsValidated: true });\r\n    }\r\n  };\r\n\r\n  handleDelete = () => {\r\n    const { history } = this.props;\r\n    const { summary, parents } = this.state;\r\n    let { pathname } = history.location;\r\n    pathname = `/api${pathname.substring(0, pathname.length - 5)}`;\r\n    axios\r\n      .delete(pathname, {\r\n        params: { summary, parents: JSON.stringify(parents) }\r\n      })\r\n      .then(response => {\r\n        Log.info(response);\r\n        history.go(-2);\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n      });\r\n  };\r\n\r\n  handleSave = () => {\r\n    const { history, action } = this.props;\r\n    const { start } = this.state;\r\n    const { dateTime } = start;\r\n    const {\r\n      date,\r\n      startTime,\r\n      endTime,\r\n      summary,\r\n      description,\r\n      location,\r\n      cost,\r\n      requiredChildren,\r\n      requiredParents,\r\n      status,\r\n      category,\r\n      parents,\r\n      children,\r\n      notifyUsers,\r\n      link\r\n    } = this.state;\r\n    const timeslot = {\r\n      notifyUsers,\r\n      summary,\r\n      start: {\r\n        dateTime: moment(dateTime).set({\r\n          month: moment(date).format(\"MM\") - 1,\r\n          year: moment(date).format(\"YYYY\"),\r\n          date: moment(date).format(\"DD\"),\r\n          hour: startTime.substr(0, startTime.indexOf(\":\")),\r\n          minute: startTime.substr(\r\n            startTime.indexOf(\":\") + 1,\r\n            startTime.length - 1\r\n          )\r\n        })\r\n      },\r\n      end: {\r\n        dateTime: moment(dateTime).set({\r\n          month: moment(date).format(\"MM\") - 1,\r\n          year: moment(date).format(\"YYYY\"),\r\n          date: moment(date).format(\"DD\"),\r\n          hour: endTime.substr(0, endTime.indexOf(\":\")),\r\n          minute: endTime.substr(endTime.indexOf(\":\") + 1, endTime.length - 1)\r\n        })\r\n      },\r\n      description: description.trim(),\r\n      location,\r\n      extendedProperties: {\r\n        shared: {\r\n          cost: cost.trim(),\r\n          requiredParents,\r\n          requiredChildren,\r\n          status,\r\n          parents: JSON.stringify(parents),\r\n          children: JSON.stringify(children),\r\n          start: startTime.substr(0, startTime.indexOf(\":\")),\r\n          end: endTime.substr(0, endTime.indexOf(\":\")),\r\n          category,\r\n          link\r\n        }\r\n      }\r\n    };\r\n    let { pathname } = history.location;\r\n    if (action === \"edit\") {\r\n      pathname = `/api${pathname.substring(0, pathname.length - 5)}`;\r\n      axios\r\n        .patch(pathname, timeslot)\r\n        .then(response => {\r\n          Log.info(response);\r\n          history.goBack();\r\n        })\r\n        .catch(error => {\r\n          Log.error(error);\r\n        });\r\n    } else {\r\n      pathname = `/api${pathname.substring(0, pathname.length - 4)}/add`;\r\n      axios\r\n        .post(pathname, timeslot)\r\n        .then(response => {\r\n          Log.info(response);\r\n          history.goBack();\r\n        })\r\n        .catch(error => {\r\n          Log.error(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  handleConfirmDialogClose = choice => {\r\n    const { confirmDialogTrigger } = this.state;\r\n    const { history } = this.props;\r\n    if (choice === \"agree\") {\r\n      if (confirmDialogTrigger === \"delete\") {\r\n        this.handleDelete();\r\n      } else {\r\n        this.handleSave();\r\n      }\r\n    } else if (confirmDialogTrigger === \"back\") {\r\n      history.goBack();\r\n    }\r\n    this.setState({\r\n      confirmDialogIsOpen: false,\r\n      confirmDialogTitle: \"\",\r\n      confirmDialogTrigger: \"\"\r\n    });\r\n  };\r\n\r\n  handleConfirmDialogOpen = confirmDialogTrigger => {\r\n    const { language } = this.props;\r\n    const { notifyUsers } = this.state;\r\n    const texts = Texts[language].editTimeslotScreen;\r\n    let confirmDialogTitle;\r\n    if (confirmDialogTrigger === \"delete\") {\r\n      confirmDialogTitle = texts.deleteConfirm;\r\n    } else if (notifyUsers) {\r\n      confirmDialogTitle = texts.crucialChangeConfirm;\r\n    } else {\r\n      confirmDialogTitle = texts.editConfirm;\r\n    }\r\n    this.setState({\r\n      confirmDialogTitle,\r\n      confirmDialogIsOpen: true,\r\n      confirmDialogTrigger\r\n    });\r\n  };\r\n\r\n  getBackNavTitle = () => {\r\n    const { action, language } = this.props;\r\n    const texts = Texts[language].editTimeslotScreen;\r\n    const { start, end } = this.state;\r\n    if (action === \"add\") {\r\n      return texts.addTimeslotTitle;\r\n    }\r\n    return `${moment(start.dateTime).format(\"DD MMM\")} ${moment(\r\n      start.dateTime\r\n    ).format(\"HH:mm\")}-${moment(end.dateTime).format(\"HH:mm\")}`;\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { notifyUsers } = this.state;\r\n    const { action } = this.props;\r\n    const { name, value } = event.target;\r\n    if (action === \"edit\") {\r\n      if (name === \"date\" && !notifyUsers) {\r\n        this.setState({ [name]: value, notifyUsers: true, madeChanges: true });\r\n      } else {\r\n        this.setState({ [name]: value, madeChanges: true });\r\n      }\r\n    } else {\r\n      this.setState({ [name]: value });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { language, history, action } = this.props;\r\n    const {\r\n      date,\r\n      startTime,\r\n      endTime,\r\n      summary,\r\n      description,\r\n      location,\r\n      cost,\r\n      requiredChildren,\r\n      requiredParents,\r\n      status,\r\n      fetchedTimeslot,\r\n      formIsValidated,\r\n      confirmDialogIsOpen,\r\n      confirmDialogTitle,\r\n      madeChanges,\r\n      link,\r\n      category\r\n    } = this.state;\r\n    const formClass = [];\r\n    if (formIsValidated) {\r\n      formClass.push(\"was-validated\");\r\n    }\r\n    const rowStyle = { minHeight: \"5rem\" };\r\n    const texts = Texts[language].editTimeslotScreen;\r\n    return fetchedTimeslot ? (\r\n      <React.Fragment>\r\n        <ConfirmDialog\r\n          title={confirmDialogTitle}\r\n          isOpen={confirmDialogIsOpen}\r\n          handleClose={this.handleConfirmDialogClose}\r\n        />\r\n        <div id=\"activityHeaderContainer\" className=\"row no-gutters\">\r\n          <div className=\"col-2-10\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"transparentButton center\"\r\n              onClick={() =>\r\n                madeChanges\r\n                  ? this.handleConfirmDialogOpen(\"back\")\r\n                  : history.goBack()\r\n              }\r\n            >\r\n              <i className=\"fas fa-arrow-left\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"col-6-10\">\r\n            <h1 className=\"center\">{this.getBackNavTitle()}</h1>\r\n          </div>\r\n          {action === \"edit\" && (\r\n            <div className=\"col-1-10\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"transparentButton center\"\r\n                onClick={() => this.handleConfirmDialogOpen(\"delete\")}\r\n              >\r\n                <i className=\"fas fa-trash-alt\" />\r\n              </button>\r\n            </div>\r\n          )}\r\n          <div className=\"col-1-10\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"transparentButton center\"\r\n              onClick={this.handleSubmit}\r\n            >\r\n              <i className=\"fas fa-check\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div id=\"activityMainContainer\" style={{ borderBottom: \"none\" }}>\r\n          <form\r\n            ref={form => {\r\n              this.formEl = form;\r\n            }}\r\n            onSubmit={this.handleSubmit}\r\n            className={formClass}\r\n            noValidate\r\n          >\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-calendar activityInfoIcon\" />\r\n              </div>\r\n              <div className=\"col-2-10\">\r\n                <div className=\"activityInfoDescription\">{texts.date}</div>\r\n              </div>\r\n              <div className=\"col-6-10\">\r\n                <input\r\n                  className=\"expandedTimeslotTimeInput form-control\"\r\n                  type=\"date\"\r\n                  onChange={this.handleChange}\r\n                  value={date}\r\n                  required\r\n                  name=\"date\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-clock activityInfoIcon\" />\r\n              </div>\r\n              <div className=\"col-2-10\">\r\n                <div className=\"activityInfoDescription\">{texts.from}</div>\r\n              </div>\r\n              <div className=\"col-6-10\">\r\n                <input\r\n                  name=\"startTime\"\r\n                  type=\"time\"\r\n                  value={startTime}\r\n                  onChange={this.handleChange}\r\n                  className=\"expandedTimeslotTimeInput form-control\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\" />\r\n              <div className=\"col-2-10\">\r\n                <div className=\"activityInfoDescription\">{texts.to}</div>\r\n              </div>\r\n              <div className=\"col-6-10\">\r\n                <input\r\n                  type=\"time\"\r\n                  name=\"endTime\"\r\n                  value={endTime}\r\n                  onChange={this.handleChange}\r\n                  className=\"expandedTimeslotTimeInput form-control\"\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\" />\r\n              <div className=\"col-8-10\">\r\n                <span className=\"invalid-feedback\" id=\"endTimeErr\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-bookmark activityInfoIcon\" />\r\n              </div>\r\n              <div className=\"col-8-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"summary\"\r\n                  value={summary}\r\n                  className=\"expandedTimeslotInput form-control\"\r\n                  onChange={this.handleChange}\r\n                  placeholder={texts.name}\r\n                  required\r\n                />\r\n                <span className=\"invalid-feedback\" id=\"summaryErr\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-file-alt activityInfoIcon\" />\r\n              </div>\r\n              <div className=\"col-8-10\">\r\n                <textarea\r\n                  rows=\"1\"\r\n                  name=\"description\"\r\n                  className=\"expandedTimeslotInput\"\r\n                  placeholder={texts.description}\r\n                  value={description}\r\n                  onChange={event => {\r\n                    this.handleChange(event);\r\n                    autosize(document.querySelectorAll(\"textarea\"));\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-bookmark\" />\r\n              </div>\r\n              <div className=\"col-8-10\">\r\n                <Select\r\n                  value={category}\r\n                  onChange={this.handleChange}\r\n                  inputProps={{\r\n                    name: \"category\"\r\n                  }}\r\n                >\r\n                  <MenuItem value=\"learning\">\r\n                    <MenuBook />\r\n                    <div className=\"categoryText\">{texts.learning}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"nature\">\r\n                    <EmojiNature />\r\n                    <div className=\"categoryText\">{texts.nature}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"tourism\">\r\n                    <Museum />\r\n                    <div className=\"categoryText\">{texts.tourism}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"hobby\">\r\n                    <SportsBaseball />\r\n                    <div className=\"categoryText\">{texts.hobby}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"accompanying\">\r\n                    <Commute />\r\n                    <div className=\"categoryText\">{texts.accompanying}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"entertainment\">\r\n                    <Mood />\r\n                    <div className=\"categoryText\">{texts.entertainment}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"parties\">\r\n                    <Cake />\r\n                    <div className=\"categoryText\">{texts.parties}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"coplaying\">\r\n                    <Event />\r\n                    <div className=\"categoryText\">{texts.coplaying}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"other\">\r\n                    <ChildCare />\r\n                    <div className=\"categoryText\">{texts.other}</div>\r\n                  </MenuItem>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-map-marker-alt activityInfoIcon\" />\r\n              </div>\r\n              <div className=\"col-8-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"location\"\r\n                  value={location}\r\n                  className=\"expandedTimeslotInput form-control\"\r\n                  onChange={this.handleChange}\r\n                  placeholder={texts.location}\r\n                  required\r\n                />\r\n                <span className=\"invalid-feedback\" id=\"locationErr\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <img\r\n                  src={Images.couple}\r\n                  className=\"activityInfoImage\"\r\n                  alt=\"couple icon\"\r\n                />\r\n              </div>\r\n              <div className=\"col-6-10\">\r\n                <div className=\"activityInfoDescription\">{texts.parents}</div>\r\n              </div>\r\n              <div className=\"col-2-10\">\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"requiredParents\"\r\n                  value={requiredParents}\r\n                  min={1}\r\n                  className=\"expandedTimeslotInput form-control\"\r\n                  onChange={this.handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\" />\r\n              <div className=\"col-8-10\">\r\n                <span className=\"invalid-feedback\" id=\"requiredParentsErr\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <img\r\n                  src={Images.babyFace}\r\n                  className=\"activityInfoImage\"\r\n                  alt=\"baby face icon\"\r\n                />\r\n              </div>\r\n              <div className=\"col-6-10\">\r\n                <div className=\"activityInfoDescription\">{texts.children}</div>\r\n              </div>\r\n              <div className=\"col-2-10\">\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"requiredChildren\"\r\n                  value={requiredChildren}\r\n                  min={1}\r\n                  className=\"expandedTimeslotInput form-control\"\r\n                  onChange={this.handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\" />\r\n              <div className=\"col-8-10\">\r\n                <span className=\"invalid-feedback\" id=\"requiredChildrenErr\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-euro-sign activityInfoIcon\" />\r\n              </div>\r\n              <div className=\"col-8-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"cost\"\r\n                  value={cost}\r\n                  className=\"expandedTimeslotInput\"\r\n                  onChange={this.handleChange}\r\n                  placeholder={texts.cost}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-link activityInfoIcon\" />\r\n              </div>\r\n              <div className=\"col-8-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"link\"\r\n                  value={link}\r\n                  className=\"expandedTimeslotInput\"\r\n                  onChange={this.handleChange}\r\n                  placeholder={texts.link}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-thumbtack activityInfoIcon\" />\r\n              </div>\r\n              <div className=\"col-4-10\">\r\n                <div className=\"activityInfoDescription\">{texts.status}</div>\r\n              </div>\r\n              <div className=\"col-4-10\">\r\n                <select\r\n                  value={status}\r\n                  onChange={this.handleChange}\r\n                  className=\"expandedTimeslotInput\"\r\n                  name=\"status\"\r\n                >\r\n                  <option value=\"ongoing\">{texts.ongoing}</option>\r\n                  <option value=\"completed\">{texts.completed}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </React.Fragment>\r\n    ) : (\r\n      <LoadingSpinner />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withLanguage(EditTimeslotScreen);\r\n\r\nEditTimeslotScreen.propTypes = {\r\n  language: PropTypes.string,\r\n  history: PropTypes.object,\r\n  action: PropTypes.string\r\n};\r\n"]},"metadata":{},"sourceType":"module"}