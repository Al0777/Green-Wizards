{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\src\\\\components\\\\AdditionalInfoScreen.js\";\nimport React from \"react\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport withLanguage from \"./LanguageContext\";\nimport Texts from \"../Constants/Texts\";\nimport Log from \"./Log\";\nvar styles = {\n  checkbox: {\n    \"&$checked\": {\n      color: \"#00838F\"\n    }\n  },\n  checked: {}\n};\n\nvar AdditionalInfoScreen = /*#__PURE__*/function (_React$Component) {\n  _inherits(AdditionalInfoScreen, _React$Component);\n\n  var _super = _createSuper(AdditionalInfoScreen);\n\n  function AdditionalInfoScreen(props) {\n    var _this;\n\n    _classCallCheck(this, AdditionalInfoScreen);\n\n    _this = _super.call(this, props);\n\n    _this.handleCancel = function () {\n      var history = _this.props.history;\n      var pathname = history.location.pathname;\n      var parentpath = pathname.slice(0, pathname.lastIndexOf(\"/\"));\n      history.goBack();\n      history.replace({\n        pathname: parentpath,\n        state: _objectSpread({}, _this.state)\n      });\n    };\n\n    _this.handleChange = function (event) {\n      var name = event.target.name;\n      var value = event.target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleAcceptTermsChange = function (name) {\n      return function (event) {\n        _this.setState(_defineProperty({}, name, event.target.checked));\n      };\n    };\n\n    _this.handleSave = function () {\n      var match = _this.props.match;\n      var _match$params = match.params,\n          userId = _match$params.profileId,\n          childId = _match$params.childId;\n      var _this$state = _this.state,\n          acceptAdditionalTerms = _this$state.acceptAdditionalTerms,\n          editChild = _this$state.editChild,\n          allergies = _this$state.allergies,\n          special_needs = _this$state.special_needs,\n          other_info = _this$state.other_info;\n\n      if (acceptAdditionalTerms) {\n        if (editChild) {\n          axios.patch(\"/api/users/\".concat(userId, \"/children/\").concat(childId), {\n            allergies: allergies,\n            special_needs: special_needs,\n            other_info: other_info\n          }).then(function (response) {\n            Log.info(response);\n\n            _this.goBack();\n          }).catch(function (error) {\n            Log.error(error);\n          });\n        } else {\n          _this.goBack();\n        }\n      }\n    };\n\n    _this.goBack = function () {\n      var history = _this.props.history;\n      var pathname = history.location.pathname;\n      var parentpath = pathname.slice(0, pathname.lastIndexOf(\"/\"));\n      history.goBack();\n      history.replace({\n        pathname: parentpath,\n        state: _objectSpread({}, _this.state)\n      });\n    };\n\n    var _history = _this.props.history;\n    var state = _history.location.state;\n\n    if (state !== undefined) {\n      _this.state = _objectSpread({}, state);\n    } else {\n      _this.state = {\n        allergies: \"\",\n        special_needs: \"\",\n        acceptAdditionalTerms: false,\n        other_info: \"\"\n      };\n    }\n\n    return _this;\n  }\n\n  _createClass(AdditionalInfoScreen, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          language = _this$props.language;\n      var texts = Texts[language].additionalInfoScreen;\n      var _this$state2 = this.state,\n          acceptAdditionalTerms = _this$state2.acceptAdditionalTerms,\n          allergies = _this$state2.allergies,\n          special_needs = _this$state2.special_needs,\n          other_info = _this$state2.other_info;\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"additionalInfoScreenHeaderContainer\",\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"center transparentButton\",\n        onClick: this.handleCancel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-times\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }\n      }, texts.backNavTitle)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"center transparentButton\",\n        onClick: this.handleSave,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-check\",\n        style: !acceptAdditionalTerms ? {\n          opacity: \"0.5\"\n        } : {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 15\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"additionalInfoScreenMainContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"allergies\",\n        type: \"text\",\n        placeholder: texts.allergy,\n        onChange: this.handleChange,\n        className: \"additionalInfoInputField\",\n        value: allergies,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"special_needs\",\n        type: \"text\",\n        placeholder: texts.special,\n        onChange: this.handleChange,\n        className: \"additionalInfoInputField\",\n        value: special_needs,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        name: \"other_info\",\n        type: \"text\",\n        placeholder: texts.others,\n        onChange: this.handleChange,\n        className: \"additionalInfoInputField\",\n        value: other_info,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        classes: {\n          root: classes.checkbox,\n          checked: classes.checked\n        },\n        checked: acceptAdditionalTerms,\n        onChange: this.handleAcceptTermsChange(\"acceptAdditionalTerms\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 15\n        }\n      }, texts.acceptTerms)))));\n    }\n  }]);\n\n  return AdditionalInfoScreen;\n}(React.Component);\n\nAdditionalInfoScreen.propTypes = {\n  history: PropTypes.object,\n  classes: PropTypes.object,\n  language: PropTypes.string,\n  match: PropTypes.object\n};\nexport default withLanguage(withStyles(styles)(AdditionalInfoScreen));","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Green-Wizards/client/src/components/AdditionalInfoScreen.js"],"names":["React","Checkbox","withStyles","PropTypes","axios","withLanguage","Texts","Log","styles","checkbox","color","checked","AdditionalInfoScreen","props","handleCancel","history","pathname","location","parentpath","slice","lastIndexOf","goBack","replace","state","handleChange","event","name","target","value","setState","handleAcceptTermsChange","handleSave","match","params","userId","profileId","childId","acceptAdditionalTerms","editChild","allergies","special_needs","other_info","patch","then","response","info","catch","error","undefined","classes","language","texts","additionalInfoScreen","backNavTitle","opacity","allergy","special","others","root","acceptTerms","Component","propTypes","object","string"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport PropTypes from \"prop-types\";\r\nimport axios from \"axios\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport Log from \"./Log\";\r\n\r\nconst styles = {\r\n  checkbox: {\r\n    \"&$checked\": {\r\n      color: \"#00838F\"\r\n    }\r\n  },\r\n  checked: {}\r\n};\r\n\r\nclass AdditionalInfoScreen extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { history } = this.props;\r\n    const { state } = history.location;\r\n    if (state !== undefined) {\r\n      this.state = { ...state };\r\n    } else {\r\n      this.state = {\r\n        allergies: \"\",\r\n        special_needs: \"\",\r\n        acceptAdditionalTerms: false,\r\n        other_info: \"\"\r\n      };\r\n    }\r\n  }\r\n\r\n  handleCancel = () => {\r\n    const { history } = this.props;\r\n    const { pathname } = history.location;\r\n    const parentpath = pathname.slice(0, pathname.lastIndexOf(\"/\"));\r\n    history.goBack();\r\n    history.replace({\r\n      pathname: parentpath,\r\n      state: {\r\n        ...this.state\r\n      }\r\n    });\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name } = event.target;\r\n    const { value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleAcceptTermsChange = name => event => {\r\n    this.setState({ [name]: event.target.checked });\r\n  };\r\n\r\n  handleSave = () => {\r\n    const { match } = this.props;\r\n    const { profileId: userId, childId } = match.params;\r\n    const {\r\n      acceptAdditionalTerms,\r\n      editChild,\r\n      allergies,\r\n      special_needs,\r\n      other_info\r\n    } = this.state;\r\n    if (acceptAdditionalTerms) {\r\n      if (editChild) {\r\n        axios\r\n          .patch(`/api/users/${userId}/children/${childId}`, {\r\n            allergies,\r\n            special_needs,\r\n            other_info\r\n          })\r\n          .then(response => {\r\n            Log.info(response);\r\n            this.goBack();\r\n          })\r\n          .catch(error => {\r\n            Log.error(error);\r\n          });\r\n      } else {\r\n        this.goBack();\r\n      }\r\n    }\r\n  };\r\n\r\n  goBack = () => {\r\n    const { history } = this.props;\r\n    const { pathname } = history.location;\r\n    const parentpath = pathname.slice(0, pathname.lastIndexOf(\"/\"));\r\n    history.goBack();\r\n    history.replace({\r\n      pathname: parentpath,\r\n      state: {\r\n        ...this.state\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { classes, language } = this.props;\r\n    const texts = Texts[language].additionalInfoScreen;\r\n    const {\r\n      acceptAdditionalTerms,\r\n      allergies,\r\n      special_needs,\r\n      other_info\r\n    } = this.state;\r\n    return (\r\n      <React.Fragment>\r\n        <div\r\n          id=\"additionalInfoScreenHeaderContainer\"\r\n          className=\"row no-gutters\"\r\n        >\r\n          <div className=\"col-2-10\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"center transparentButton\"\r\n              onClick={this.handleCancel}\r\n            >\r\n              <i className=\"fas fa-times\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"col-6-10\">\r\n            <h1 className=\"verticalCenter\">{texts.backNavTitle}</h1>\r\n          </div>\r\n          <div className=\"col-2-10\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"center transparentButton\"\r\n              onClick={this.handleSave}\r\n            >\r\n              <i\r\n                className=\"fas fa-check\"\r\n                style={!acceptAdditionalTerms ? { opacity: \"0.5\" } : {}}\r\n              />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div id=\"additionalInfoScreenMainContainer\">\r\n          <div className=\"row no-gutters\">\r\n            <input\r\n              name=\"allergies\"\r\n              type=\"text\"\r\n              placeholder={texts.allergy}\r\n              onChange={this.handleChange}\r\n              className=\"additionalInfoInputField\"\r\n              value={allergies}\r\n            />\r\n          </div>\r\n          <div className=\"row no-gutters\">\r\n            <input\r\n              name=\"special_needs\"\r\n              type=\"text\"\r\n              placeholder={texts.special}\r\n              onChange={this.handleChange}\r\n              className=\"additionalInfoInputField\"\r\n              value={special_needs}\r\n            />\r\n          </div>\r\n          <div className=\"row no-gutters\">\r\n            <input\r\n              name=\"other_info\"\r\n              type=\"text\"\r\n              placeholder={texts.others}\r\n              onChange={this.handleChange}\r\n              className=\"additionalInfoInputField\"\r\n              value={other_info}\r\n            />\r\n          </div>\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-2-10\">\r\n              <Checkbox\r\n                classes={{ root: classes.checkbox, checked: classes.checked }}\r\n                checked={acceptAdditionalTerms}\r\n                onChange={this.handleAcceptTermsChange(\"acceptAdditionalTerms\")}\r\n              />\r\n            </div>\r\n            <div className=\"col-8-10\">\r\n              <h1 className=\"center\">{texts.acceptTerms}</h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nAdditionalInfoScreen.propTypes = {\r\n  history: PropTypes.object,\r\n  classes: PropTypes.object,\r\n  language: PropTypes.string,\r\n  match: PropTypes.object\r\n};\r\n\r\nexport default withLanguage(withStyles(styles)(AdditionalInfoScreen));\r\n"]},"metadata":{},"sourceType":"module"}