{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\src\\\\components\\\\GroupMembersList.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Skeleton } from \"antd\";\nimport axios from \"axios\";\nimport MemberContact from \"./MemberContact\";\nimport ChildContact from \"./ChildContact\";\nimport Log from \"./Log\";\n\nvar GroupMembersList = /*#__PURE__*/function (_React$Component) {\n  _inherits(GroupMembersList, _React$Component);\n\n  var _super = _createSuper(GroupMembersList);\n\n  function GroupMembersList() {\n    var _this;\n\n    _classCallCheck(this, GroupMembersList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      fetchedResources: false\n    };\n\n    _this.handleAddAdmin = function (userId) {\n      var users = _this.state.users;\n      var i = 0;\n      var found = false;\n\n      while (i < users.length && !found) {\n        if (users[i].user_id === userId) {\n          found = true;\n          users[i].admin = true;\n        }\n\n        i += 1;\n      }\n\n      _this.setState({\n        users: users\n      });\n    };\n\n    _this.handleRemoveAdmin = function (userId) {\n      var users = _this.state.users;\n      var i = 0;\n      var found = false;\n\n      while (i < users.length && !found) {\n        if (users[i].user_id === userId) {\n          found = true;\n          users[i].admin = false;\n        }\n\n        i += 1;\n      }\n\n      _this.setState({\n        users: users\n      });\n    };\n\n    _this.handleRemoveUser = function (userId) {\n      var users = _this.state.users;\n\n      _this.setState({\n        users: users.filter(function (user) {\n          return user.user_id !== userId;\n        })\n      });\n    };\n\n    _this.renderLetters = function () {\n      var items = _this.state.items;\n      var _this$props = _this.props,\n          userIsAdmin = _this$props.userIsAdmin,\n          groupId = _this$props.groupId,\n          list = _this$props.list;\n      var sortedItems = [].concat(items).sort(function (a, b) {\n        if (\"\".concat(a.given_name, \" \").concat(a.family_name) < \"\".concat(b.given_name, \" \").concat(b.family_name)) {\n          return -1;\n        }\n\n        return 1;\n      });\n      var itemsLength = items.length;\n      var letterIndices = {};\n      var letters = [];\n\n      for (var i = 0; i < itemsLength; i += 1) {\n        var name = sortedItems[i].given_name;\n        var letter = name[0].toUpperCase();\n\n        if (letters.indexOf(letter) === -1) {\n          letters.push(letter);\n        }\n\n        if (letterIndices[letter] === undefined) letterIndices[letter] = [];\n        letterIndices[letter].push(i);\n      }\n\n      return letters.map(function (letter) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: letter,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"contactLetter\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 9\n          }\n        }, letter), /*#__PURE__*/React.createElement(\"ul\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 9\n          }\n        }, letterIndices[letter].map(function (itemIndex) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: itemIndex,\n            className: \"contactLiContainer\",\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 13\n            }\n          }, list === \"parents\" ? /*#__PURE__*/React.createElement(MemberContact, {\n            member: sortedItems[itemIndex],\n            groupId: groupId,\n            userIsAdmin: userIsAdmin,\n            handleRemoveUser: _this.handleRemoveUser,\n            handleAddAdmin: _this.handleAddAdmin,\n            handleRemoveAdmin: _this.handleRemoveAdmin,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }\n          }) : /*#__PURE__*/React.createElement(ChildContact, {\n            member: sortedItems[itemIndex],\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }\n          }));\n        })));\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(GroupMembersList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          members = _this$props2.members,\n          list = _this$props2.list;\n\n      if (list === \"parents\") {\n        var memberIds = members.map(function (member) {\n          return member.user_id;\n        });\n        axios.get(\"/api/profiles\", {\n          params: {\n            ids: memberIds,\n            searchBy: \"ids\"\n          }\n        }).then(function (response) {\n          var users = response.data;\n          users.forEach(function (user) {\n            var temp = members.filter(function (member) {\n              return user.user_id === member.user_id;\n            })[0];\n            user.admin = temp.admin;\n          });\n\n          _this2.setState({\n            fetchedResources: true,\n            items: users\n          });\n        }).catch(function (error) {\n          Log.error(error);\n\n          _this2.setState({\n            fetchedResources: true,\n            items: []\n          });\n        });\n      } else {\n        axios.get(\"/api/children\", {\n          params: {\n            ids: members,\n            searchBy: \"ids\"\n          }\n        }).then(function (response) {\n          var children = response.data;\n\n          _this2.setState({\n            fetchedResources: true,\n            items: children\n          });\n        }).catch(function (error) {\n          Log.error(error);\n\n          _this2.setState({\n            fetchedResources: true,\n            items: []\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var fetchedResources = this.state.fetchedResources;\n      var members = this.props.members;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"membersContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 7\n        }\n      }, fetchedResources ? /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }\n      }, this.renderLetters()) : /*#__PURE__*/React.createElement(\"ul\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }\n      }, members.map(function (member, index) {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          key: index,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Skeleton, {\n          avatar: true,\n          active: true,\n          paragraph: {\n            rows: 2\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }\n        }));\n      })));\n    }\n  }]);\n\n  return GroupMembersList;\n}(React.Component);\n\nexport { GroupMembersList as default };\nGroupMembersList.propTypes = {\n  members: PropTypes.array,\n  groupId: PropTypes.string,\n  userIsAdmin: PropTypes.bool,\n  list: PropTypes.oneOf([\"parents\", \"children\"])\n};","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Families_Share-platform/client/src/components/GroupMembersList.js"],"names":["React","PropTypes","Skeleton","axios","MemberContact","ChildContact","Log","GroupMembersList","state","fetchedResources","handleAddAdmin","userId","users","i","found","length","user_id","admin","setState","handleRemoveAdmin","handleRemoveUser","filter","user","renderLetters","items","props","userIsAdmin","groupId","list","sortedItems","concat","sort","a","b","given_name","family_name","itemsLength","letterIndices","letters","name","letter","toUpperCase","indexOf","push","undefined","map","itemIndex","members","memberIds","member","get","params","ids","searchBy","then","response","data","forEach","temp","catch","error","children","index","rows","Component","propTypes","array","string","bool","oneOf"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Skeleton } from \"antd\";\r\nimport axios from \"axios\";\r\nimport MemberContact from \"./MemberContact\";\r\nimport ChildContact from \"./ChildContact\";\r\nimport Log from \"./Log\";\r\n\r\nexport default class GroupMembersList extends React.Component {\r\n  state = { fetchedResources: false };\r\n\r\n  componentDidMount() {\r\n    const { members, list } = this.props;\r\n    if (list === \"parents\") {\r\n      const memberIds = members.map(member => member.user_id);\r\n      axios\r\n        .get(\"/api/profiles\", {\r\n          params: {\r\n            ids: memberIds,\r\n            searchBy: \"ids\"\r\n          }\r\n        })\r\n        .then(response => {\r\n          const users = response.data;\r\n          users.forEach(user => {\r\n            const temp = members.filter(\r\n              member => user.user_id === member.user_id\r\n            )[0];\r\n            user.admin = temp.admin;\r\n          });\r\n          this.setState({ fetchedResources: true, items: users });\r\n        })\r\n        .catch(error => {\r\n          Log.error(error);\r\n          this.setState({ fetchedResources: true, items: [] });\r\n        });\r\n    } else {\r\n      axios\r\n        .get(\"/api/children\", {\r\n          params: {\r\n            ids: members,\r\n            searchBy: \"ids\"\r\n          }\r\n        })\r\n        .then(response => {\r\n          const children = response.data;\r\n          this.setState({ fetchedResources: true, items: children });\r\n        })\r\n        .catch(error => {\r\n          Log.error(error);\r\n          this.setState({ fetchedResources: true, items: [] });\r\n        });\r\n    }\r\n  }\r\n\r\n  handleAddAdmin = userId => {\r\n    const { users } = this.state;\r\n    let i = 0;\r\n    let found = false;\r\n    while (i < users.length && !found) {\r\n      if (users[i].user_id === userId) {\r\n        found = true;\r\n        users[i].admin = true;\r\n      }\r\n      i += 1;\r\n    }\r\n    this.setState({ users });\r\n  };\r\n\r\n  handleRemoveAdmin = userId => {\r\n    const { users } = this.state;\r\n    let i = 0;\r\n    let found = false;\r\n    while (i < users.length && !found) {\r\n      if (users[i].user_id === userId) {\r\n        found = true;\r\n        users[i].admin = false;\r\n      }\r\n      i += 1;\r\n    }\r\n    this.setState({ users });\r\n  };\r\n\r\n  handleRemoveUser = userId => {\r\n    const { users } = this.state;\r\n    this.setState({\r\n      users: users.filter(user => user.user_id !== userId)\r\n    });\r\n  };\r\n\r\n  renderLetters = () => {\r\n    const { items } = this.state;\r\n    const { userIsAdmin, groupId, list } = this.props;\r\n    const sortedItems = [].concat(items).sort((a, b) => {\r\n      if (\r\n        `${a.given_name} ${a.family_name}` < `${b.given_name} ${b.family_name}`\r\n      ) {\r\n        return -1;\r\n      }\r\n      return 1;\r\n    });\r\n    const itemsLength = items.length;\r\n    const letterIndices = {};\r\n    const letters = [];\r\n    for (let i = 0; i < itemsLength; i += 1) {\r\n      const name = sortedItems[i].given_name;\r\n      const letter = name[0].toUpperCase();\r\n      if (letters.indexOf(letter) === -1) {\r\n        letters.push(letter);\r\n      }\r\n      if (letterIndices[letter] === undefined) letterIndices[letter] = [];\r\n      letterIndices[letter].push(i);\r\n    }\r\n    return letters.map(letter => (\r\n      <li key={letter}>\r\n        <div className=\"contactLetter\">{letter}</div>\r\n        <ul>\r\n          {letterIndices[letter].map(itemIndex => (\r\n            <li key={itemIndex} className=\"contactLiContainer\">\r\n              {list === \"parents\" ? (\r\n                <MemberContact\r\n                  member={sortedItems[itemIndex]}\r\n                  groupId={groupId}\r\n                  userIsAdmin={userIsAdmin}\r\n                  handleRemoveUser={this.handleRemoveUser}\r\n                  handleAddAdmin={this.handleAddAdmin}\r\n                  handleRemoveAdmin={this.handleRemoveAdmin}\r\n                />\r\n              ) : (\r\n                <ChildContact member={sortedItems[itemIndex]} />\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </li>\r\n    ));\r\n  };\r\n\r\n  render() {\r\n    const { fetchedResources } = this.state;\r\n    const { members } = this.props;\r\n    return (\r\n      <div className=\"membersContainer\">\r\n        {fetchedResources ? (\r\n          <ul>{this.renderLetters()}</ul>\r\n        ) : (\r\n          <ul>\r\n            {members.map((member, index) => (\r\n              <li key={index}>\r\n                <Skeleton avatar active paragraph={{ rows: 2 }} />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nGroupMembersList.propTypes = {\r\n  members: PropTypes.array,\r\n  groupId: PropTypes.string,\r\n  userIsAdmin: PropTypes.bool,\r\n  list: PropTypes.oneOf([\"parents\", \"children\"])\r\n};\r\n"]},"metadata":{},"sourceType":"module"}