{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\src\\\\components\\\\ChildProfileHeader.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { disableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport OptionsModal from \"./OptionsModal\";\nimport withLanguage from \"./LanguageContext\";\nimport Texts from \"../Constants/Texts\";\nimport ConfirmDialog from \"./ConfirmDialog\";\nimport ExpandedImageModal from \"./ExpandedImageModal\";\nimport Log from \"./Log\";\n\nvar ChildProfileHeader = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChildProfileHeader, _React$Component);\n\n  var _super = _createSuper(ChildProfileHeader);\n\n  function ChildProfileHeader() {\n    var _this;\n\n    _classCallCheck(this, ChildProfileHeader);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      optionsModalIsOpen: false,\n      confirmDialogIsOpen: false,\n      imageModalIsOpen: false\n    };\n\n    _this.handleImageModalOpen = function () {\n      var target = document.querySelector(\".ReactModalPortal\");\n      disableBodyScroll(target);\n\n      _this.setState({\n        imageModalIsOpen: true\n      });\n    };\n\n    _this.handleImageModalClose = function () {\n      clearAllBodyScrollLocks();\n\n      _this.setState({\n        imageModalIsOpen: false\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        optionsModalIsOpen: false\n      });\n    };\n\n    _this.handleEdit = function () {\n      var history = _this.props.history;\n      var pathname = history.location.pathname;\n      var newPath = \"\".concat(pathname, \"/edit\");\n      history.push(newPath);\n    };\n\n    _this.handleOptions = function () {\n      _this.setState({\n        optionsModalIsOpen: true\n      });\n    };\n\n    _this.handleDelete = function () {\n      var _this$props = _this.props,\n          match = _this$props.match,\n          history = _this$props.history;\n      var _match$params = match.params,\n          userId = _match$params.profileId,\n          childId = _match$params.childId;\n      axios.delete(\"/api/users/\".concat(userId, \"/children/\").concat(childId)).then(function (response) {\n        Log.info(response);\n        history.goBack();\n      }).catch(function (error) {\n        Log.error(error);\n        history.goBack();\n      });\n    };\n\n    _this.handleConfirmDialogOpen = function () {\n      _this.setState({\n        optionsModalIsOpen: false,\n        confirmDialogIsOpen: true\n      });\n    };\n\n    _this.handleConfirmDialogClose = function (choice) {\n      if (choice === \"agree\") {\n        _this.handleDelete();\n      }\n\n      _this.setState({\n        confirmDialogIsOpen: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(ChildProfileHeader, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          language = _this$props2.language,\n          background = _this$props2.background,\n          history = _this$props2.history,\n          match = _this$props2.match,\n          photo = _this$props2.photo,\n          name = _this$props2.name;\n      var profileId = match.params.profileId;\n      var _this$state = this.state,\n          imageModalIsOpen = _this$state.imageModalIsOpen,\n          confirmDialogIsOpen = _this$state.confirmDialogIsOpen,\n          optionsModalIsOpen = _this$state.optionsModalIsOpen;\n      var texts = Texts[language].childProfileHeader;\n      var options = [{\n        label: texts.delete,\n        style: \"optionsModalButton\",\n        handle: this.handleConfirmDialogOpen\n      }];\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ConfirmDialog, {\n        title: texts.confirmDialogTitle,\n        handleClose: this.handleConfirmDialogClose,\n        isOpen: confirmDialogIsOpen,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"profileHeaderContainer\",\n        style: {\n          background: background\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        id: \"profileHeaderOptions\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton center\",\n        onClick: function onClick() {\n          return history.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-arrow-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      }), profileId === JSON.parse(localStorage.getItem(\"user\")).id ? /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton center\",\n        onClick: this.handleEdit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-pencil-alt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton center\",\n        onClick: this.handleOptions,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-ellipsis-v\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      })))) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"img\", {\n        className: \"profilePhoto horizontalCenter\",\n        alt: \"child's profile\",\n        src: photo,\n        onClick: this.handleImageModalOpen,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"horizontalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }\n      }, name), /*#__PURE__*/React.createElement(ExpandedImageModal, {\n        isOpen: imageModalIsOpen,\n        handleClose: this.handleImageModalClose,\n        image: photo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(OptionsModal, {\n        isOpen: optionsModalIsOpen,\n        handleClose: this.handleClose,\n        options: options,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return ChildProfileHeader;\n}(React.Component);\n\nChildProfileHeader.propTypes = {\n  background: PropTypes.string,\n  name: PropTypes.string,\n  photo: PropTypes.string,\n  match: PropTypes.object,\n  history: PropTypes.object,\n  language: PropTypes.string\n};\nexport default withRouter(withLanguage(ChildProfileHeader));","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Families_Share-platform/client/src/components/ChildProfileHeader.js"],"names":["React","PropTypes","withRouter","axios","disableBodyScroll","clearAllBodyScrollLocks","OptionsModal","withLanguage","Texts","ConfirmDialog","ExpandedImageModal","Log","ChildProfileHeader","state","optionsModalIsOpen","confirmDialogIsOpen","imageModalIsOpen","handleImageModalOpen","target","document","querySelector","setState","handleImageModalClose","handleClose","handleEdit","history","props","pathname","location","newPath","push","handleOptions","handleDelete","match","params","userId","profileId","childId","delete","then","response","info","goBack","catch","error","handleConfirmDialogOpen","handleConfirmDialogClose","choice","language","background","photo","name","texts","childProfileHeader","options","label","style","handle","confirmDialogTitle","JSON","parse","localStorage","getItem","id","Component","propTypes","string","object"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,iBAAT,EAA4BC,uBAA5B,QAA2D,kBAA3D;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAOC,GAAP,MAAgB,OAAhB;;IAEMC,kB;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,kBAAkB,EAAE,KADd;AAENC,MAAAA,mBAAmB,EAAE,KAFf;AAGNC,MAAAA,gBAAgB,EAAE;AAHZ,K;;UAMRC,oB,GAAuB,YAAM;AAC3B,UAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CAAf;AACAhB,MAAAA,iBAAiB,CAACc,MAAD,CAAjB;;AACA,YAAKG,QAAL,CAAc;AAAEL,QAAAA,gBAAgB,EAAE;AAApB,OAAd;AACD,K;;UAEDM,qB,GAAwB,YAAM;AAC5BjB,MAAAA,uBAAuB;;AACvB,YAAKgB,QAAL,CAAc;AAAEL,QAAAA,gBAAgB,EAAE;AAApB,OAAd;AACD,K;;UAEDO,W,GAAc,YAAM;AAClB,YAAKF,QAAL,CAAc;AAAEP,QAAAA,kBAAkB,EAAE;AAAtB,OAAd;AACD,K;;UAEDU,U,GAAa,YAAM;AAAA,UACTC,OADS,GACG,MAAKC,KADR,CACTD,OADS;AAAA,UAETE,QAFS,GAEIF,OAAO,CAACG,QAFZ,CAETD,QAFS;AAGjB,UAAME,OAAO,aAAMF,QAAN,UAAb;AACAF,MAAAA,OAAO,CAACK,IAAR,CAAaD,OAAb;AACD,K;;UAEDE,a,GAAgB,YAAM;AACpB,YAAKV,QAAL,CAAc;AAAEP,QAAAA,kBAAkB,EAAE;AAAtB,OAAd;AACD,K;;UAEDkB,Y,GAAe,YAAM;AAAA,wBACQ,MAAKN,KADb;AAAA,UACXO,KADW,eACXA,KADW;AAAA,UACJR,OADI,eACJA,OADI;AAAA,0BAEoBQ,KAAK,CAACC,MAF1B;AAAA,UAEAC,MAFA,iBAEXC,SAFW;AAAA,UAEQC,OAFR,iBAEQA,OAFR;AAGnBlC,MAAAA,KAAK,CACFmC,MADH,sBACwBH,MADxB,uBAC2CE,OAD3C,GAEGE,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChB7B,QAAAA,GAAG,CAAC8B,IAAJ,CAASD,QAAT;AACAf,QAAAA,OAAO,CAACiB,MAAR;AACD,OALH,EAMGC,KANH,CAMS,UAAAC,KAAK,EAAI;AACdjC,QAAAA,GAAG,CAACiC,KAAJ,CAAUA,KAAV;AACAnB,QAAAA,OAAO,CAACiB,MAAR;AACD,OATH;AAUD,K;;UAEDG,uB,GAA0B,YAAM;AAC9B,YAAKxB,QAAL,CAAc;AAAEP,QAAAA,kBAAkB,EAAE,KAAtB;AAA6BC,QAAAA,mBAAmB,EAAE;AAAlD,OAAd;AACD,K;;UAED+B,wB,GAA2B,UAAAC,MAAM,EAAI;AACnC,UAAIA,MAAM,KAAK,OAAf,EAAwB;AACtB,cAAKf,YAAL;AACD;;AACD,YAAKX,QAAL,CAAc;AAAEN,QAAAA,mBAAmB,EAAE;AAAvB,OAAd;AACD,K;;;;;;;6BAEQ;AAAA,yBACuD,KAAKW,KAD5D;AAAA,UACCsB,QADD,gBACCA,QADD;AAAA,UACWC,UADX,gBACWA,UADX;AAAA,UACuBxB,OADvB,gBACuBA,OADvB;AAAA,UACgCQ,KADhC,gBACgCA,KADhC;AAAA,UACuCiB,KADvC,gBACuCA,KADvC;AAAA,UAC8CC,IAD9C,gBAC8CA,IAD9C;AAAA,UAECf,SAFD,GAEeH,KAAK,CAACC,MAFrB,CAECE,SAFD;AAAA,wBAOH,KAAKvB,KAPF;AAAA,UAILG,gBAJK,eAILA,gBAJK;AAAA,UAKLD,mBALK,eAKLA,mBALK;AAAA,UAMLD,kBANK,eAMLA,kBANK;AAQP,UAAMsC,KAAK,GAAG5C,KAAK,CAACwC,QAAD,CAAL,CAAgBK,kBAA9B;AACA,UAAMC,OAAO,GAAG,CACd;AACEC,QAAAA,KAAK,EAAEH,KAAK,CAACd,MADf;AAEEkB,QAAAA,KAAK,EAAE,oBAFT;AAGEC,QAAAA,MAAM,EAAE,KAAKZ;AAHf,OADc,CAAhB;AAOA,0BACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,aAAD;AACE,QAAA,KAAK,EAAEO,KAAK,CAACM,kBADf;AAEE,QAAA,WAAW,EAAE,KAAKZ,wBAFpB;AAGE,QAAA,MAAM,EAAE/B,mBAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAME;AAAK,QAAA,EAAE,EAAC,wBAAR;AAAiC,QAAA,KAAK,EAAE;AAAEkC,UAAAA,UAAU,EAAVA;AAAF,SAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAgC,QAAA,EAAE,EAAC,sBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,0BAFZ;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAMxB,OAAO,CAACiB,MAAR,EAAN;AAAA,SAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAG,QAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF,CADF,eAUE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,EAWGN,SAAS,KAAKuB,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCC,EAAvD,gBACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,0BAFZ;AAGE,QAAA,OAAO,EAAE,KAAKvC,UAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAG,QAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF,CADF,eAUE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,SAAS,EAAC,0BAFZ;AAGE,QAAA,OAAO,EAAE,KAAKO,aAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAG,QAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CADF,CAVF,CADD,gBAsBC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjCJ,CADF,eAqCE;AACE,QAAA,SAAS,EAAC,+BADZ;AAEE,QAAA,GAAG,EAAC,iBAFN;AAGE,QAAA,GAAG,EAAEmB,KAHP;AAIE,QAAA,OAAO,EAAE,KAAKjC,oBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArCF,eA2CE;AAAI,QAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkCkC,IAAlC,CA3CF,eA4CE,oBAAC,kBAAD;AACE,QAAA,MAAM,EAAEnC,gBADV;AAEE,QAAA,WAAW,EAAE,KAAKM,qBAFpB;AAGE,QAAA,KAAK,EAAE4B,KAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA5CF,eAiDE,oBAAC,YAAD;AACE,QAAA,MAAM,EAAEpC,kBADV;AAEE,QAAA,WAAW,EAAE,KAAKS,WAFpB;AAGE,QAAA,OAAO,EAAE+B,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAjDF,CANF,CADF;AAgED;;;;EA3I8BtD,KAAK,CAACgE,S;;AA8IvCpD,kBAAkB,CAACqD,SAAnB,GAA+B;AAC7BhB,EAAAA,UAAU,EAAEhD,SAAS,CAACiE,MADO;AAE7Bf,EAAAA,IAAI,EAAElD,SAAS,CAACiE,MAFa;AAG7BhB,EAAAA,KAAK,EAAEjD,SAAS,CAACiE,MAHY;AAI7BjC,EAAAA,KAAK,EAAEhC,SAAS,CAACkE,MAJY;AAK7B1C,EAAAA,OAAO,EAAExB,SAAS,CAACkE,MALU;AAM7BnB,EAAAA,QAAQ,EAAE/C,SAAS,CAACiE;AANS,CAA/B;AASA,eAAehE,UAAU,CAACK,YAAY,CAACK,kBAAD,CAAb,CAAzB","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { disableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\r\nimport OptionsModal from \"./OptionsModal\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport ConfirmDialog from \"./ConfirmDialog\";\r\nimport ExpandedImageModal from \"./ExpandedImageModal\";\r\nimport Log from \"./Log\";\r\n\r\nclass ChildProfileHeader extends React.Component {\r\n  state = {\r\n    optionsModalIsOpen: false,\r\n    confirmDialogIsOpen: false,\r\n    imageModalIsOpen: false\r\n  };\r\n\r\n  handleImageModalOpen = () => {\r\n    const target = document.querySelector(\".ReactModalPortal\");\r\n    disableBodyScroll(target);\r\n    this.setState({ imageModalIsOpen: true });\r\n  };\r\n\r\n  handleImageModalClose = () => {\r\n    clearAllBodyScrollLocks();\r\n    this.setState({ imageModalIsOpen: false });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ optionsModalIsOpen: false });\r\n  };\r\n\r\n  handleEdit = () => {\r\n    const { history } = this.props;\r\n    const { pathname } = history.location;\r\n    const newPath = `${pathname}/edit`;\r\n    history.push(newPath);\r\n  };\r\n\r\n  handleOptions = () => {\r\n    this.setState({ optionsModalIsOpen: true });\r\n  };\r\n\r\n  handleDelete = () => {\r\n    const { match, history } = this.props;\r\n    const { profileId: userId, childId } = match.params;\r\n    axios\r\n      .delete(`/api/users/${userId}/children/${childId}`)\r\n      .then(response => {\r\n        Log.info(response);\r\n        history.goBack();\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n        history.goBack();\r\n      });\r\n  };\r\n\r\n  handleConfirmDialogOpen = () => {\r\n    this.setState({ optionsModalIsOpen: false, confirmDialogIsOpen: true });\r\n  };\r\n\r\n  handleConfirmDialogClose = choice => {\r\n    if (choice === \"agree\") {\r\n      this.handleDelete();\r\n    }\r\n    this.setState({ confirmDialogIsOpen: false });\r\n  };\r\n\r\n  render() {\r\n    const { language, background, history, match, photo, name } = this.props;\r\n    const { profileId } = match.params;\r\n    const {\r\n      imageModalIsOpen,\r\n      confirmDialogIsOpen,\r\n      optionsModalIsOpen\r\n    } = this.state;\r\n    const texts = Texts[language].childProfileHeader;\r\n    const options = [\r\n      {\r\n        label: texts.delete,\r\n        style: \"optionsModalButton\",\r\n        handle: this.handleConfirmDialogOpen\r\n      }\r\n    ];\r\n    return (\r\n      <React.Fragment>\r\n        <ConfirmDialog\r\n          title={texts.confirmDialogTitle}\r\n          handleClose={this.handleConfirmDialogClose}\r\n          isOpen={confirmDialogIsOpen}\r\n        />\r\n        <div id=\"profileHeaderContainer\" style={{ background }}>\r\n          <div className=\"row no-gutters\" id=\"profileHeaderOptions\">\r\n            <div className=\"col-2-10\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"transparentButton center\"\r\n                onClick={() => history.goBack()}\r\n              >\r\n                <i className=\"fas fa-arrow-left\" />\r\n              </button>\r\n            </div>\r\n            <div className=\"col-6-10\" />\r\n            {profileId === JSON.parse(localStorage.getItem(\"user\")).id ? (\r\n              <React.Fragment>\r\n                <div className=\"col-1-10\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"transparentButton center\"\r\n                    onClick={this.handleEdit}\r\n                  >\r\n                    <i className=\"fas fa-pencil-alt\" />\r\n                  </button>\r\n                </div>\r\n                <div className=\"col-1-10\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"transparentButton center\"\r\n                    onClick={this.handleOptions}\r\n                  >\r\n                    <i className=\"fas fa-ellipsis-v\" />\r\n                  </button>\r\n                </div>\r\n              </React.Fragment>\r\n            ) : (\r\n              <div />\r\n            )}\r\n          </div>\r\n          <img\r\n            className=\"profilePhoto horizontalCenter\"\r\n            alt=\"child's profile\"\r\n            src={photo}\r\n            onClick={this.handleImageModalOpen}\r\n          />\r\n          <h1 className=\"horizontalCenter\">{name}</h1>\r\n          <ExpandedImageModal\r\n            isOpen={imageModalIsOpen}\r\n            handleClose={this.handleImageModalClose}\r\n            image={photo}\r\n          />\r\n          <OptionsModal\r\n            isOpen={optionsModalIsOpen}\r\n            handleClose={this.handleClose}\r\n            options={options}\r\n          />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nChildProfileHeader.propTypes = {\r\n  background: PropTypes.string,\r\n  name: PropTypes.string,\r\n  photo: PropTypes.string,\r\n  match: PropTypes.object,\r\n  history: PropTypes.object,\r\n  language: PropTypes.string\r\n};\r\n\r\nexport default withRouter(withLanguage(ChildProfileHeader));\r\n"]},"metadata":{},"sourceType":"module"}