{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\src\\\\components\\\\TimeslotsContainer.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport withLanguage from \"./LanguageContext\";\nimport Texts from \"../Constants/Texts\";\nimport CreateTimeslotModal from \"./CreateTimeslotModal\";\nimport ConfirmDialog from \"./ConfirmDialog\";\n\nvar TimeslotsContainer = /*#__PURE__*/function (_React$Component) {\n  _inherits(TimeslotsContainer, _React$Component);\n\n  var _super = _createSuper(TimeslotsContainer);\n\n  function TimeslotsContainer(props) {\n    var _this;\n\n    _classCallCheck(this, TimeslotsContainer);\n\n    _this = _super.call(this, props);\n\n    _this.handleAddTimeslot = function () {\n      var timeslots = _this.state.timeslots;\n      var _this$props = _this.props,\n          activityName = _this$props.activityName,\n          activityLocation = _this$props.activityLocation,\n          activityLink = _this$props.activityLink;\n\n      _this.setState({\n        expandedTimeslot: {\n          expanded: true,\n          timeslotIndex: timeslots.length,\n          data: {\n            startTime: \"00:00\",\n            endTime: \"00:00\",\n            requiredChildren: 2,\n            requiredParents: 2,\n            description: \"\",\n            name: activityName,\n            cost: \"\",\n            category: \"other\",\n            location: activityLocation,\n            link: activityLink\n          }\n        }\n      });\n\n      var target = document.querySelector(\".ReactModalPortal\");\n      disableBodyScroll(target);\n    };\n\n    _this.renderAddTimeslot = function () {\n      var language = _this.props.language;\n      var texts = Texts[language].timeslotsContainer;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"addTimeslotContainer\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton\",\n        onClick: _this.handleAddTimeslot,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-plus\",\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"h1\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, texts.addTimeslot))));\n    };\n\n    _this.handleTimeslotModalSave = function (timeslot) {\n      var target = document.querySelector(\".ReactModalPortal\");\n      enableBodyScroll(target);\n      var handleTimeslots = _this.props.handleTimeslots;\n      var _this$state = _this.state,\n          expandedTimeslot = _this$state.expandedTimeslot,\n          dateIndex = _this$state.dateIndex;\n      var timeslots = _this.state.timeslots;\n      timeslots = timeslots.slice(0);\n\n      if (expandedTimeslot.timeslotIndex > timeslots.length - 1) {\n        timeslots.push(timeslot);\n      } else {\n        timeslots[expandedTimeslot.timeslotIndex] = Object.assign({}, timeslot);\n      }\n\n      _this.setState({\n        timeslots: timeslots,\n        expandedTimeslot: {\n          expanded: false,\n          timeslotIndex: -1,\n          data: {}\n        }\n      });\n\n      handleTimeslots(timeslots, dateIndex);\n    };\n\n    _this.handleTimeslotModalOpen = function (timeslotIndex) {\n      var timeslots = _this.state.timeslots;\n\n      _this.setState({\n        expandedTimeslot: {\n          expanded: true,\n          timeslotIndex: timeslotIndex,\n          data: timeslots[timeslotIndex]\n        }\n      });\n    };\n\n    _this.handleTimeslotModalClose = function () {\n      _this.setState({\n        expandedTimeslot: {\n          expanded: false,\n          timeslotIndex: -1,\n          data: {}\n        }\n      });\n    };\n\n    _this.handleShowTimeslots = function () {\n      var showTimeslots = _this.state.showTimeslots;\n\n      _this.setState({\n        showTimeslots: !showTimeslots\n      });\n    };\n\n    _this.handleTimeslotDelete = function (id) {\n      var _this$state2 = _this.state,\n          timeslots = _this$state2.timeslots,\n          dateIndex = _this$state2.dateIndex;\n      var handleTimeslots = _this.props.handleTimeslots;\n      timeslots.splice(id, 1);\n      handleTimeslots(timeslots, dateIndex);\n\n      _this.setState({\n        timeslots: timeslots\n      });\n    };\n\n    _this.renderTimeslots = function () {\n      var _this$state3 = _this.state,\n          timeslots = _this$state3.timeslots,\n          showTimeslots = _this$state3.showTimeslots;\n\n      if (showTimeslots) {\n        return /*#__PURE__*/React.createElement(\"ul\", {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 9\n          }\n        }, timeslots.map(function (timeslot, timeslotIndex) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: timeslotIndex,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            id: \"timeslotPreviewMain\",\n            className: \"row no-gutters\",\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"col-8-10\",\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            role: \"button\",\n            tabIndex: -42,\n            id: \"timeslotPreviewBubble\",\n            onClick: function onClick() {\n              return _this.handleTimeslotModalOpen(timeslotIndex);\n            },\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"row no-gutters\",\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"col-8-10\",\n            style: {\n              borderRight: \"1px solid #00838f\"\n            },\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"verticalCenter\",\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 27\n            }\n          }, \"\".concat(timeslot.startTime, \" : \").concat(timeslot.endTime)), /*#__PURE__*/React.createElement(\"h1\", {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 27\n            }\n          }, timeslot.name.length > 25 ? \"\".concat(timeslot.name.substr(0, 25), \"...\") : timeslot.name))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"col-2-10\",\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(\"i\", {\n            className: \"fas fa-plus-circle center\",\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 25\n            }\n          }))))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"col-2-10\",\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            type: \"button\",\n            className: \"transparentButton center\",\n            onClick: function onClick() {\n              return _this.handleConfirmDialogOpen(timeslotIndex);\n            },\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"i\", {\n            className: \"fas fa-times\",\n            style: {\n              fontSize: \"1.8rem\"\n            },\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 21\n            }\n          })))));\n        }));\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 12\n        }\n      });\n    };\n\n    _this.handleConfirmDialogClose = function (choice) {\n      var deleteId = _this.state.deleteId;\n\n      if (choice === \"agree\") {\n        _this.handleTimeslotDelete(deleteId);\n\n        _this.setState({\n          deleteId: \"\",\n          confirmDialogIsOpen: false\n        });\n      }\n\n      _this.setState({\n        deleteId: \"\",\n        confirmDialogIsOpen: false\n      });\n    };\n\n    _this.handleConfirmDialogOpen = function (id) {\n      _this.setState({\n        deleteId: id,\n        confirmDialogIsOpen: true\n      });\n    };\n\n    var _timeslots = props.timeslots,\n        _dateIndex = props.dateIndex,\n        _handleTimeslots = props.handleTimeslots;\n    _this.state = {\n      deleteId: \"\",\n      confirmDialogIsOpen: false,\n      timeslots: _timeslots,\n      showTimeslots: false,\n      dateIndex: _dateIndex,\n      expandedTimeslot: {\n        expanded: false,\n        timeslotIndex: -1,\n        data: {}\n      }\n    };\n\n    _handleTimeslots(_timeslots, _dateIndex);\n\n    return _this;\n  }\n\n  _createClass(TimeslotsContainer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          language = _this$props2.language,\n          header = _this$props2.header;\n      var texts = Texts[language].timeslotsContainer;\n      var _this$state4 = this.state,\n          showTimeslots = _this$state4.showTimeslots,\n          confirmDialogIsOpen = _this$state4.confirmDialogIsOpen,\n          timeslots = _this$state4.timeslots,\n          expandedTimeslot = _this$state4.expandedTimeslot;\n      var showTimeslotsIcon = showTimeslots ? \"fas fa-chevron-up\" : \"fas fa-chevron-down\";\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: \"timeslotPreviewContainer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        id: \"timeslotPreviewHeader\",\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 13\n        }\n      }, header)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }\n      }, \"\".concat(timeslots.length, \" \").concat(timeslots.length === 1 ? texts.timeslot : texts.timeslots))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton\",\n        onClick: this.handleShowTimeslots,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"horizontalCenter \".concat(showTimeslotsIcon),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 15\n        }\n      })))), /*#__PURE__*/React.createElement(ConfirmDialog, {\n        isOpen: confirmDialogIsOpen,\n        title: texts.confirmDialogTitle,\n        handleClose: this.handleConfirmDialogClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(CreateTimeslotModal, Object.assign({\n        handleCancel: this.handleTimeslotModalCancel,\n        handleClose: this.handleTimeslotModalClose,\n        handleSave: this.handleTimeslotModalSave\n      }, expandedTimeslot, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 9\n        }\n      })), this.renderTimeslots(), this.renderAddTimeslot());\n    }\n  }]);\n\n  return TimeslotsContainer;\n}(React.Component);\n\nexport default withLanguage(TimeslotsContainer);\nTimeslotsContainer.propTypes = {\n  dateIndex: PropTypes.number,\n  timeslots: PropTypes.array,\n  header: PropTypes.string,\n  handleTimeslots: PropTypes.func,\n  activityLocation: PropTypes.string,\n  activityName: PropTypes.string,\n  language: PropTypes.string,\n  activityLink: PropTypes.string\n};","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Families_Share-platform/client/src/components/TimeslotsContainer.js"],"names":["React","PropTypes","disableBodyScroll","enableBodyScroll","withLanguage","Texts","CreateTimeslotModal","ConfirmDialog","TimeslotsContainer","props","handleAddTimeslot","timeslots","state","activityName","activityLocation","activityLink","setState","expandedTimeslot","expanded","timeslotIndex","length","data","startTime","endTime","requiredChildren","requiredParents","description","name","cost","category","location","link","target","document","querySelector","renderAddTimeslot","language","texts","timeslotsContainer","addTimeslot","handleTimeslotModalSave","timeslot","handleTimeslots","dateIndex","slice","push","Object","assign","handleTimeslotModalOpen","handleTimeslotModalClose","handleShowTimeslots","showTimeslots","handleTimeslotDelete","id","splice","renderTimeslots","map","borderRight","substr","handleConfirmDialogOpen","fontSize","handleConfirmDialogClose","choice","deleteId","confirmDialogIsOpen","header","showTimeslotsIcon","confirmDialogTitle","handleTimeslotModalCancel","Component","propTypes","number","array","string","func"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport CreateTimeslotModal from \"./CreateTimeslotModal\";\r\nimport ConfirmDialog from \"./ConfirmDialog\";\r\n\r\nclass TimeslotsContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { timeslots, dateIndex, handleTimeslots } = props;\r\n    this.state = {\r\n      deleteId: \"\",\r\n      confirmDialogIsOpen: false,\r\n      timeslots,\r\n      showTimeslots: false,\r\n      dateIndex,\r\n      expandedTimeslot: {\r\n        expanded: false,\r\n        timeslotIndex: -1,\r\n        data: {}\r\n      }\r\n    };\r\n    handleTimeslots(timeslots, dateIndex);\r\n  }\r\n\r\n  handleAddTimeslot = () => {\r\n    const { timeslots } = this.state;\r\n    const { activityName, activityLocation, activityLink } = this.props;\r\n    this.setState({\r\n      expandedTimeslot: {\r\n        expanded: true,\r\n        timeslotIndex: timeslots.length,\r\n        data: {\r\n          startTime: \"00:00\",\r\n          endTime: \"00:00\",\r\n          requiredChildren: 2,\r\n          requiredParents: 2,\r\n          description: \"\",\r\n          name: activityName,\r\n          cost: \"\",\r\n          category: \"other\",\r\n          location: activityLocation,\r\n          link: activityLink\r\n        }\r\n      }\r\n    });\r\n    const target = document.querySelector(\".ReactModalPortal\");\r\n    disableBodyScroll(target);\r\n  };\r\n\r\n  renderAddTimeslot = () => {\r\n    const { language } = this.props;\r\n    const texts = Texts[language].timeslotsContainer;\r\n    return (\r\n      <div className=\"row no-gutters\">\r\n        <div id=\"addTimeslotContainer\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"transparentButton\"\r\n            onClick={this.handleAddTimeslot}\r\n          >\r\n            <i className=\"fas fa-plus\" />\r\n            <h1>{texts.addTimeslot}</h1>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  handleTimeslotModalSave = timeslot => {\r\n    const target = document.querySelector(\".ReactModalPortal\");\r\n    enableBodyScroll(target);\r\n    const { handleTimeslots } = this.props;\r\n    const { expandedTimeslot, dateIndex } = this.state;\r\n    let { timeslots } = this.state;\r\n    timeslots = timeslots.slice(0);\r\n    if (expandedTimeslot.timeslotIndex > timeslots.length - 1) {\r\n      timeslots.push(timeslot);\r\n    } else {\r\n      timeslots[expandedTimeslot.timeslotIndex] = Object.assign({}, timeslot);\r\n    }\r\n    this.setState({\r\n      timeslots,\r\n      expandedTimeslot: { expanded: false, timeslotIndex: -1, data: {} }\r\n    });\r\n    handleTimeslots(timeslots, dateIndex);\r\n  };\r\n\r\n  handleTimeslotModalOpen = timeslotIndex => {\r\n    const { timeslots } = this.state;\r\n    this.setState({\r\n      expandedTimeslot: {\r\n        expanded: true,\r\n        timeslotIndex,\r\n        data: timeslots[timeslotIndex]\r\n      }\r\n    });\r\n  };\r\n\r\n  handleTimeslotModalClose = () => {\r\n    this.setState({\r\n      expandedTimeslot: { expanded: false, timeslotIndex: -1, data: {} }\r\n    });\r\n  };\r\n\r\n  handleShowTimeslots = () => {\r\n    const { showTimeslots } = this.state;\r\n    this.setState({ showTimeslots: !showTimeslots });\r\n  };\r\n\r\n  handleTimeslotDelete = id => {\r\n    const { timeslots, dateIndex } = this.state;\r\n    const { handleTimeslots } = this.props;\r\n    timeslots.splice(id, 1);\r\n    handleTimeslots(timeslots, dateIndex);\r\n    this.setState({ timeslots });\r\n  };\r\n\r\n  renderTimeslots = () => {\r\n    const { timeslots, showTimeslots } = this.state;\r\n    if (showTimeslots) {\r\n      return (\r\n        <ul>\r\n          {timeslots.map((timeslot, timeslotIndex) => (\r\n            <li key={timeslotIndex}>\r\n              <div id=\"timeslotPreviewMain\" className=\"row no-gutters\">\r\n                <div className=\"col-8-10\">\r\n                  <div\r\n                    role=\"button\"\r\n                    tabIndex={-42}\r\n                    id=\"timeslotPreviewBubble\"\r\n                    onClick={() => this.handleTimeslotModalOpen(timeslotIndex)}\r\n                  >\r\n                    <div className=\"row no-gutters\">\r\n                      <div\r\n                        className=\"col-8-10\"\r\n                        style={{ borderRight: \"1px solid #00838f\" }}\r\n                      >\r\n                        <div className=\"verticalCenter\">\r\n                          <h1>\r\n                            {`${timeslot.startTime} : ${timeslot.endTime}`}\r\n                          </h1>\r\n                          <h1>\r\n                            {timeslot.name.length > 25\r\n                              ? `${timeslot.name.substr(0, 25)}...`\r\n                              : timeslot.name}\r\n                          </h1>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-2-10\">\r\n                        <i className=\"fas fa-plus-circle center\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-2-10\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"transparentButton center\"\r\n                    onClick={() => this.handleConfirmDialogOpen(timeslotIndex)}\r\n                  >\r\n                    <i\r\n                      className=\"fas fa-times\"\r\n                      style={{ fontSize: \"1.8rem\" }}\r\n                    />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      );\r\n    }\r\n    return <div />;\r\n  };\r\n\r\n  handleConfirmDialogClose = choice => {\r\n    const { deleteId } = this.state;\r\n    if (choice === \"agree\") {\r\n      this.handleTimeslotDelete(deleteId);\r\n      this.setState({ deleteId: \"\", confirmDialogIsOpen: false });\r\n    }\r\n    this.setState({ deleteId: \"\", confirmDialogIsOpen: false });\r\n  };\r\n\r\n  handleConfirmDialogOpen = id => {\r\n    this.setState({ deleteId: id, confirmDialogIsOpen: true });\r\n  };\r\n\r\n  render() {\r\n    const { language, header } = this.props;\r\n    const texts = Texts[language].timeslotsContainer;\r\n    const {\r\n      showTimeslots,\r\n      confirmDialogIsOpen,\r\n      timeslots,\r\n      expandedTimeslot\r\n    } = this.state;\r\n    const showTimeslotsIcon = showTimeslots\r\n      ? \"fas fa-chevron-up\"\r\n      : \"fas fa-chevron-down\";\r\n    return (\r\n      <div id=\"timeslotPreviewContainer\">\r\n        <div id=\"timeslotPreviewHeader\" className=\"row no-gutters\">\r\n          <div className=\"col-6-10\">\r\n            <h1 className=\"verticalCenter\">{header}</h1>\r\n          </div>\r\n          <div className=\"col-3-10\">\r\n            <h1 className=\"verticalCenter\">\r\n              {`${timeslots.length} ${\r\n                timeslots.length === 1 ? texts.timeslot : texts.timeslots\r\n              }`}\r\n            </h1>\r\n          </div>\r\n          <div className=\"col-1-10\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"transparentButton\"\r\n              onClick={this.handleShowTimeslots}\r\n            >\r\n              <i className={`horizontalCenter ${showTimeslotsIcon}`} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <ConfirmDialog\r\n          isOpen={confirmDialogIsOpen}\r\n          title={texts.confirmDialogTitle}\r\n          handleClose={this.handleConfirmDialogClose}\r\n        />\r\n        <CreateTimeslotModal\r\n          handleCancel={this.handleTimeslotModalCancel}\r\n          handleClose={this.handleTimeslotModalClose}\r\n          handleSave={this.handleTimeslotModalSave}\r\n          {...expandedTimeslot}\r\n        />\r\n        {this.renderTimeslots()}\r\n        {this.renderAddTimeslot()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withLanguage(TimeslotsContainer);\r\n\r\nTimeslotsContainer.propTypes = {\r\n  dateIndex: PropTypes.number,\r\n  timeslots: PropTypes.array,\r\n  header: PropTypes.string,\r\n  handleTimeslots: PropTypes.func,\r\n  activityLocation: PropTypes.string,\r\n  activityName: PropTypes.string,\r\n  language: PropTypes.string,\r\n  activityLink: PropTypes.string\r\n};\r\n"]},"metadata":{},"sourceType":"module"}