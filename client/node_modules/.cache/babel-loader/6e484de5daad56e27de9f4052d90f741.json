{"ast":null,"code":"import axios from \"axios\";\n\nfunction login(email, password, origin, deviceToken) {\n  var language = localStorage.getItem(\"language\");\n  var data = {\n    email: email,\n    password: password,\n    deviceToken: deviceToken,\n    language: language,\n    origin: origin\n  };\n\n  if (origin === \"native\") {\n    data.version = localStorage.getItem(\"version\");\n  }\n\n  return axios({\n    url: \"/api/users/authenticate/email\",\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    data: JSON.stringify(data)\n  }).then(function (response) {\n    var user = response.data;\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    return user;\n  }).catch(function (error) {\n    return Promise.reject(error);\n  });\n}\n\nfunction googleLogin(googleResponse, origin, deviceToken) {\n  var language = localStorage.getItem(\"language\");\n  var properResponse = {};\n\n  if (origin === \"web\") {\n    properResponse.user = {\n      givenName: googleResponse.profileObj.givenName,\n      familyName: googleResponse.profileObj.familyName,\n      photo: googleResponse.profileObj.imageUrl,\n      email: googleResponse.profileObj.email\n    };\n    properResponse.idToken = googleResponse.tokenObj.id_token;\n    properResponse.original = googleResponse;\n  } else {\n    properResponse.user = {\n      givenName: googleResponse.firstName,\n      familyName: googleResponse.lastName,\n      photo: googleResponse.photoURL,\n      email: googleResponse.email\n    };\n    properResponse.idToken = googleResponse.auth.idToken;\n    properResponse.original = googleResponse;\n  }\n\n  var data = {\n    response: properResponse,\n    origin: origin,\n    deviceToken: deviceToken,\n    language: language\n  };\n\n  if (origin === \"native\") {\n    data.version = localStorage.getItem(\"version\");\n  }\n\n  return axios({\n    url: \"/api/users/authenticate/google\",\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    data: JSON.stringify(data)\n  }).then(function (response) {\n    var user = response.data;\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    return user;\n  }).catch(function (error) {\n    return Promise.reject(error);\n  });\n}\n\nfunction logout() {\n  localStorage.removeItem(\"user\");\n}\n\nvar authenticationServices = {\n  login: login,\n  logout: logout,\n  googleLogin: googleLogin\n};\nexport default authenticationServices;","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Families_Share-platform/client/src/Services/AuthenticationServices.js"],"names":["axios","login","email","password","origin","deviceToken","language","localStorage","getItem","data","version","url","method","headers","JSON","stringify","then","response","user","setItem","catch","error","Promise","reject","googleLogin","googleResponse","properResponse","givenName","profileObj","familyName","photo","imageUrl","idToken","tokenObj","id_token","original","firstName","lastName","photoURL","auth","logout","removeItem","authenticationServices"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\n\r\nfunction login(email, password, origin, deviceToken) {\r\n  const language = localStorage.getItem(\"language\");\r\n  const data = {\r\n    email,\r\n    password,\r\n    deviceToken,\r\n    language,\r\n    origin\r\n  };\r\n  if (origin === \"native\") {\r\n    data.version = localStorage.getItem(\"version\");\r\n  }\r\n  return axios({\r\n    url: \"/api/users/authenticate/email\",\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    data: JSON.stringify(data)\r\n  })\r\n    .then(response => {\r\n      const user = response.data;\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n      return user;\r\n    })\r\n    .catch(error => Promise.reject(error));\r\n}\r\n\r\nfunction googleLogin(googleResponse, origin, deviceToken) {\r\n  const language = localStorage.getItem(\"language\");\r\n  const properResponse = {};\r\n  if (origin === \"web\") {\r\n    properResponse.user = {\r\n      givenName: googleResponse.profileObj.givenName,\r\n      familyName: googleResponse.profileObj.familyName,\r\n      photo: googleResponse.profileObj.imageUrl,\r\n      email: googleResponse.profileObj.email\r\n    };\r\n    properResponse.idToken = googleResponse.tokenObj.id_token;\r\n    properResponse.original = googleResponse;\r\n  } else {\r\n    properResponse.user = {\r\n      givenName: googleResponse.firstName,\r\n      familyName: googleResponse.lastName,\r\n      photo: googleResponse.photoURL,\r\n      email: googleResponse.email\r\n    };\r\n    properResponse.idToken = googleResponse.auth.idToken;\r\n    properResponse.original = googleResponse;\r\n  }\r\n  const data = {\r\n    response: properResponse,\r\n    origin,\r\n    deviceToken,\r\n    language\r\n  };\r\n  if (origin === \"native\") {\r\n    data.version = localStorage.getItem(\"version\");\r\n  }\r\n  return axios({\r\n    url: \"/api/users/authenticate/google\",\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    data: JSON.stringify(data)\r\n  })\r\n    .then(response => {\r\n      const user = response.data;\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n      return user;\r\n    })\r\n    .catch(error => Promise.reject(error));\r\n}\r\n\r\nfunction logout() {\r\n  localStorage.removeItem(\"user\");\r\n}\r\n\r\nconst authenticationServices = {\r\n  login,\r\n  logout,\r\n  googleLogin\r\n};\r\n\r\nexport default authenticationServices;\r\n"]},"metadata":{},"sourceType":"module"}