{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\src\\\\components\\\\ChildListItem.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport { Skeleton } from \"antd\";\nimport moment from \"moment\";\nimport { withRouter } from \"react-router-dom\";\nimport * as path from \"lodash.get\";\nimport Texts from \"../Constants/Texts\";\nimport withLanguage from \"./LanguageContext\";\nimport Avatar from \"./Avatar\";\nimport Log from \"./Log\";\n\nvar ChildListItem = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChildListItem, _React$Component);\n\n  var _super = _createSuper(ChildListItem);\n\n  function ChildListItem() {\n    var _this;\n\n    _classCallCheck(this, ChildListItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      fetchedChild: false,\n      child: {}\n    };\n    return _this;\n  }\n\n  _createClass(ChildListItem, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          userId = _this$props.userId,\n          childId = _this$props.childId;\n      axios.get(\"/api/users/\".concat(userId, \"/children/\").concat(childId)).then(function (response) {\n        var child = response.data;\n\n        _this2.setState({\n          fetchedChild: true,\n          child: child\n        });\n      }).catch(function (error) {\n        Log.error(error);\n\n        _this2.setState({\n          fetchedChild: true,\n          child: {\n            image: {\n              path: \"\"\n            },\n            birthdate: new Date(),\n            gender: \"unspecified\",\n            given_name: \"\",\n            family_name: \"\",\n            child_id: \"\"\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          language = _this$props2.language,\n          history = _this$props2.history,\n          childId = _this$props2.childId;\n      var pathname = history.location.pathname;\n      var _this$state = this.state,\n          child = _this$state.child,\n          fetchedChild = _this$state.fetchedChild;\n      var texts = Texts[language].childListItem;\n      var route = \"\".concat(pathname, \"/\").concat(childId);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: \"childContainer\",\n        className: \"row no-gutters\",\n        style: {\n          borderBottom: \"1px solid rgba(0,0,0,0.1\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 7\n        }\n      }, fetchedChild ? /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        thumbnail: path(child, [\"image\", \"path\"]),\n        route: route,\n        className: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-7-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        role: \"button\",\n        tabIndex: -42,\n        onClick: function onClick() {\n          return history.push(route);\n        },\n        id: \"childInfoContainer\",\n        className: \"verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }\n      }, \"\".concat(child.given_name, \" \").concat(child.family_name)), /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, \"\".concat(moment().diff(child.birthdate, \"years\"), \" \").concat(texts.age)), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, texts[child.gender])))) : /*#__PURE__*/React.createElement(Skeleton, {\n        avatar: true,\n        active: true,\n        paragraph: {\n          rows: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }));\n    }\n  }]);\n\n  return ChildListItem;\n}(React.Component);\n\nexport default withRouter(withLanguage(ChildListItem));\nChildListItem.propTypes = {\n  childId: PropTypes.string,\n  userId: PropTypes.string,\n  language: PropTypes.string,\n  history: PropTypes.object\n};","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Families_Share-platform/client/src/components/ChildListItem.js"],"names":["React","PropTypes","axios","Skeleton","moment","withRouter","path","Texts","withLanguage","Avatar","Log","ChildListItem","state","fetchedChild","child","props","userId","childId","get","then","response","data","setState","catch","error","image","birthdate","Date","gender","given_name","family_name","child_id","language","history","pathname","location","texts","childListItem","route","borderBottom","push","diff","age","rows","Component","propTypes","string","object"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAO,KAAKC,IAAZ,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,GAAP,MAAgB,OAAhB;;IAEMC,a;;;;;;;;;;;;;;;UACJC,K,GAAQ;AAAEC,MAAAA,YAAY,EAAE,KAAhB;AAAuBC,MAAAA,KAAK,EAAE;AAA9B,K;;;;;;wCAEY;AAAA;;AAAA,wBACU,KAAKC,KADf;AAAA,UACVC,MADU,eACVA,MADU;AAAA,UACFC,OADE,eACFA,OADE;AAElBf,MAAAA,KAAK,CACFgB,GADH,sBACqBF,MADrB,uBACwCC,OADxC,GAEGE,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChB,YAAMN,KAAK,GAAGM,QAAQ,CAACC,IAAvB;;AACA,QAAA,MAAI,CAACC,QAAL,CAAc;AAAET,UAAAA,YAAY,EAAE,IAAhB;AAAsBC,UAAAA,KAAK,EAALA;AAAtB,SAAd;AACD,OALH,EAMGS,KANH,CAMS,UAAAC,KAAK,EAAI;AACdd,QAAAA,GAAG,CAACc,KAAJ,CAAUA,KAAV;;AACA,QAAA,MAAI,CAACF,QAAL,CAAc;AACZT,UAAAA,YAAY,EAAE,IADF;AAEZC,UAAAA,KAAK,EAAE;AACLW,YAAAA,KAAK,EAAE;AAAEnB,cAAAA,IAAI,EAAE;AAAR,aADF;AAELoB,YAAAA,SAAS,EAAE,IAAIC,IAAJ,EAFN;AAGLC,YAAAA,MAAM,EAAE,aAHH;AAILC,YAAAA,UAAU,EAAE,EAJP;AAKLC,YAAAA,WAAW,EAAE,EALR;AAMLC,YAAAA,QAAQ,EAAE;AANL;AAFK,SAAd;AAWD,OAnBH;AAoBD;;;6BAEQ;AAAA,yBACgC,KAAKhB,KADrC;AAAA,UACCiB,QADD,gBACCA,QADD;AAAA,UACWC,OADX,gBACWA,OADX;AAAA,UACoBhB,OADpB,gBACoBA,OADpB;AAAA,UAECiB,QAFD,GAEcD,OAAO,CAACE,QAFtB,CAECD,QAFD;AAAA,wBAGyB,KAAKtB,KAH9B;AAAA,UAGCE,KAHD,eAGCA,KAHD;AAAA,UAGQD,YAHR,eAGQA,YAHR;AAIP,UAAMuB,KAAK,GAAG7B,KAAK,CAACyB,QAAD,CAAL,CAAgBK,aAA9B;AACA,UAAMC,KAAK,aAAMJ,QAAN,cAAkBjB,OAAlB,CAAX;AACA,0BACE;AACE,QAAA,EAAE,EAAC,gBADL;AAEE,QAAA,SAAS,EAAC,gBAFZ;AAGE,QAAA,KAAK,EAAE;AAAEsB,UAAAA,YAAY,EAAE;AAAhB,SAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKG1B,YAAY,gBACX,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AACE,QAAA,SAAS,EAAEP,IAAI,CAACQ,KAAD,EAAQ,CAAC,OAAD,EAAU,MAAV,CAAR,CADjB;AAEE,QAAA,KAAK,EAAEwB,KAFT;AAGE,QAAA,SAAS,EAAC,QAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,eAQE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,IAAI,EAAC,QADP;AAEE,QAAA,QAAQ,EAAE,CAAC,EAFb;AAGE,QAAA,OAAO,EAAE;AAAA,iBAAML,OAAO,CAACO,IAAR,CAAaF,KAAb,CAAN;AAAA,SAHX;AAIE,QAAA,EAAE,EAAC,oBAJL;AAKE,QAAA,SAAS,EAAC,gBALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAQxB,KAAK,CAACe,UAAd,cAA4Bf,KAAK,CAACgB,WAAlC,EAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACM1B,MAAM,GAAGqC,IAAT,CAAc3B,KAAK,CAACY,SAApB,EAA+B,OAA/B,CADN,cACiDU,KAAK,CAACM,GADvD,EARF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKN,KAAK,CAACtB,KAAK,CAACc,MAAP,CAAV,CAXF,CADF,CARF,CADW,gBA0BX,oBAAC,QAAD;AAAU,QAAA,MAAM,MAAhB;AAAiB,QAAA,MAAM,MAAvB;AAAwB,QAAA,SAAS,EAAE;AAAEe,UAAAA,IAAI,EAAE;AAAR,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA/BJ,CADF;AAoCD;;;;EArEyB3C,KAAK,CAAC4C,S;;AAwElC,eAAevC,UAAU,CAACG,YAAY,CAACG,aAAD,CAAb,CAAzB;AAEAA,aAAa,CAACkC,SAAd,GAA0B;AACxB5B,EAAAA,OAAO,EAAEhB,SAAS,CAAC6C,MADK;AAExB9B,EAAAA,MAAM,EAAEf,SAAS,CAAC6C,MAFM;AAGxBd,EAAAA,QAAQ,EAAE/B,SAAS,CAAC6C,MAHI;AAIxBb,EAAAA,OAAO,EAAEhC,SAAS,CAAC8C;AAJK,CAA1B","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport axios from \"axios\";\r\nimport { Skeleton } from \"antd\";\r\nimport moment from \"moment\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport * as path from \"lodash.get\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport Avatar from \"./Avatar\";\r\nimport Log from \"./Log\";\r\n\r\nclass ChildListItem extends React.Component {\r\n  state = { fetchedChild: false, child: {} };\r\n\r\n  componentDidMount() {\r\n    const { userId, childId } = this.props;\r\n    axios\r\n      .get(`/api/users/${userId}/children/${childId}`)\r\n      .then(response => {\r\n        const child = response.data;\r\n        this.setState({ fetchedChild: true, child });\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n        this.setState({\r\n          fetchedChild: true,\r\n          child: {\r\n            image: { path: \"\" },\r\n            birthdate: new Date(),\r\n            gender: \"unspecified\",\r\n            given_name: \"\",\r\n            family_name: \"\",\r\n            child_id: \"\"\r\n          }\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { language, history, childId } = this.props;\r\n    const { pathname } = history.location;\r\n    const { child, fetchedChild } = this.state;\r\n    const texts = Texts[language].childListItem;\r\n    const route = `${pathname}/${childId}`;\r\n    return (\r\n      <div\r\n        id=\"childContainer\"\r\n        className=\"row no-gutters\"\r\n        style={{ borderBottom: \"1px solid rgba(0,0,0,0.1\" }}\r\n      >\r\n        {fetchedChild ? (\r\n          <React.Fragment>\r\n            <div className=\"col-3-10\">\r\n              <Avatar\r\n                thumbnail={path(child, [\"image\", \"path\"])}\r\n                route={route}\r\n                className=\"center\"\r\n              />\r\n            </div>\r\n            <div className=\"col-7-10\">\r\n              <div\r\n                role=\"button\"\r\n                tabIndex={-42}\r\n                onClick={() => history.push(route)}\r\n                id=\"childInfoContainer\"\r\n                className=\"verticalCenter\"\r\n              >\r\n                <h1>{`${child.given_name} ${child.family_name}`}</h1>\r\n                <h1>\r\n                  {`${moment().diff(child.birthdate, \"years\")} ${texts.age}`}\r\n                </h1>\r\n                <h2>{texts[child.gender]}</h2>\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        ) : (\r\n          <Skeleton avatar active paragraph={{ rows: 1 }} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(withLanguage(ChildListItem));\r\n\r\nChildListItem.propTypes = {\r\n  childId: PropTypes.string,\r\n  userId: PropTypes.string,\r\n  language: PropTypes.string,\r\n  history: PropTypes.object\r\n};\r\n"]},"metadata":{},"sourceType":"module"}