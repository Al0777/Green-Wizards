{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Green-Wizards\\\\client\\\\src\\\\components\\\\RatingModal.js\";\nimport Modal from \"react-modal\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport Rating from \"react-rating\";\nimport Texts from \"../Constants/Texts\";\nimport withLanguage from \"./LanguageContext\";\nimport Log from \"./Log\";\nModal.setAppElement(\"#root\");\n\nvar RatingModal = /*#__PURE__*/function (_React$Component) {\n  _inherits(RatingModal, _React$Component);\n\n  var _super = _createSuper(RatingModal);\n\n  function RatingModal() {\n    var _this;\n\n    _classCallCheck(this, RatingModal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      rating: 0\n    };\n\n    _this.handleRate = function () {\n      var rating = _this.state.rating;\n      var handleClose = _this.props.handleClose;\n      var userId = JSON.parse(localStorage.getItem(\"user\")).id;\n      axios.patch(\"/api/users/\".concat(userId, \"/rating\"), {\n        rating: rating\n      }).then(function (response) {\n        Log.info(response);\n        handleClose();\n      }).catch(function (error) {\n        Log.error(error);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(RatingModal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var userId = JSON.parse(localStorage.getItem(\"user\")).id;\n      axios.get(\"/api/users/\".concat(userId, \"/rating\")).then(function (response) {\n        _this2.setState({\n          rating: response.data.rating\n        });\n      }).catch(function (error) {\n        Log.error(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          language = _this$props.language,\n          isOpen = _this$props.isOpen,\n          handleClose = _this$props.handleClose;\n      var rating = this.state.rating;\n      var texts = Texts[language].ratingModal;\n      var modalStyle = {\n        overlay: {\n          zIndex: 1000,\n          position: \"fixed\",\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: \"rgba(0, 0, 0, 0.8)\"\n        },\n        content: {\n          borderRadius: \"0.5rem\",\n          padding: \"1rem 2rem\",\n          left: \"50%\",\n          top: \"50%\",\n          position: \"relative\",\n          transform: \"translate(-50%,-50%)\",\n          backgroundColor: \"#ffffff\",\n          width: \"80%\",\n          maxWidth: \"46rem\",\n          height: \"32rem\"\n        }\n      };\n      return /*#__PURE__*/React.createElement(Modal, {\n        style: modalStyle,\n        isOpen: isOpen,\n        onRequestClose: handleClose,\n        contentLabel: \"Rating Modal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ratingLogo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ratingHeader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, texts.title), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ratingMain\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Rating, {\n        initialRating: rating,\n        onClick: function onClick(newRating) {\n          _this3.setState({\n            rating: newRating\n          });\n        },\n        emptySymbol: /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fas fa-star ratingStar\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 26\n          }\n        }),\n        fullSymbol: /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fas fa-star ratingStarSelected\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ratingFooter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"ratingGuide \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }\n      }, texts.rateInstruction), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"ratingButton\",\n        onClick: this.handleRate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }\n      }, texts.rate)));\n    }\n  }]);\n\n  return RatingModal;\n}(React.Component);\n\nRatingModal.propTypes = {\n  isOpen: PropTypes.bool,\n  handleClose: PropTypes.func,\n  language: PropTypes.string\n};\nexport default withLanguage(RatingModal);","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Green-Wizards/client/src/components/RatingModal.js"],"names":["Modal","React","PropTypes","axios","Rating","Texts","withLanguage","Log","setAppElement","RatingModal","state","rating","handleRate","handleClose","props","userId","JSON","parse","localStorage","getItem","id","patch","then","response","info","catch","error","get","setState","data","language","isOpen","texts","ratingModal","modalStyle","overlay","zIndex","position","top","left","right","bottom","backgroundColor","content","borderRadius","padding","transform","width","maxWidth","height","title","newRating","rateInstruction","rate","Component","propTypes","bool","func","string"],"mappings":"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","sourcesContent":["import Modal from \"react-modal\";\r\nimport React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport axios from \"axios\";\r\nimport Rating from \"react-rating\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport Log from \"./Log\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nclass RatingModal extends React.Component {\r\n  state = { rating: 0 };\r\n\r\n  componentDidMount() {\r\n    const userId = JSON.parse(localStorage.getItem(\"user\")).id;\r\n    axios\r\n      .get(`/api/users/${userId}/rating`)\r\n      .then(response => {\r\n        this.setState({ rating: response.data.rating });\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n      });\r\n  }\r\n\r\n  handleRate = () => {\r\n    const { rating } = this.state;\r\n    const { handleClose } = this.props;\r\n    const userId = JSON.parse(localStorage.getItem(\"user\")).id;\r\n    axios\r\n      .patch(`/api/users/${userId}/rating`, { rating })\r\n      .then(response => {\r\n        Log.info(response);\r\n        handleClose();\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const { language, isOpen, handleClose } = this.props;\r\n    const { rating } = this.state;\r\n    const texts = Texts[language].ratingModal;\r\n    const modalStyle = {\r\n      overlay: {\r\n        zIndex: 1000,\r\n        position: \"fixed\",\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: \"rgba(0, 0, 0, 0.8)\"\r\n      },\r\n      content: {\r\n        borderRadius: \"0.5rem\",\r\n        padding: \"1rem 2rem\",\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        position: \"relative\",\r\n        transform: \"translate(-50%,-50%)\",\r\n        backgroundColor: \"#ffffff\",\r\n        width: \"80%\",\r\n        maxWidth: \"46rem\",\r\n        height: \"32rem\"\r\n      }\r\n    };\r\n    return (\r\n      <Modal\r\n        style={modalStyle}\r\n        isOpen={isOpen}\r\n        onRequestClose={handleClose}\r\n        contentLabel=\"Rating Modal\"\r\n      >\r\n        {\" \"}\r\n        <div className=\"ratingLogo\" />\r\n        <div className=\"ratingHeader\">{texts.title}</div>\r\n        <div className=\"ratingMain\">\r\n          <Rating\r\n            initialRating={rating}\r\n            onClick={newRating => {\r\n              this.setState({ rating: newRating });\r\n            }}\r\n            emptySymbol={<i className=\"fas fa-star ratingStar\" />}\r\n            fullSymbol={<i className=\"fas fa-star ratingStarSelected\" />}\r\n          />\r\n        </div>\r\n        <div className=\"ratingFooter\">\r\n          <div className=\"ratingGuide \">{texts.rateInstruction}</div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"ratingButton\"\r\n            onClick={this.handleRate}\r\n          >\r\n            {texts.rate}\r\n          </button>\r\n        </div>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nRatingModal.propTypes = {\r\n  isOpen: PropTypes.bool,\r\n  handleClose: PropTypes.func,\r\n  language: PropTypes.string\r\n};\r\n\r\nexport default withLanguage(RatingModal);\r\n"]},"metadata":{},"sourceType":"module"}