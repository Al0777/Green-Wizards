{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\src\\\\components\\\\EditPlanScreen.js\";\nimport React from \"react\";\nimport autosize from \"autosize\";\nimport axios from \"axios\";\nimport PropTypes from \"prop-types\";\nimport moment from \"moment\";\nimport { Select, MenuItem } from \"@material-ui/core\";\nimport { MenuBook, EmojiNature, Museum, SportsBaseball, Commute, Mood, Cake, Event, ChildCare } from \"@material-ui/icons\";\nimport Texts from \"../Constants/Texts\";\nimport LoadingSpinner from \"./LoadingSpinner\";\nimport withLanguage from \"./LanguageContext\";\nimport Log from \"./Log\";\n\nvar EditPlanScreen = /*#__PURE__*/function (_React$Component) {\n  _inherits(EditPlanScreen, _React$Component);\n\n  var _super = _createSuper(EditPlanScreen);\n\n  function EditPlanScreen() {\n    var _this;\n\n    _classCallCheck(this, EditPlanScreen);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      fetchedPlan: false,\n      formIsValidated: false\n    };\n\n    _this.validate = function () {\n      var language = _this.props.language;\n      var texts = Texts[language].editPlanScreen;\n      var formLength = _this.formEl.length;\n\n      if (_this.formEl.checkValidity() === false) {\n        for (var i = 0; i < formLength; i += 1) {\n          var elem = _this.formEl[i];\n\n          if (elem.nodeName.toLowerCase() !== \"button\") {\n            var errorLabel = document.getElementById(\"\".concat(elem.name, \"Err\"));\n\n            if (errorLabel) {\n              if (!elem.validity.valid) {\n                if (elem.validity.valueMissing) {\n                  errorLabel.textContent = texts.requiredErr;\n                } else if (elem.validity.customError) {\n                  errorLabel.textContet = \"bla\";\n                }\n\n                errorLabel.style.display = \"block\";\n              } else {\n                errorLabel.textContent = \"\";\n                errorLabel.style.display = \"none\";\n              }\n            }\n          }\n        }\n\n        return false;\n      }\n\n      for (var _i = 0; _i < formLength; _i += 1) {\n        var _elem = _this.formEl[_i];\n\n        var _errorLabel = document.getElementById(\"\".concat(_elem.name, \"Err\"));\n\n        if (_errorLabel && _elem.nodeName.toLowerCase() !== \"button\") {\n          _errorLabel.textContent = \"\";\n          _errorLabel.style.display = \"block\";\n        }\n      }\n\n      return true;\n    };\n\n    _this.handleChange = function (event) {\n      var state = Object.assign({}, _this.state);\n      var name = event.target.name;\n      var value = event.target.value;\n      state[name] = value;\n      state.validated = false;\n\n      if (_this.validate()) {\n        state.validated = true;\n      }\n\n      _this.setState(state);\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n\n      if (_this.validate()) {\n        _this.handleSave();\n      } else {\n        _this.setState({\n          formIsValidated: true\n        });\n      }\n    };\n\n    _this.handleSave = function () {\n      var _this$props = _this.props,\n          match = _this$props.match,\n          history = _this$props.history;\n      var _match$params = match.params,\n          planId = _match$params.planId,\n          groupId = _match$params.groupId;\n      var _this$state = _this.state,\n          name = _this$state.name,\n          location = _this$state.location,\n          description = _this$state.description,\n          state = _this$state.state,\n          ratio = _this$state.ratio,\n          category = _this$state.category,\n          deadline = _this$state.deadline,\n          minVolunteers = _this$state.minVolunteers;\n\n      _this.setState({\n        fetchedActivity: false\n      });\n\n      var patch = {\n        plan: {\n          name: name,\n          location: location,\n          description: description,\n          state: state,\n          ratio: ratio,\n          deadline: new Date(deadline),\n          category: category,\n          min_volunteers: minVolunteers\n        }\n      };\n      axios.patch(\"/api/groups/\".concat(groupId, \"/plans/\").concat(planId), patch).then(function (response) {\n        Log.info(response);\n        history.goBack();\n      }).catch(function (error) {\n        Log.error(error);\n        history.goBack();\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(EditPlanScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var match = this.props.match;\n      var _match$params2 = match.params,\n          planId = _match$params2.planId,\n          groupId = _match$params2.groupId;\n      axios.get(\"/api/groups/\".concat(groupId, \"/plans/\").concat(planId)).then(function (response) {\n        var _response$data = response.data,\n            name = _response$data.name,\n            description = _response$data.description,\n            state = _response$data.state,\n            ratio = _response$data.ratio,\n            min_volunteers = _response$data.min_volunteers,\n            category = _response$data.category,\n            location = _response$data.location,\n            deadline = _response$data.deadline;\n\n        _this2.setState({\n          fetchedPlan: true,\n          name: name,\n          description: description,\n          location: location,\n          category: category,\n          ratio: ratio,\n          minVolunteers: min_volunteers,\n          state: state,\n          deadline: moment(deadline).format(\"YYYY-MM-DD\")\n        });\n      }).catch(function (error) {\n        Log.error(error);\n\n        _this2.setState({\n          fetchedPlan: true,\n          name: \"\",\n          description: \"\",\n          validated: false,\n          deadline: new Date(),\n          ratio: 0,\n          minVolunteers: 0,\n          state: 0\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state2 = this.state,\n          fetchedPlan = _this$state2.fetchedPlan,\n          name = _this$state2.name,\n          description = _this$state2.description,\n          location = _this$state2.location,\n          category = _this$state2.category,\n          deadline = _this$state2.deadline,\n          ratio = _this$state2.ratio,\n          minVolunteers = _this$state2.minVolunteers,\n          state = _this$state2.state,\n          formIsValidated = _this$state2.formIsValidated;\n      var formClass = [];\n\n      if (formIsValidated) {\n        formClass.push(\"was-validated\");\n      }\n\n      var _this$props2 = this.props,\n          language = _this$props2.language,\n          history = _this$props2.history;\n      var rowStyle = {\n        minHeight: \"5rem\"\n      };\n      var texts = Texts[language].editPlanScreen;\n      return fetchedPlan ? /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        id: \"editActivityHeaderContainer\",\n        style: {\n          position: \"fixed\",\n          width: \"100%\",\n          height: \"5.6rem\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"transparentButton center\",\n        type: \"button\",\n        onClick: function onClick() {\n          return history.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-arrow-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 15\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-6-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }\n      }, texts.backNavTitle)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"transparentButton center\",\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 15\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"editActivityMainContainer\",\n        style: {\n          padding: \"8rem 0\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        ref: function ref(form) {\n          _this3.formEl = form;\n        },\n        onSubmit: this.handleSubmit,\n        className: formClass,\n        noValidate: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-clipboard-check center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: texts.name,\n        value: name,\n        required: true,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"nameErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-map-marker-alt center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        name: \"location\",\n        required: true,\n        placeholder: texts.location,\n        value: location,\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"locationErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        style: rowStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-align-left center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        rows: \"1\",\n        required: true,\n        name: \"description\",\n        placeholder: texts.description,\n        value: description,\n        onChange: function onChange(event) {\n          _this3.handleChange(event);\n\n          autosize(document.querySelectorAll(\"textarea\"));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"invalid-feedback\",\n        id: \"descriptionErr\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-bookmark center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        style: {\n          height: \"5rem\",\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        displayEmpty: true,\n        value: category,\n        onChange: this.handleChange,\n        inputProps: {\n          name: \"category\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"learning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(MenuBook, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }\n      }, texts.learning)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"nature\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(EmojiNature, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }\n      }, texts.nature)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"tourism\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Museum, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }\n      }, texts.tourism)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"hobby\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(SportsBaseball, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 21\n        }\n      }, texts.hobby)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"accompanying\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Commute, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 21\n        }\n      }, texts.accompanying)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"entertainment\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Mood, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }\n      }, texts.entertainment)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"parties\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Cake, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }\n      }, texts.parties)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"coplaying\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Event, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }\n      }, texts.coplaying)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"other\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(ChildCare, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 21\n        }\n      }, texts.other))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-percentage center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-5-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activityInfoDescription verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 17\n        }\n      }, texts.ratio)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"ratio\",\n        value: ratio,\n        className: \"expandedTimeslotInput form-control\",\n        onChange: this.handleChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-user-friends center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-5-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activityInfoDescription verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 17\n        }\n      }, texts.minVolunteers)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"number\",\n        name: \"minVolunteers\",\n        value: minVolunteers,\n        className: \"expandedTimeslotInput form-control\",\n        onChange: this.handleChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-hourglass-half center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activityInfoDescription verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 17\n        }\n      }, texts.deadline)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-5-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"date\",\n        name: \"deadline\",\n        value: deadline,\n        className: \"expandedTimeslotInput form-control\",\n        onChange: this.handleChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-tasks center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"activityInfoDescription verticalCenter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 17\n        }\n      }, texts.state)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-5-10\",\n        style: {\n          height: \"5rem\",\n          display: \"flex\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Select, {\n        value: state,\n        displayEmpty: true,\n        onChange: this.handleChange,\n        inputProps: {\n          name: \"state\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"needs\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 21\n        }\n      }, texts.needsState)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"availabilities\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 21\n        }\n      }, texts.availabilitiesState)), /*#__PURE__*/React.createElement(MenuItem, {\n        value: \"planning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"categoryText\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 21\n        }\n      }, texts.planningState))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-7-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 17\n        }\n      }, texts[\"\".concat(state, \"StateHelper\")])))))) : /*#__PURE__*/React.createElement(LoadingSpinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 7\n        }\n      });\n    }\n  }]);\n\n  return EditPlanScreen;\n}(React.Component);\n\nexport default withLanguage(EditPlanScreen);\nEditPlanScreen.propTypes = {\n  history: PropTypes.object,\n  language: PropTypes.string,\n  match: PropTypes.object\n};","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Families_Share-platform/client/src/components/EditPlanScreen.js"],"names":["React","autosize","axios","PropTypes","moment","Select","MenuItem","MenuBook","EmojiNature","Museum","SportsBaseball","Commute","Mood","Cake","Event","ChildCare","Texts","LoadingSpinner","withLanguage","Log","EditPlanScreen","state","fetchedPlan","formIsValidated","validate","language","props","texts","editPlanScreen","formLength","formEl","length","checkValidity","i","elem","nodeName","toLowerCase","errorLabel","document","getElementById","name","validity","valid","valueMissing","textContent","requiredErr","customError","textContet","style","display","handleChange","event","Object","assign","target","value","validated","setState","handleSubmit","preventDefault","handleSave","match","history","params","planId","groupId","location","description","ratio","category","deadline","minVolunteers","fetchedActivity","patch","plan","Date","min_volunteers","then","response","info","goBack","catch","error","get","data","format","formClass","push","rowStyle","minHeight","position","width","height","backNavTitle","padding","form","querySelectorAll","learning","nature","tourism","hobby","accompanying","entertainment","parties","coplaying","other","needsState","availabilitiesState","planningState","Component","propTypes","object","string"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport autosize from \"autosize\";\r\nimport axios from \"axios\";\r\nimport PropTypes from \"prop-types\";\r\nimport moment from \"moment\";\r\nimport { Select, MenuItem } from \"@material-ui/core\";\r\nimport {\r\n  MenuBook,\r\n  EmojiNature,\r\n  Museum,\r\n  SportsBaseball,\r\n  Commute,\r\n  Mood,\r\n  Cake,\r\n  Event,\r\n  ChildCare\r\n} from \"@material-ui/icons\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport LoadingSpinner from \"./LoadingSpinner\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport Log from \"./Log\";\r\n\r\nclass EditPlanScreen extends React.Component {\r\n  state = {\r\n    fetchedPlan: false,\r\n    formIsValidated: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props;\r\n    const { planId, groupId } = match.params;\r\n    axios\r\n      .get(`/api/groups/${groupId}/plans/${planId}`)\r\n      .then(response => {\r\n        const {\r\n          name,\r\n          description,\r\n          state,\r\n          ratio,\r\n          min_volunteers,\r\n          category,\r\n          location,\r\n          deadline\r\n        } = response.data;\r\n        this.setState({\r\n          fetchedPlan: true,\r\n          name,\r\n          description,\r\n          location,\r\n          category,\r\n          ratio,\r\n          minVolunteers: min_volunteers,\r\n          state,\r\n          deadline: moment(deadline).format(\"YYYY-MM-DD\")\r\n        });\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n        this.setState({\r\n          fetchedPlan: true,\r\n          name: \"\",\r\n          description: \"\",\r\n          validated: false,\r\n          deadline: new Date(),\r\n          ratio: 0,\r\n          minVolunteers: 0,\r\n          state: 0\r\n        });\r\n      });\r\n  }\r\n\r\n  validate = () => {\r\n    const { language } = this.props;\r\n    const texts = Texts[language].editPlanScreen;\r\n    const formLength = this.formEl.length;\r\n    if (this.formEl.checkValidity() === false) {\r\n      for (let i = 0; i < formLength; i += 1) {\r\n        const elem = this.formEl[i];\r\n        if (elem.nodeName.toLowerCase() !== \"button\") {\r\n          const errorLabel = document.getElementById(`${elem.name}Err`);\r\n          if (errorLabel) {\r\n            if (!elem.validity.valid) {\r\n              if (elem.validity.valueMissing) {\r\n                errorLabel.textContent = texts.requiredErr;\r\n              } else if (elem.validity.customError) {\r\n                errorLabel.textContet = \"bla\";\r\n              }\r\n              errorLabel.style.display = \"block\";\r\n            } else {\r\n              errorLabel.textContent = \"\";\r\n              errorLabel.style.display = \"none\";\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    for (let i = 0; i < formLength; i += 1) {\r\n      const elem = this.formEl[i];\r\n      const errorLabel = document.getElementById(`${elem.name}Err`);\r\n      if (errorLabel && elem.nodeName.toLowerCase() !== \"button\") {\r\n        errorLabel.textContent = \"\";\r\n        errorLabel.style.display = \"block\";\r\n      }\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  handleChange = event => {\r\n    const state = Object.assign({}, this.state);\r\n    const { name } = event.target;\r\n    const { value } = event.target;\r\n    state[name] = value;\r\n    state.validated = false;\r\n    if (this.validate()) {\r\n      state.validated = true;\r\n    }\r\n    this.setState(state);\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (this.validate()) {\r\n      this.handleSave();\r\n    } else {\r\n      this.setState({ formIsValidated: true });\r\n    }\r\n  };\r\n\r\n  handleSave = () => {\r\n    const { match, history } = this.props;\r\n    const { planId, groupId } = match.params;\r\n    const {\r\n      name,\r\n      location,\r\n      description,\r\n      state,\r\n      ratio,\r\n      category,\r\n      deadline,\r\n      minVolunteers\r\n    } = this.state;\r\n    this.setState({ fetchedActivity: false });\r\n    const patch = {\r\n      plan: {\r\n        name,\r\n        location,\r\n        description,\r\n        state,\r\n        ratio,\r\n        deadline: new Date(deadline),\r\n        category,\r\n        min_volunteers: minVolunteers\r\n      }\r\n    };\r\n    axios\r\n      .patch(`/api/groups/${groupId}/plans/${planId}`, patch)\r\n      .then(response => {\r\n        Log.info(response);\r\n        history.goBack();\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n        history.goBack();\r\n      });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      fetchedPlan,\r\n      name,\r\n      description,\r\n      location,\r\n      category,\r\n      deadline,\r\n      ratio,\r\n      minVolunteers,\r\n      state,\r\n      formIsValidated\r\n    } = this.state;\r\n    const formClass = [];\r\n    if (formIsValidated) {\r\n      formClass.push(\"was-validated\");\r\n    }\r\n    const { language, history } = this.props;\r\n    const rowStyle = { minHeight: \"5rem\" };\r\n    const texts = Texts[language].editPlanScreen;\r\n    return fetchedPlan ? (\r\n      <React.Fragment>\r\n        <div\r\n          className=\"row no-gutters\"\r\n          id=\"editActivityHeaderContainer\"\r\n          style={{ position: \"fixed\", width: \"100%\", height: \"5.6rem\" }}\r\n        >\r\n          <div className=\"col-2-10\">\r\n            <button\r\n              className=\"transparentButton center\"\r\n              type=\"button\"\r\n              onClick={() => history.goBack()}\r\n            >\r\n              <i className=\"fas fa-arrow-left\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"col-6-10\">\r\n            <h1 className=\"verticalCenter\">{texts.backNavTitle}</h1>\r\n          </div>\r\n          <div className=\"col-2-10\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"transparentButton center\"\r\n              onClick={this.handleSubmit}\r\n            >\r\n              <i className=\"fas fa-check\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div id=\"editActivityMainContainer\" style={{ padding: \"8rem 0\" }}>\r\n          <form\r\n            ref={form => {\r\n              this.formEl = form;\r\n            }}\r\n            onSubmit={this.handleSubmit}\r\n            className={formClass}\r\n            noValidate\r\n          >\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-clipboard-check center\" />\r\n              </div>\r\n              <div className=\"col-8-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  placeholder={texts.name}\r\n                  value={name}\r\n                  required\r\n                  onChange={this.handleChange}\r\n                />\r\n                <span className=\"invalid-feedback\" id=\"nameErr\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-map-marker-alt center\" />\r\n              </div>\r\n              <div className=\"col-8-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"location\"\r\n                  required\r\n                  placeholder={texts.location}\r\n                  value={location}\r\n                  onChange={this.handleChange}\r\n                />\r\n                <span className=\"invalid-feedback\" id=\"locationErr\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\" style={rowStyle}>\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-align-left center\" />\r\n              </div>\r\n              <div className=\"col-8-10\">\r\n                <textarea\r\n                  rows=\"1\"\r\n                  required\r\n                  name=\"description\"\r\n                  placeholder={texts.description}\r\n                  value={description}\r\n                  onChange={event => {\r\n                    this.handleChange(event);\r\n                    autosize(document.querySelectorAll(\"textarea\"));\r\n                  }}\r\n                />\r\n                <span className=\"invalid-feedback\" id=\"descriptionErr\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-bookmark center\" />\r\n              </div>\r\n              <div\r\n                className=\"col-8-10\"\r\n                style={{\r\n                  height: \"5rem\",\r\n                  display: \"flex\"\r\n                }}\r\n              >\r\n                <Select\r\n                  displayEmpty\r\n                  value={category}\r\n                  onChange={this.handleChange}\r\n                  inputProps={{\r\n                    name: \"category\"\r\n                  }}\r\n                >\r\n                  <MenuItem value=\"learning\">\r\n                    <MenuBook />\r\n                    <div className=\"categoryText\">{texts.learning}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"nature\">\r\n                    <EmojiNature />\r\n                    <div className=\"categoryText\">{texts.nature}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"tourism\">\r\n                    <Museum />\r\n                    <div className=\"categoryText\">{texts.tourism}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"hobby\">\r\n                    <SportsBaseball />\r\n                    <div className=\"categoryText\">{texts.hobby}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"accompanying\">\r\n                    <Commute />\r\n                    <div className=\"categoryText\">{texts.accompanying}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"entertainment\">\r\n                    <Mood />\r\n                    <div className=\"categoryText\">{texts.entertainment}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"parties\">\r\n                    <Cake />\r\n                    <div className=\"categoryText\">{texts.parties}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"coplaying\">\r\n                    <Event />\r\n                    <div className=\"categoryText\">{texts.coplaying}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"other\">\r\n                    <ChildCare />\r\n                    <div className=\"categoryText\">{texts.other}</div>\r\n                  </MenuItem>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-percentage center\" />\r\n              </div>\r\n              <div className=\"col-5-10\">\r\n                <div className=\"activityInfoDescription verticalCenter\">\r\n                  {texts.ratio}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-2-10\">\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"ratio\"\r\n                  value={ratio}\r\n                  className=\"expandedTimeslotInput form-control\"\r\n                  onChange={this.handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-user-friends center\" />\r\n              </div>\r\n              <div className=\"col-5-10\">\r\n                <div className=\"activityInfoDescription verticalCenter\">\r\n                  {texts.minVolunteers}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-2-10\">\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"minVolunteers\"\r\n                  value={minVolunteers}\r\n                  className=\"expandedTimeslotInput form-control\"\r\n                  onChange={this.handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-hourglass-half center\" />\r\n              </div>\r\n              <div className=\"col-2-10\">\r\n                <div className=\"activityInfoDescription verticalCenter\">\r\n                  {texts.deadline}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-5-10\">\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"deadline\"\r\n                  value={deadline}\r\n                  className=\"expandedTimeslotInput form-control\"\r\n                  onChange={this.handleChange}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\">\r\n                <i className=\"fas fa-tasks center\" />\r\n              </div>\r\n              <div className=\"col-3-10\">\r\n                <div className=\"activityInfoDescription verticalCenter\">\r\n                  {texts.state}\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"col-5-10\"\r\n                style={{\r\n                  height: \"5rem\",\r\n                  display: \"flex\"\r\n                }}\r\n              >\r\n                <Select\r\n                  value={state}\r\n                  displayEmpty\r\n                  onChange={this.handleChange}\r\n                  inputProps={{\r\n                    name: \"state\"\r\n                  }}\r\n                >\r\n                  <MenuItem value=\"needs\">\r\n                    <div className=\"categoryText\">{texts.needsState}</div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"availabilities\">\r\n                    <div className=\"categoryText\">\r\n                      {texts.availabilitiesState}\r\n                    </div>\r\n                  </MenuItem>\r\n                  <MenuItem value=\"planning\">\r\n                    <div className=\"categoryText\">{texts.planningState}</div>\r\n                  </MenuItem>\r\n                </Select>\r\n              </div>\r\n            </div>\r\n            <div className=\"row no-gutters\">\r\n              <div className=\"col-2-10\" />\r\n              <div className=\"col-7-10\">\r\n                <span>{texts[`${state}StateHelper`]}</span>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </React.Fragment>\r\n    ) : (\r\n      <LoadingSpinner />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withLanguage(EditPlanScreen);\r\n\r\nEditPlanScreen.propTypes = {\r\n  history: PropTypes.object,\r\n  language: PropTypes.string,\r\n  match: PropTypes.object\r\n};\r\n"]},"metadata":{},"sourceType":"module"}