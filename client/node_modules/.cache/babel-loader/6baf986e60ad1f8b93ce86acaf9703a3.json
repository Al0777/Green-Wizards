{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\nucle\\\\Documents\\\\GitHub\\\\Families_Share-platform\\\\client\\\\src\\\\components\\\\ChildProfileInfo.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\nimport withLanguage from \"./LanguageContext\";\nimport InviteDialog from \"./InviteDialog\";\nimport Images from \"../Constants/Images\";\nimport Texts from \"../Constants/Texts\";\nimport ConfirmDialog from \"./ConfirmDialog\";\nimport Log from \"./Log\";\n\nvar ChildProfileInfo = /*#__PURE__*/function (_React$Component) {\n  _inherits(ChildProfileInfo, _React$Component);\n\n  var _super = _createSuper(ChildProfileInfo);\n\n  function ChildProfileInfo() {\n    var _this;\n\n    _classCallCheck(this, ChildProfileInfo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      modalIsOpen: false,\n      confirmDialogIsOpen: false,\n      deleteIndex: \"\"\n    };\n\n    _this.handleConfirmDialogOpen = function (index) {\n      _this.setState({\n        confirmDialogIsOpen: true,\n        deleteIndex: index\n      });\n    };\n\n    _this.handleConfirmDialogClose = function (choice) {\n      var deleteIndex = _this.state.deleteIndex;\n\n      if (choice === \"agree\") {\n        _this.deleteParent(deleteIndex);\n      }\n\n      _this.setState({\n        confirmDialogIsOpen: false,\n        deleteIndex: \"\"\n      });\n    };\n\n    _this.addParent = function () {\n      _this.setState({\n        modalIsOpen: true\n      });\n    };\n\n    _this.handleClose = function () {\n      _this.setState({\n        modalIsOpen: false\n      });\n    };\n\n    _this.deleteParent = function (index) {\n      var _this$props = _this.props,\n          match = _this$props.match,\n          parents = _this$props.parents,\n          handleDeleteParent = _this$props.handleDeleteParent;\n      var _match$params = match.params,\n          profileId = _match$params.profileId,\n          childId = _match$params.childId;\n      axios.delete(\"/api/users/\".concat(profileId, \"/children/\").concat(childId, \"/parents/\").concat(parents[index].user_id)).then(function (response) {\n        Log.info(response);\n        handleDeleteParent(index);\n      }).catch(function (error) {\n        Log.error(error);\n      });\n    };\n\n    _this.handleAdd = function (parent) {\n      var _this$props2 = _this.props,\n          match = _this$props2.match,\n          handleAddParent = _this$props2.handleAddParent;\n      var _match$params2 = match.params,\n          profileId = _match$params2.profileId,\n          childId = _match$params2.childId;\n      axios.post(\"/api/users/\".concat(profileId, \"/children/\").concat(childId, \"/parents\"), {\n        parentId: parent.user_id\n      }).then(function (response) {\n        Log.info(response);\n        handleAddParent(parent);\n      }).catch(function (error) {\n        Log.error(error);\n      });\n\n      _this.setState({\n        modalIsOpen: false\n      });\n    };\n\n    _this.handleRedirectToParent = function (parent) {\n      var history = _this.props.history;\n      history.push(\"/profiles/\".concat(parent.user_id, \"/info\"));\n    };\n\n    return _this;\n  }\n\n  _createClass(ChildProfileInfo, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props3 = this.props,\n          match = _this$props3.match,\n          language = _this$props3.language,\n          specialNeeds = _this$props3.specialNeeds,\n          otherInfo = _this$props3.otherInfo,\n          allergies = _this$props3.allergies,\n          gender = _this$props3.gender,\n          birthdate = _this$props3.birthdate,\n          showAdditional = _this$props3.showAdditional,\n          parents = _this$props3.parents;\n      var profileId = match.params.profileId;\n      var _this$state = this.state,\n          confirmDialogIsOpen = _this$state.confirmDialogIsOpen,\n          modalIsOpen = _this$state.modalIsOpen;\n      var isParent = JSON.parse(localStorage.getItem(\"user\")).id === profileId;\n      var texts = Texts[language].childProfileInfo;\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(ConfirmDialog, {\n        isOpen: confirmDialogIsOpen,\n        title: texts.confirmDialogTitle,\n        handleClose: this.handleConfirmDialogClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(InviteDialog, {\n        isOpen: modalIsOpen,\n        handleClose: this.handleClose,\n        handleInvite: this.handleAdd,\n        inviteType: \"parent\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"childProfileInfoSection\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-birthday-cake\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }\n      }, moment(birthdate).format(\"MMMM Do YYYY\")), /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }\n      }, \"\".concat(moment().diff(birthdate, \"years\"), \" \").concat(texts.age))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Images.gender,\n        alt: \"birthday icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-8-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 15\n        }\n      }, texts[gender]))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: Images.couple,\n        alt: \"birthday icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, parents[0] ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        onClick: function onClick() {\n          return _this2.handleRedirectToParent(parents[0]);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 19\n        }\n      }, \"\".concat(parents[0].given_name, \" \").concat(parents[0].family_name))) : isParent && /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"addParent\",\n        onClick: this.addParent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 19\n        }\n      }, texts.addParent)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }, parents[0] && isParent && parents.length > 1 && /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"deleteParent\",\n        onClick: function onClick() {\n          return _this2.handleConfirmDialogOpen(0);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-times\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 19\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }\n      }, parents[1] ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        onClick: function onClick() {\n          return _this2.handleRedirectToParent(parents[1]);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 19\n        }\n      }, \"\".concat(parents[1].given_name, \" \").concat(parents[1].family_name))) : isParent && /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"addParent\",\n        onClick: this.addParent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 19\n        }\n      }, texts.addParent)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-1-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }\n      }, parents[1] && isParent && parents.length > 1 ? /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"deleteParent\",\n        onClick: function onClick() {\n          return _this2.handleConfirmDialogOpen(1);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fas fa-times\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 19\n        }\n      })) : null))), showAdditional && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"childAdditionalInfoSection\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }\n      }, texts.additional), allergies && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 19\n        }\n      }, \"\".concat(texts.allergies, \":\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-7-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 19\n        }\n      }, allergies))), specialNeeds && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 19\n        }\n      }, \"\".concat(texts.specialNeeds, \":\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-7-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 19\n        }\n      }, specialNeeds))), otherInfo && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-3-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 19\n        }\n      }, \"\".concat(texts.otherInfo, \":\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-7-10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 19\n        }\n      }, otherInfo)))));\n    }\n  }]);\n\n  return ChildProfileInfo;\n}(React.Component);\n\nChildProfileInfo.propTypes = {\n  history: PropTypes.object,\n  parents: PropTypes.array,\n  birthdate: PropTypes.string,\n  gender: PropTypes.string,\n  specialNeeds: PropTypes.string,\n  otherInfo: PropTypes.string,\n  allergies: PropTypes.string,\n  showAdditional: PropTypes.bool,\n  language: PropTypes.string,\n  match: PropTypes.object,\n  handleAddParent: PropTypes.func,\n  handleDeleteParent: PropTypes.func\n};\nexport default withRouter(withLanguage(ChildProfileInfo));","map":{"version":3,"sources":["C:/Users/nucle/Documents/GitHub/Families_Share-platform/client/src/components/ChildProfileInfo.js"],"names":["React","PropTypes","moment","axios","withRouter","withLanguage","InviteDialog","Images","Texts","ConfirmDialog","Log","ChildProfileInfo","state","modalIsOpen","confirmDialogIsOpen","deleteIndex","handleConfirmDialogOpen","index","setState","handleConfirmDialogClose","choice","deleteParent","addParent","handleClose","props","match","parents","handleDeleteParent","params","profileId","childId","delete","user_id","then","response","info","catch","error","handleAdd","parent","handleAddParent","post","parentId","handleRedirectToParent","history","push","language","specialNeeds","otherInfo","allergies","gender","birthdate","showAdditional","isParent","JSON","parse","localStorage","getItem","id","texts","childProfileInfo","confirmDialogTitle","format","diff","age","couple","given_name","family_name","length","additional","Component","propTypes","object","array","string","bool","func"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport withLanguage from \"./LanguageContext\";\r\nimport InviteDialog from \"./InviteDialog\";\r\nimport Images from \"../Constants/Images\";\r\nimport Texts from \"../Constants/Texts\";\r\nimport ConfirmDialog from \"./ConfirmDialog\";\r\nimport Log from \"./Log\";\r\n\r\nclass ChildProfileInfo extends React.Component {\r\n  state = { modalIsOpen: false, confirmDialogIsOpen: false, deleteIndex: \"\" };\r\n\r\n  handleConfirmDialogOpen = index => {\r\n    this.setState({ confirmDialogIsOpen: true, deleteIndex: index });\r\n  };\r\n\r\n  handleConfirmDialogClose = choice => {\r\n    const { deleteIndex } = this.state;\r\n    if (choice === \"agree\") {\r\n      this.deleteParent(deleteIndex);\r\n    }\r\n    this.setState({ confirmDialogIsOpen: false, deleteIndex: \"\" });\r\n  };\r\n\r\n  addParent = () => {\r\n    this.setState({ modalIsOpen: true });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ modalIsOpen: false });\r\n  };\r\n\r\n  deleteParent = index => {\r\n    const { match, parents, handleDeleteParent } = this.props;\r\n    const { profileId, childId } = match.params;\r\n    axios\r\n      .delete(\r\n        `/api/users/${profileId}/children/${childId}/parents/${parents[index].user_id}`\r\n      )\r\n      .then(response => {\r\n        Log.info(response);\r\n        handleDeleteParent(index);\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n      });\r\n  };\r\n\r\n  handleAdd = parent => {\r\n    const { match, handleAddParent } = this.props;\r\n    const { profileId, childId } = match.params;\r\n    axios\r\n      .post(`/api/users/${profileId}/children/${childId}/parents`, {\r\n        parentId: parent.user_id\r\n      })\r\n      .then(response => {\r\n        Log.info(response);\r\n        handleAddParent(parent);\r\n      })\r\n      .catch(error => {\r\n        Log.error(error);\r\n      });\r\n    this.setState({ modalIsOpen: false });\r\n  };\r\n\r\n  handleRedirectToParent = parent => {\r\n    const { history } = this.props;\r\n    history.push(`/profiles/${parent.user_id}/info`);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      match,\r\n      language,\r\n      specialNeeds,\r\n      otherInfo,\r\n      allergies,\r\n      gender,\r\n      birthdate,\r\n      showAdditional,\r\n      parents\r\n    } = this.props;\r\n    const { profileId } = match.params;\r\n    const { confirmDialogIsOpen, modalIsOpen } = this.state;\r\n    const isParent = JSON.parse(localStorage.getItem(\"user\")).id === profileId;\r\n    const texts = Texts[language].childProfileInfo;\r\n    return (\r\n      <React.Fragment>\r\n        <ConfirmDialog\r\n          isOpen={confirmDialogIsOpen}\r\n          title={texts.confirmDialogTitle}\r\n          handleClose={this.handleConfirmDialogClose}\r\n        />\r\n        <InviteDialog\r\n          isOpen={modalIsOpen}\r\n          handleClose={this.handleClose}\r\n          handleInvite={this.handleAdd}\r\n          inviteType=\"parent\"\r\n        />\r\n        <div className=\"childProfileInfoSection\">\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-2-10\">\r\n              <i className=\"fas fa-birthday-cake\" />\r\n            </div>\r\n            <div className=\"col-8-10\">\r\n              <div>\r\n                <h1>{moment(birthdate).format(\"MMMM Do YYYY\")}</h1>\r\n                <h2>{`${moment().diff(birthdate, \"years\")} ${texts.age}`}</h2>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-2-10\">\r\n              <img src={Images.gender} alt=\"birthday icon\" />\r\n            </div>\r\n            <div className=\"col-8-10\">\r\n              <h1>{texts[gender]}</h1>\r\n            </div>\r\n          </div>\r\n          <div className=\"row no-gutters\">\r\n            <div className=\"col-2-10\">\r\n              <img src={Images.couple} alt=\"birthday icon\" />\r\n            </div>\r\n            <div className=\"col-3-10\">\r\n              {parents[0] ? (\r\n                <div>\r\n                  <h1 onClick={() => this.handleRedirectToParent(parents[0])}>\r\n                    {`${parents[0].given_name} ${parents[0].family_name}`}\r\n                  </h1>\r\n                </div>\r\n              ) : (\r\n                isParent && (\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"addParent\"\r\n                    onClick={this.addParent}\r\n                  >\r\n                    {texts.addParent}\r\n                  </button>\r\n                )\r\n              )}\r\n            </div>\r\n            <div className=\"col-1-10\">\r\n              {parents[0] && isParent && parents.length > 1 && (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"deleteParent\"\r\n                  onClick={() => this.handleConfirmDialogOpen(0)}\r\n                >\r\n                  <i className=\"fas fa-times\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n            <div className=\"col-3-10\">\r\n              {parents[1] ? (\r\n                <div>\r\n                  <h1 onClick={() => this.handleRedirectToParent(parents[1])}>\r\n                    {`${parents[1].given_name} ${parents[1].family_name}`}\r\n                  </h1>\r\n                </div>\r\n              ) : (\r\n                isParent && (\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"addParent\"\r\n                    onClick={this.addParent}\r\n                  >\r\n                    {texts.addParent}\r\n                  </button>\r\n                )\r\n              )}\r\n            </div>\r\n            <div className=\"col-1-10\">\r\n              {parents[1] && isParent && parents.length > 1 ? (\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"deleteParent\"\r\n                  onClick={() => this.handleConfirmDialogOpen(1)}\r\n                >\r\n                  <i className=\"fas fa-times\" />\r\n                </button>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {showAdditional && (\r\n          <div className=\"childAdditionalInfoSection\">\r\n            <h3>{texts.additional}</h3>\r\n            {allergies && (\r\n              <div className=\"row no-gutters\">\r\n                <div className=\"col-3-10\">\r\n                  <h4>{`${texts.allergies}:`}</h4>\r\n                </div>\r\n                <div className=\"col-7-10\">\r\n                  <p>{allergies}</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {specialNeeds && (\r\n              <div className=\"row no-gutters\">\r\n                <div className=\"col-3-10\">\r\n                  <h4>{`${texts.specialNeeds}:`}</h4>\r\n                </div>\r\n                <div className=\"col-7-10\">\r\n                  <p>{specialNeeds}</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {otherInfo && (\r\n              <div className=\"row no-gutters\">\r\n                <div className=\"col-3-10\">\r\n                  <h4>{`${texts.otherInfo}:`}</h4>\r\n                </div>\r\n                <div className=\"col-7-10\">\r\n                  <p>{otherInfo}</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nChildProfileInfo.propTypes = {\r\n  history: PropTypes.object,\r\n  parents: PropTypes.array,\r\n  birthdate: PropTypes.string,\r\n  gender: PropTypes.string,\r\n  specialNeeds: PropTypes.string,\r\n  otherInfo: PropTypes.string,\r\n  allergies: PropTypes.string,\r\n  showAdditional: PropTypes.bool,\r\n  language: PropTypes.string,\r\n  match: PropTypes.object,\r\n  handleAddParent: PropTypes.func,\r\n  handleDeleteParent: PropTypes.func\r\n};\r\n\r\nexport default withRouter(withLanguage(ChildProfileInfo));\r\n"]},"metadata":{},"sourceType":"module"}